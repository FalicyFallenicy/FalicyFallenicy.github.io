function uS(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Vi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function v_(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var __={exports:{}},vu={},w_={exports:{}},le={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sa=Symbol.for("react.element"),cS=Symbol.for("react.portal"),hS=Symbol.for("react.fragment"),fS=Symbol.for("react.strict_mode"),dS=Symbol.for("react.profiler"),pS=Symbol.for("react.provider"),mS=Symbol.for("react.context"),gS=Symbol.for("react.forward_ref"),yS=Symbol.for("react.suspense"),vS=Symbol.for("react.memo"),_S=Symbol.for("react.lazy"),Gm=Symbol.iterator;function wS(t){return t===null||typeof t!="object"?null:(t=Gm&&t[Gm]||t["@@iterator"],typeof t=="function"?t:null)}var E_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T_=Object.assign,S_={};function ws(t,e,n){this.props=t,this.context=e,this.refs=S_,this.updater=n||E_}ws.prototype.isReactComponent={};ws.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ws.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function A_(){}A_.prototype=ws.prototype;function ed(t,e,n){this.props=t,this.context=e,this.refs=S_,this.updater=n||E_}var td=ed.prototype=new A_;td.constructor=ed;T_(td,ws.prototype);td.isPureReactComponent=!0;var Qm=Array.isArray,I_=Object.prototype.hasOwnProperty,nd={current:null},P_={key:!0,ref:!0,__self:!0,__source:!0};function C_(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)I_.call(e,r)&&!P_.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:sa,type:t,key:s,ref:o,props:i,_owner:nd.current}}function ES(t,e){return{$$typeof:sa,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function rd(t){return typeof t=="object"&&t!==null&&t.$$typeof===sa}function TS(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Ym=/\/+/g;function Ec(t,e){return typeof t=="object"&&t!==null&&t.key!=null?TS(""+t.key):e.toString(36)}function ll(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case sa:case cS:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Ec(o,0):r,Qm(i)?(n="",t!=null&&(n=t.replace(Ym,"$&/")+"/"),ll(i,e,n,"",function(c){return c})):i!=null&&(rd(i)&&(i=ES(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Ym,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Qm(t))for(var l=0;l<t.length;l++){s=t[l];var u=r+Ec(s,l);o+=ll(s,e,n,u,i)}else if(u=wS(t),typeof u=="function")for(t=u.call(t),l=0;!(s=t.next()).done;)s=s.value,u=r+Ec(s,l++),o+=ll(s,e,n,u,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Ma(t,e,n){if(t==null)return t;var r=[],i=0;return ll(t,r,"","",function(s){return e.call(n,s,i++)}),r}function SS(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var kt={current:null},ul={transition:null},AS={ReactCurrentDispatcher:kt,ReactCurrentBatchConfig:ul,ReactCurrentOwner:nd};le.Children={map:Ma,forEach:function(t,e,n){Ma(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ma(t,function(){e++}),e},toArray:function(t){return Ma(t,function(e){return e})||[]},only:function(t){if(!rd(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};le.Component=ws;le.Fragment=hS;le.Profiler=dS;le.PureComponent=ed;le.StrictMode=fS;le.Suspense=yS;le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=AS;le.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=T_({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=nd.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(u in e)I_.call(e,u)&&!P_.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&l!==void 0?l[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];r.children=l}return{$$typeof:sa,type:t.type,key:i,ref:s,props:r,_owner:o}};le.createContext=function(t){return t={$$typeof:mS,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:pS,_context:t},t.Consumer=t};le.createElement=C_;le.createFactory=function(t){var e=C_.bind(null,t);return e.type=t,e};le.createRef=function(){return{current:null}};le.forwardRef=function(t){return{$$typeof:gS,render:t}};le.isValidElement=rd;le.lazy=function(t){return{$$typeof:_S,_payload:{_status:-1,_result:t},_init:SS}};le.memo=function(t,e){return{$$typeof:vS,type:t,compare:e===void 0?null:e}};le.startTransition=function(t){var e=ul.transition;ul.transition={};try{t()}finally{ul.transition=e}};le.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};le.useCallback=function(t,e){return kt.current.useCallback(t,e)};le.useContext=function(t){return kt.current.useContext(t)};le.useDebugValue=function(){};le.useDeferredValue=function(t){return kt.current.useDeferredValue(t)};le.useEffect=function(t,e){return kt.current.useEffect(t,e)};le.useId=function(){return kt.current.useId()};le.useImperativeHandle=function(t,e,n){return kt.current.useImperativeHandle(t,e,n)};le.useInsertionEffect=function(t,e){return kt.current.useInsertionEffect(t,e)};le.useLayoutEffect=function(t,e){return kt.current.useLayoutEffect(t,e)};le.useMemo=function(t,e){return kt.current.useMemo(t,e)};le.useReducer=function(t,e,n){return kt.current.useReducer(t,e,n)};le.useRef=function(t){return kt.current.useRef(t)};le.useState=function(t){return kt.current.useState(t)};le.useSyncExternalStore=function(t,e,n){return kt.current.useSyncExternalStore(t,e,n)};le.useTransition=function(){return kt.current.useTransition()};le.version="18.2.0";w_.exports=le;var $=w_.exports;const _u=v_($),gh=uS({__proto__:null,default:_u},[$]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IS=$,PS=Symbol.for("react.element"),CS=Symbol.for("react.fragment"),RS=Object.prototype.hasOwnProperty,xS=IS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,kS={key:!0,ref:!0,__self:!0,__source:!0};function R_(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)RS.call(e,r)&&!kS.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:PS,type:t,key:s,ref:o,props:i,_owner:xS.current}}vu.Fragment=CS;vu.jsx=R_;vu.jsxs=R_;__.exports=vu;var id=__.exports;const yh=id.Fragment,H=id.jsx,He=id.jsxs;var vh={},x_={exports:{}},Jt={},k_={exports:{}},V_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(F,U){var X=F.length;F.push(U);e:for(;0<X;){var oe=X-1>>>1,j=F[oe];if(0<i(j,U))F[oe]=U,F[X]=j,X=oe;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var U=F[0],X=F.pop();if(X!==U){F[0]=X;e:for(var oe=0,j=F.length,ee=j>>>1;oe<ee;){var Ie=2*(oe+1)-1,de=F[Ie],Te=Ie+1,ve=F[Te];if(0>i(de,X))Te<j&&0>i(ve,de)?(F[oe]=ve,F[Te]=X,oe=Te):(F[oe]=de,F[Ie]=X,oe=Ie);else if(Te<j&&0>i(ve,X))F[oe]=ve,F[Te]=X,oe=Te;else break e}}return U}function i(F,U){var X=F.sortIndex-U.sortIndex;return X!==0?X:F.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var u=[],c=[],h=1,m=null,d=3,v=!1,P=!1,k=!1,V=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I(F){for(var U=n(c);U!==null;){if(U.callback===null)r(c);else if(U.startTime<=F)r(c),U.sortIndex=U.expirationTime,e(u,U);else break;U=n(c)}}function R(F){if(k=!1,I(F),!P)if(n(u)!==null)P=!0,se(L);else{var U=n(c);U!==null&&W(R,U.startTime-F)}}function L(F,U){P=!1,k&&(k=!1,S(g),g=-1),v=!0;var X=d;try{for(I(U),m=n(u);m!==null&&(!(m.expirationTime>U)||F&&!C());){var oe=m.callback;if(typeof oe=="function"){m.callback=null,d=m.priorityLevel;var j=oe(m.expirationTime<=U);U=t.unstable_now(),typeof j=="function"?m.callback=j:m===n(u)&&r(u),I(U)}else r(u);m=n(u)}if(m!==null)var ee=!0;else{var Ie=n(c);Ie!==null&&W(R,Ie.startTime-U),ee=!1}return ee}finally{m=null,d=X,v=!1}}var O=!1,T=null,g=-1,y=5,w=-1;function C(){return!(t.unstable_now()-w<y)}function x(){if(T!==null){var F=t.unstable_now();w=F;var U=!0;try{U=T(!0,F)}finally{U?A():(O=!1,T=null)}}else O=!1}var A;if(typeof E=="function")A=function(){E(x)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,ie=Q.port2;Q.port1.onmessage=x,A=function(){ie.postMessage(null)}}else A=function(){V(x,0)};function se(F){T=F,O||(O=!0,A())}function W(F,U){g=V(function(){F(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_continueExecution=function(){P||v||(P=!0,se(L))},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):y=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(F){switch(d){case 1:case 2:case 3:var U=3;break;default:U=d}var X=d;d=U;try{return F()}finally{d=X}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(F,U){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var X=d;d=F;try{return U()}finally{d=X}},t.unstable_scheduleCallback=function(F,U,X){var oe=t.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?oe+X:oe):X=oe,F){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=X+j,F={id:h++,callback:U,priorityLevel:F,startTime:X,expirationTime:j,sortIndex:-1},X>oe?(F.sortIndex=X,e(c,F),n(u)===null&&F===n(c)&&(k?(S(g),g=-1):k=!0,W(R,X-oe))):(F.sortIndex=j,e(u,F),P||v||(P=!0,se(L))),F},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(F){var U=d;return function(){var X=d;d=U;try{return F.apply(this,arguments)}finally{d=X}}}})(V_);k_.exports=V_;var VS=k_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D_=$,Yt=VS;function B(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var N_=new Set,Co={};function _i(t,e){rs(t,e),rs(t+"Capture",e)}function rs(t,e){for(Co[t]=e,t=0;t<e.length;t++)N_.add(e[t])}var Yn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_h=Object.prototype.hasOwnProperty,DS=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Xm={},Jm={};function NS(t){return _h.call(Jm,t)?!0:_h.call(Xm,t)?!1:DS.test(t)?Jm[t]=!0:(Xm[t]=!0,!1)}function LS(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function OS(t,e,n,r){if(e===null||typeof e>"u"||LS(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Vt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var ft={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ft[t]=new Vt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ft[e]=new Vt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ft[t]=new Vt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ft[t]=new Vt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ft[t]=new Vt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ft[t]=new Vt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ft[t]=new Vt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ft[t]=new Vt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ft[t]=new Vt(t,5,!1,t.toLowerCase(),null,!1,!1)});var sd=/[\-:]([a-z])/g;function od(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(sd,od);ft[e]=new Vt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(sd,od);ft[e]=new Vt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(sd,od);ft[e]=new Vt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ft[t]=new Vt(t,1,!1,t.toLowerCase(),null,!1,!1)});ft.xlinkHref=new Vt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ft[t]=new Vt(t,1,!1,t.toLowerCase(),null,!0,!0)});function ad(t,e,n,r){var i=ft.hasOwnProperty(e)?ft[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(OS(e,n,i,r)&&(n=null),r||i===null?NS(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var nr=D_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ba=Symbol.for("react.element"),Oi=Symbol.for("react.portal"),Mi=Symbol.for("react.fragment"),ld=Symbol.for("react.strict_mode"),wh=Symbol.for("react.profiler"),L_=Symbol.for("react.provider"),O_=Symbol.for("react.context"),ud=Symbol.for("react.forward_ref"),Eh=Symbol.for("react.suspense"),Th=Symbol.for("react.suspense_list"),cd=Symbol.for("react.memo"),lr=Symbol.for("react.lazy"),M_=Symbol.for("react.offscreen"),Zm=Symbol.iterator;function js(t){return t===null||typeof t!="object"?null:(t=Zm&&t[Zm]||t["@@iterator"],typeof t=="function"?t:null)}var Be=Object.assign,Tc;function Zs(t){if(Tc===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Tc=e&&e[1]||""}return`
`+Tc+t}var Sc=!1;function Ac(t,e){if(!t||Sc)return"";Sc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var u=`
`+i[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=l);break}}}finally{Sc=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Zs(t):""}function MS(t){switch(t.tag){case 5:return Zs(t.type);case 16:return Zs("Lazy");case 13:return Zs("Suspense");case 19:return Zs("SuspenseList");case 0:case 2:case 15:return t=Ac(t.type,!1),t;case 11:return t=Ac(t.type.render,!1),t;case 1:return t=Ac(t.type,!0),t;default:return""}}function Sh(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Mi:return"Fragment";case Oi:return"Portal";case wh:return"Profiler";case ld:return"StrictMode";case Eh:return"Suspense";case Th:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case O_:return(t.displayName||"Context")+".Consumer";case L_:return(t._context.displayName||"Context")+".Provider";case ud:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case cd:return e=t.displayName||null,e!==null?e:Sh(t.type)||"Memo";case lr:e=t._payload,t=t._init;try{return Sh(t(e))}catch{}}return null}function bS(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Sh(e);case 8:return e===ld?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Vr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function b_(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function FS(t){var e=b_(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Fa(t){t._valueTracker||(t._valueTracker=FS(t))}function F_(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=b_(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Cl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Ah(t,e){var n=e.checked;return Be({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function eg(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Vr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function U_(t,e){e=e.checked,e!=null&&ad(t,"checked",e,!1)}function Ih(t,e){U_(t,e);var n=Vr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ph(t,e.type,n):e.hasOwnProperty("defaultValue")&&Ph(t,e.type,Vr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function tg(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Ph(t,e,n){(e!=="number"||Cl(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var eo=Array.isArray;function Yi(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Vr(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Ch(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(B(91));return Be({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ng(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(B(92));if(eo(n)){if(1<n.length)throw Error(B(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Vr(n)}}function B_(t,e){var n=Vr(e.value),r=Vr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function rg(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function j_(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Rh(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?j_(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ua,z_=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ua=Ua||document.createElement("div"),Ua.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ua.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ro(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ao={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},US=["Webkit","ms","Moz","O"];Object.keys(ao).forEach(function(t){US.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ao[e]=ao[t]})});function $_(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ao.hasOwnProperty(t)&&ao[t]?(""+e).trim():e+"px"}function H_(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=$_(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var BS=Be({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xh(t,e){if(e){if(BS[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(B(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(B(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(B(61))}if(e.style!=null&&typeof e.style!="object")throw Error(B(62))}}function kh(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vh=null;function hd(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Dh=null,Xi=null,Ji=null;function ig(t){if(t=la(t)){if(typeof Dh!="function")throw Error(B(280));var e=t.stateNode;e&&(e=Au(e),Dh(t.stateNode,t.type,e))}}function W_(t){Xi?Ji?Ji.push(t):Ji=[t]:Xi=t}function q_(){if(Xi){var t=Xi,e=Ji;if(Ji=Xi=null,ig(t),e)for(t=0;t<e.length;t++)ig(e[t])}}function K_(t,e){return t(e)}function G_(){}var Ic=!1;function Q_(t,e,n){if(Ic)return t(e,n);Ic=!0;try{return K_(t,e,n)}finally{Ic=!1,(Xi!==null||Ji!==null)&&(G_(),q_())}}function xo(t,e){var n=t.stateNode;if(n===null)return null;var r=Au(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(B(231,e,typeof n));return n}var Nh=!1;if(Yn)try{var zs={};Object.defineProperty(zs,"passive",{get:function(){Nh=!0}}),window.addEventListener("test",zs,zs),window.removeEventListener("test",zs,zs)}catch{Nh=!1}function jS(t,e,n,r,i,s,o,l,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(h){this.onError(h)}}var lo=!1,Rl=null,xl=!1,Lh=null,zS={onError:function(t){lo=!0,Rl=t}};function $S(t,e,n,r,i,s,o,l,u){lo=!1,Rl=null,jS.apply(zS,arguments)}function HS(t,e,n,r,i,s,o,l,u){if($S.apply(this,arguments),lo){if(lo){var c=Rl;lo=!1,Rl=null}else throw Error(B(198));xl||(xl=!0,Lh=c)}}function wi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Y_(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function sg(t){if(wi(t)!==t)throw Error(B(188))}function WS(t){var e=t.alternate;if(!e){if(e=wi(t),e===null)throw Error(B(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return sg(i),t;if(s===r)return sg(i),e;s=s.sibling}throw Error(B(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(B(189))}}if(n.alternate!==r)throw Error(B(190))}if(n.tag!==3)throw Error(B(188));return n.stateNode.current===n?t:e}function X_(t){return t=WS(t),t!==null?J_(t):null}function J_(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=J_(t);if(e!==null)return e;t=t.sibling}return null}var Z_=Yt.unstable_scheduleCallback,og=Yt.unstable_cancelCallback,qS=Yt.unstable_shouldYield,KS=Yt.unstable_requestPaint,qe=Yt.unstable_now,GS=Yt.unstable_getCurrentPriorityLevel,fd=Yt.unstable_ImmediatePriority,e0=Yt.unstable_UserBlockingPriority,kl=Yt.unstable_NormalPriority,QS=Yt.unstable_LowPriority,t0=Yt.unstable_IdlePriority,wu=null,kn=null;function YS(t){if(kn&&typeof kn.onCommitFiberRoot=="function")try{kn.onCommitFiberRoot(wu,t,void 0,(t.current.flags&128)===128)}catch{}}var _n=Math.clz32?Math.clz32:ZS,XS=Math.log,JS=Math.LN2;function ZS(t){return t>>>=0,t===0?32:31-(XS(t)/JS|0)|0}var Ba=64,ja=4194304;function to(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Vl(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=to(l):(s&=o,s!==0&&(r=to(s)))}else o=n&~i,o!==0?r=to(o):s!==0&&(r=to(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-_n(e),i=1<<n,r|=t[n],e&=~i;return r}function eA(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tA(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-_n(s),l=1<<o,u=i[o];u===-1?(!(l&n)||l&r)&&(i[o]=eA(l,e)):u<=e&&(t.expiredLanes|=l),s&=~l}}function Oh(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function n0(){var t=Ba;return Ba<<=1,!(Ba&4194240)&&(Ba=64),t}function Pc(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function oa(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-_n(e),t[e]=n}function nA(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-_n(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function dd(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-_n(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var _e=0;function r0(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var i0,pd,s0,o0,a0,Mh=!1,za=[],gr=null,yr=null,vr=null,ko=new Map,Vo=new Map,hr=[],rA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ag(t,e){switch(t){case"focusin":case"focusout":gr=null;break;case"dragenter":case"dragleave":yr=null;break;case"mouseover":case"mouseout":vr=null;break;case"pointerover":case"pointerout":ko.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vo.delete(e.pointerId)}}function $s(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=la(e),e!==null&&pd(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function iA(t,e,n,r,i){switch(e){case"focusin":return gr=$s(gr,t,e,n,r,i),!0;case"dragenter":return yr=$s(yr,t,e,n,r,i),!0;case"mouseover":return vr=$s(vr,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return ko.set(s,$s(ko.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Vo.set(s,$s(Vo.get(s)||null,t,e,n,r,i)),!0}return!1}function l0(t){var e=ei(t.target);if(e!==null){var n=wi(e);if(n!==null){if(e=n.tag,e===13){if(e=Y_(n),e!==null){t.blockedOn=e,a0(t.priority,function(){s0(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function cl(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=bh(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Vh=r,n.target.dispatchEvent(r),Vh=null}else return e=la(n),e!==null&&pd(e),t.blockedOn=n,!1;e.shift()}return!0}function lg(t,e,n){cl(t)&&n.delete(e)}function sA(){Mh=!1,gr!==null&&cl(gr)&&(gr=null),yr!==null&&cl(yr)&&(yr=null),vr!==null&&cl(vr)&&(vr=null),ko.forEach(lg),Vo.forEach(lg)}function Hs(t,e){t.blockedOn===e&&(t.blockedOn=null,Mh||(Mh=!0,Yt.unstable_scheduleCallback(Yt.unstable_NormalPriority,sA)))}function Do(t){function e(i){return Hs(i,t)}if(0<za.length){Hs(za[0],t);for(var n=1;n<za.length;n++){var r=za[n];r.blockedOn===t&&(r.blockedOn=null)}}for(gr!==null&&Hs(gr,t),yr!==null&&Hs(yr,t),vr!==null&&Hs(vr,t),ko.forEach(e),Vo.forEach(e),n=0;n<hr.length;n++)r=hr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<hr.length&&(n=hr[0],n.blockedOn===null);)l0(n),n.blockedOn===null&&hr.shift()}var Zi=nr.ReactCurrentBatchConfig,Dl=!0;function oA(t,e,n,r){var i=_e,s=Zi.transition;Zi.transition=null;try{_e=1,md(t,e,n,r)}finally{_e=i,Zi.transition=s}}function aA(t,e,n,r){var i=_e,s=Zi.transition;Zi.transition=null;try{_e=4,md(t,e,n,r)}finally{_e=i,Zi.transition=s}}function md(t,e,n,r){if(Dl){var i=bh(t,e,n,r);if(i===null)Mc(t,e,r,Nl,n),ag(t,r);else if(iA(i,t,e,n,r))r.stopPropagation();else if(ag(t,r),e&4&&-1<rA.indexOf(t)){for(;i!==null;){var s=la(i);if(s!==null&&i0(s),s=bh(t,e,n,r),s===null&&Mc(t,e,r,Nl,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Mc(t,e,r,null,n)}}var Nl=null;function bh(t,e,n,r){if(Nl=null,t=hd(r),t=ei(t),t!==null)if(e=wi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Y_(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Nl=t,null}function u0(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(GS()){case fd:return 1;case e0:return 4;case kl:case QS:return 16;case t0:return 536870912;default:return 16}default:return 16}}var dr=null,gd=null,hl=null;function c0(){if(hl)return hl;var t,e=gd,n=e.length,r,i="value"in dr?dr.value:dr.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return hl=i.slice(t,1<r?1-r:void 0)}function fl(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function $a(){return!0}function ug(){return!1}function Zt(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?$a:ug,this.isPropagationStopped=ug,this}return Be(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=$a)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=$a)},persist:function(){},isPersistent:$a}),e}var Es={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yd=Zt(Es),aa=Be({},Es,{view:0,detail:0}),lA=Zt(aa),Cc,Rc,Ws,Eu=Be({},aa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vd,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ws&&(Ws&&t.type==="mousemove"?(Cc=t.screenX-Ws.screenX,Rc=t.screenY-Ws.screenY):Rc=Cc=0,Ws=t),Cc)},movementY:function(t){return"movementY"in t?t.movementY:Rc}}),cg=Zt(Eu),uA=Be({},Eu,{dataTransfer:0}),cA=Zt(uA),hA=Be({},aa,{relatedTarget:0}),xc=Zt(hA),fA=Be({},Es,{animationName:0,elapsedTime:0,pseudoElement:0}),dA=Zt(fA),pA=Be({},Es,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),mA=Zt(pA),gA=Be({},Es,{data:0}),hg=Zt(gA),yA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_A={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wA(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=_A[t])?!!e[t]:!1}function vd(){return wA}var EA=Be({},aa,{key:function(t){if(t.key){var e=yA[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=fl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?vA[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vd,charCode:function(t){return t.type==="keypress"?fl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?fl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),TA=Zt(EA),SA=Be({},Eu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fg=Zt(SA),AA=Be({},aa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vd}),IA=Zt(AA),PA=Be({},Es,{propertyName:0,elapsedTime:0,pseudoElement:0}),CA=Zt(PA),RA=Be({},Eu,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),xA=Zt(RA),kA=[9,13,27,32],_d=Yn&&"CompositionEvent"in window,uo=null;Yn&&"documentMode"in document&&(uo=document.documentMode);var VA=Yn&&"TextEvent"in window&&!uo,h0=Yn&&(!_d||uo&&8<uo&&11>=uo),dg=String.fromCharCode(32),pg=!1;function f0(t,e){switch(t){case"keyup":return kA.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function d0(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var bi=!1;function DA(t,e){switch(t){case"compositionend":return d0(e);case"keypress":return e.which!==32?null:(pg=!0,dg);case"textInput":return t=e.data,t===dg&&pg?null:t;default:return null}}function NA(t,e){if(bi)return t==="compositionend"||!_d&&f0(t,e)?(t=c0(),hl=gd=dr=null,bi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return h0&&e.locale!=="ko"?null:e.data;default:return null}}var LA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!LA[t.type]:e==="textarea"}function p0(t,e,n,r){W_(r),e=Ll(e,"onChange"),0<e.length&&(n=new yd("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var co=null,No=null;function OA(t){I0(t,0)}function Tu(t){var e=Bi(t);if(F_(e))return t}function MA(t,e){if(t==="change")return e}var m0=!1;if(Yn){var kc;if(Yn){var Vc="oninput"in document;if(!Vc){var gg=document.createElement("div");gg.setAttribute("oninput","return;"),Vc=typeof gg.oninput=="function"}kc=Vc}else kc=!1;m0=kc&&(!document.documentMode||9<document.documentMode)}function yg(){co&&(co.detachEvent("onpropertychange",g0),No=co=null)}function g0(t){if(t.propertyName==="value"&&Tu(No)){var e=[];p0(e,No,t,hd(t)),Q_(OA,e)}}function bA(t,e,n){t==="focusin"?(yg(),co=e,No=n,co.attachEvent("onpropertychange",g0)):t==="focusout"&&yg()}function FA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Tu(No)}function UA(t,e){if(t==="click")return Tu(e)}function BA(t,e){if(t==="input"||t==="change")return Tu(e)}function jA(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Tn=typeof Object.is=="function"?Object.is:jA;function Lo(t,e){if(Tn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!_h.call(e,i)||!Tn(t[i],e[i]))return!1}return!0}function vg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function _g(t,e){var n=vg(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=vg(n)}}function y0(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?y0(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function v0(){for(var t=window,e=Cl();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Cl(t.document)}return e}function wd(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function zA(t){var e=v0(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&y0(n.ownerDocument.documentElement,n)){if(r!==null&&wd(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=_g(n,s);var o=_g(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var $A=Yn&&"documentMode"in document&&11>=document.documentMode,Fi=null,Fh=null,ho=null,Uh=!1;function wg(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Uh||Fi==null||Fi!==Cl(r)||(r=Fi,"selectionStart"in r&&wd(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ho&&Lo(ho,r)||(ho=r,r=Ll(Fh,"onSelect"),0<r.length&&(e=new yd("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Fi)))}function Ha(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ui={animationend:Ha("Animation","AnimationEnd"),animationiteration:Ha("Animation","AnimationIteration"),animationstart:Ha("Animation","AnimationStart"),transitionend:Ha("Transition","TransitionEnd")},Dc={},_0={};Yn&&(_0=document.createElement("div").style,"AnimationEvent"in window||(delete Ui.animationend.animation,delete Ui.animationiteration.animation,delete Ui.animationstart.animation),"TransitionEvent"in window||delete Ui.transitionend.transition);function Su(t){if(Dc[t])return Dc[t];if(!Ui[t])return t;var e=Ui[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in _0)return Dc[t]=e[n];return t}var w0=Su("animationend"),E0=Su("animationiteration"),T0=Su("animationstart"),S0=Su("transitionend"),A0=new Map,Eg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Fr(t,e){A0.set(t,e),_i(e,[t])}for(var Nc=0;Nc<Eg.length;Nc++){var Lc=Eg[Nc],HA=Lc.toLowerCase(),WA=Lc[0].toUpperCase()+Lc.slice(1);Fr(HA,"on"+WA)}Fr(w0,"onAnimationEnd");Fr(E0,"onAnimationIteration");Fr(T0,"onAnimationStart");Fr("dblclick","onDoubleClick");Fr("focusin","onFocus");Fr("focusout","onBlur");Fr(S0,"onTransitionEnd");rs("onMouseEnter",["mouseout","mouseover"]);rs("onMouseLeave",["mouseout","mouseover"]);rs("onPointerEnter",["pointerout","pointerover"]);rs("onPointerLeave",["pointerout","pointerover"]);_i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));_i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));_i("onBeforeInput",["compositionend","keypress","textInput","paste"]);_i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));_i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));_i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var no="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qA=new Set("cancel close invalid load scroll toggle".split(" ").concat(no));function Tg(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,HS(r,e,void 0,t),t.currentTarget=null}function I0(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],u=l.instance,c=l.currentTarget;if(l=l.listener,u!==s&&i.isPropagationStopped())break e;Tg(i,l,c),s=u}else for(o=0;o<r.length;o++){if(l=r[o],u=l.instance,c=l.currentTarget,l=l.listener,u!==s&&i.isPropagationStopped())break e;Tg(i,l,c),s=u}}}if(xl)throw t=Lh,xl=!1,Lh=null,t}function Ve(t,e){var n=e[Hh];n===void 0&&(n=e[Hh]=new Set);var r=t+"__bubble";n.has(r)||(P0(e,t,2,!1),n.add(r))}function Oc(t,e,n){var r=0;e&&(r|=4),P0(n,t,r,e)}var Wa="_reactListening"+Math.random().toString(36).slice(2);function Oo(t){if(!t[Wa]){t[Wa]=!0,N_.forEach(function(n){n!=="selectionchange"&&(qA.has(n)||Oc(n,!1,t),Oc(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Wa]||(e[Wa]=!0,Oc("selectionchange",!1,e))}}function P0(t,e,n,r){switch(u0(e)){case 1:var i=oA;break;case 4:i=aA;break;default:i=md}n=i.bind(null,e,n,t),i=void 0,!Nh||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Mc(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;l!==null;){if(o=ei(l),o===null)return;if(u=o.tag,u===5||u===6){r=s=o;continue e}l=l.parentNode}}r=r.return}Q_(function(){var c=s,h=hd(n),m=[];e:{var d=A0.get(t);if(d!==void 0){var v=yd,P=t;switch(t){case"keypress":if(fl(n)===0)break e;case"keydown":case"keyup":v=TA;break;case"focusin":P="focus",v=xc;break;case"focusout":P="blur",v=xc;break;case"beforeblur":case"afterblur":v=xc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=cg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=cA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=IA;break;case w0:case E0:case T0:v=dA;break;case S0:v=CA;break;case"scroll":v=lA;break;case"wheel":v=xA;break;case"copy":case"cut":case"paste":v=mA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=fg}var k=(e&4)!==0,V=!k&&t==="scroll",S=k?d!==null?d+"Capture":null:d;k=[];for(var E=c,I;E!==null;){I=E;var R=I.stateNode;if(I.tag===5&&R!==null&&(I=R,S!==null&&(R=xo(E,S),R!=null&&k.push(Mo(E,R,I)))),V)break;E=E.return}0<k.length&&(d=new v(d,P,null,n,h),m.push({event:d,listeners:k}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",d&&n!==Vh&&(P=n.relatedTarget||n.fromElement)&&(ei(P)||P[Xn]))break e;if((v||d)&&(d=h.window===h?h:(d=h.ownerDocument)?d.defaultView||d.parentWindow:window,v?(P=n.relatedTarget||n.toElement,v=c,P=P?ei(P):null,P!==null&&(V=wi(P),P!==V||P.tag!==5&&P.tag!==6)&&(P=null)):(v=null,P=c),v!==P)){if(k=cg,R="onMouseLeave",S="onMouseEnter",E="mouse",(t==="pointerout"||t==="pointerover")&&(k=fg,R="onPointerLeave",S="onPointerEnter",E="pointer"),V=v==null?d:Bi(v),I=P==null?d:Bi(P),d=new k(R,E+"leave",v,n,h),d.target=V,d.relatedTarget=I,R=null,ei(h)===c&&(k=new k(S,E+"enter",P,n,h),k.target=I,k.relatedTarget=V,R=k),V=R,v&&P)t:{for(k=v,S=P,E=0,I=k;I;I=ki(I))E++;for(I=0,R=S;R;R=ki(R))I++;for(;0<E-I;)k=ki(k),E--;for(;0<I-E;)S=ki(S),I--;for(;E--;){if(k===S||S!==null&&k===S.alternate)break t;k=ki(k),S=ki(S)}k=null}else k=null;v!==null&&Sg(m,d,v,k,!1),P!==null&&V!==null&&Sg(m,V,P,k,!0)}}e:{if(d=c?Bi(c):window,v=d.nodeName&&d.nodeName.toLowerCase(),v==="select"||v==="input"&&d.type==="file")var L=MA;else if(mg(d))if(m0)L=BA;else{L=FA;var O=bA}else(v=d.nodeName)&&v.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(L=UA);if(L&&(L=L(t,c))){p0(m,L,n,h);break e}O&&O(t,d,c),t==="focusout"&&(O=d._wrapperState)&&O.controlled&&d.type==="number"&&Ph(d,"number",d.value)}switch(O=c?Bi(c):window,t){case"focusin":(mg(O)||O.contentEditable==="true")&&(Fi=O,Fh=c,ho=null);break;case"focusout":ho=Fh=Fi=null;break;case"mousedown":Uh=!0;break;case"contextmenu":case"mouseup":case"dragend":Uh=!1,wg(m,n,h);break;case"selectionchange":if($A)break;case"keydown":case"keyup":wg(m,n,h)}var T;if(_d)e:{switch(t){case"compositionstart":var g="onCompositionStart";break e;case"compositionend":g="onCompositionEnd";break e;case"compositionupdate":g="onCompositionUpdate";break e}g=void 0}else bi?f0(t,n)&&(g="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(g="onCompositionStart");g&&(h0&&n.locale!=="ko"&&(bi||g!=="onCompositionStart"?g==="onCompositionEnd"&&bi&&(T=c0()):(dr=h,gd="value"in dr?dr.value:dr.textContent,bi=!0)),O=Ll(c,g),0<O.length&&(g=new hg(g,t,null,n,h),m.push({event:g,listeners:O}),T?g.data=T:(T=d0(n),T!==null&&(g.data=T)))),(T=VA?DA(t,n):NA(t,n))&&(c=Ll(c,"onBeforeInput"),0<c.length&&(h=new hg("onBeforeInput","beforeinput",null,n,h),m.push({event:h,listeners:c}),h.data=T))}I0(m,e)})}function Mo(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ll(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=xo(t,n),s!=null&&r.unshift(Mo(t,s,i)),s=xo(t,e),s!=null&&r.push(Mo(t,s,i))),t=t.return}return r}function ki(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Sg(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var l=n,u=l.alternate,c=l.stateNode;if(u!==null&&u===r)break;l.tag===5&&c!==null&&(l=c,i?(u=xo(n,s),u!=null&&o.unshift(Mo(n,u,l))):i||(u=xo(n,s),u!=null&&o.push(Mo(n,u,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var KA=/\r\n?/g,GA=/\u0000|\uFFFD/g;function Ag(t){return(typeof t=="string"?t:""+t).replace(KA,`
`).replace(GA,"")}function qa(t,e,n){if(e=Ag(e),Ag(t)!==e&&n)throw Error(B(425))}function Ol(){}var Bh=null,jh=null;function zh(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var $h=typeof setTimeout=="function"?setTimeout:void 0,QA=typeof clearTimeout=="function"?clearTimeout:void 0,Ig=typeof Promise=="function"?Promise:void 0,YA=typeof queueMicrotask=="function"?queueMicrotask:typeof Ig<"u"?function(t){return Ig.resolve(null).then(t).catch(XA)}:$h;function XA(t){setTimeout(function(){throw t})}function bc(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Do(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Do(e)}function _r(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Pg(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ts=Math.random().toString(36).slice(2),xn="__reactFiber$"+Ts,bo="__reactProps$"+Ts,Xn="__reactContainer$"+Ts,Hh="__reactEvents$"+Ts,JA="__reactListeners$"+Ts,ZA="__reactHandles$"+Ts;function ei(t){var e=t[xn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Xn]||n[xn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Pg(t);t!==null;){if(n=t[xn])return n;t=Pg(t)}return e}t=n,n=t.parentNode}return null}function la(t){return t=t[xn]||t[Xn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Bi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(B(33))}function Au(t){return t[bo]||null}var Wh=[],ji=-1;function Ur(t){return{current:t}}function Ne(t){0>ji||(t.current=Wh[ji],Wh[ji]=null,ji--)}function Re(t,e){ji++,Wh[ji]=t.current,t.current=e}var Dr={},St=Ur(Dr),Ft=Ur(!1),ui=Dr;function is(t,e){var n=t.type.contextTypes;if(!n)return Dr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Ut(t){return t=t.childContextTypes,t!=null}function Ml(){Ne(Ft),Ne(St)}function Cg(t,e,n){if(St.current!==Dr)throw Error(B(168));Re(St,e),Re(Ft,n)}function C0(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(B(108,bS(t)||"Unknown",i));return Be({},n,r)}function bl(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Dr,ui=St.current,Re(St,t),Re(Ft,Ft.current),!0}function Rg(t,e,n){var r=t.stateNode;if(!r)throw Error(B(169));n?(t=C0(t,e,ui),r.__reactInternalMemoizedMergedChildContext=t,Ne(Ft),Ne(St),Re(St,t)):Ne(Ft),Re(Ft,n)}var $n=null,Iu=!1,Fc=!1;function R0(t){$n===null?$n=[t]:$n.push(t)}function eI(t){Iu=!0,R0(t)}function Br(){if(!Fc&&$n!==null){Fc=!0;var t=0,e=_e;try{var n=$n;for(_e=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}$n=null,Iu=!1}catch(i){throw $n!==null&&($n=$n.slice(t+1)),Z_(fd,Br),i}finally{_e=e,Fc=!1}}return null}var zi=[],$i=0,Fl=null,Ul=0,nn=[],rn=0,ci=null,Hn=1,Wn="";function Qr(t,e){zi[$i++]=Ul,zi[$i++]=Fl,Fl=t,Ul=e}function x0(t,e,n){nn[rn++]=Hn,nn[rn++]=Wn,nn[rn++]=ci,ci=t;var r=Hn;t=Wn;var i=32-_n(r)-1;r&=~(1<<i),n+=1;var s=32-_n(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Hn=1<<32-_n(e)+i|n<<i|r,Wn=s+t}else Hn=1<<s|n<<i|r,Wn=t}function Ed(t){t.return!==null&&(Qr(t,1),x0(t,1,0))}function Td(t){for(;t===Fl;)Fl=zi[--$i],zi[$i]=null,Ul=zi[--$i],zi[$i]=null;for(;t===ci;)ci=nn[--rn],nn[rn]=null,Wn=nn[--rn],nn[rn]=null,Hn=nn[--rn],nn[rn]=null}var Gt=null,qt=null,Le=!1,yn=null;function k0(t,e){var n=sn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function xg(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Gt=t,qt=_r(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Gt=t,qt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ci!==null?{id:Hn,overflow:Wn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=sn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Gt=t,qt=null,!0):!1;default:return!1}}function qh(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Kh(t){if(Le){var e=qt;if(e){var n=e;if(!xg(t,e)){if(qh(t))throw Error(B(418));e=_r(n.nextSibling);var r=Gt;e&&xg(t,e)?k0(r,n):(t.flags=t.flags&-4097|2,Le=!1,Gt=t)}}else{if(qh(t))throw Error(B(418));t.flags=t.flags&-4097|2,Le=!1,Gt=t}}}function kg(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Gt=t}function Ka(t){if(t!==Gt)return!1;if(!Le)return kg(t),Le=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!zh(t.type,t.memoizedProps)),e&&(e=qt)){if(qh(t))throw V0(),Error(B(418));for(;e;)k0(t,e),e=_r(e.nextSibling)}if(kg(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(B(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){qt=_r(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}qt=null}}else qt=Gt?_r(t.stateNode.nextSibling):null;return!0}function V0(){for(var t=qt;t;)t=_r(t.nextSibling)}function ss(){qt=Gt=null,Le=!1}function Sd(t){yn===null?yn=[t]:yn.push(t)}var tI=nr.ReactCurrentBatchConfig;function mn(t,e){if(t&&t.defaultProps){e=Be({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Bl=Ur(null),jl=null,Hi=null,Ad=null;function Id(){Ad=Hi=jl=null}function Pd(t){var e=Bl.current;Ne(Bl),t._currentValue=e}function Gh(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function es(t,e){jl=t,Ad=Hi=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(bt=!0),t.firstContext=null)}function ln(t){var e=t._currentValue;if(Ad!==t)if(t={context:t,memoizedValue:e,next:null},Hi===null){if(jl===null)throw Error(B(308));Hi=t,jl.dependencies={lanes:0,firstContext:t}}else Hi=Hi.next=t;return e}var ti=null;function Cd(t){ti===null?ti=[t]:ti.push(t)}function D0(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Cd(e)):(n.next=i.next,i.next=n),e.interleaved=n,Jn(t,r)}function Jn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ur=!1;function Rd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function N0(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Kn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function wr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,fe&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Jn(t,n)}return i=r.interleaved,i===null?(e.next=e,Cd(r)):(e.next=i.next,i.next=e),r.interleaved=e,Jn(t,n)}function dl(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,dd(t,n)}}function Vg(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function zl(t,e,n,r){var i=t.updateQueue;ur=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var u=l,c=u.next;u.next=null,o===null?s=c:o.next=c,o=u;var h=t.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==o&&(l===null?h.firstBaseUpdate=c:l.next=c,h.lastBaseUpdate=u))}if(s!==null){var m=i.baseState;o=0,h=c=u=null,l=s;do{var d=l.lane,v=l.eventTime;if((r&d)===d){h!==null&&(h=h.next={eventTime:v,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var P=t,k=l;switch(d=e,v=n,k.tag){case 1:if(P=k.payload,typeof P=="function"){m=P.call(v,m,d);break e}m=P;break e;case 3:P.flags=P.flags&-65537|128;case 0:if(P=k.payload,d=typeof P=="function"?P.call(v,m,d):P,d==null)break e;m=Be({},m,d);break e;case 2:ur=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[l]:d.push(l))}else v={eventTime:v,lane:d,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(c=h=v,u=m):h=h.next=v,o|=d;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;d=l,l=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(1);if(h===null&&(u=m),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);fi|=o,t.lanes=o,t.memoizedState=m}}function Dg(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(B(191,i));i.call(r)}}}var L0=new D_.Component().refs;function Qh(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Be({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Pu={isMounted:function(t){return(t=t._reactInternals)?wi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Rt(),i=Tr(t),s=Kn(r,i);s.payload=e,n!=null&&(s.callback=n),e=wr(t,s,i),e!==null&&(wn(e,t,i,r),dl(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Rt(),i=Tr(t),s=Kn(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=wr(t,s,i),e!==null&&(wn(e,t,i,r),dl(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Rt(),r=Tr(t),i=Kn(n,r);i.tag=2,e!=null&&(i.callback=e),e=wr(t,i,r),e!==null&&(wn(e,t,r,n),dl(e,t,r))}};function Ng(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Lo(n,r)||!Lo(i,s):!0}function O0(t,e,n){var r=!1,i=Dr,s=e.contextType;return typeof s=="object"&&s!==null?s=ln(s):(i=Ut(e)?ui:St.current,r=e.contextTypes,s=(r=r!=null)?is(t,i):Dr),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Pu,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Lg(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Pu.enqueueReplaceState(e,e.state,null)}function Yh(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=L0,Rd(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=ln(s):(s=Ut(e)?ui:St.current,i.context=is(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Qh(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Pu.enqueueReplaceState(i,i.state,null),zl(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function qs(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(B(309));var r=n.stateNode}if(!r)throw Error(B(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var l=i.refs;l===L0&&(l=i.refs={}),o===null?delete l[s]:l[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(B(284));if(!n._owner)throw Error(B(290,t))}return t}function Ga(t,e){throw t=Object.prototype.toString.call(e),Error(B(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Og(t){var e=t._init;return e(t._payload)}function M0(t){function e(S,E){if(t){var I=S.deletions;I===null?(S.deletions=[E],S.flags|=16):I.push(E)}}function n(S,E){if(!t)return null;for(;E!==null;)e(S,E),E=E.sibling;return null}function r(S,E){for(S=new Map;E!==null;)E.key!==null?S.set(E.key,E):S.set(E.index,E),E=E.sibling;return S}function i(S,E){return S=Sr(S,E),S.index=0,S.sibling=null,S}function s(S,E,I){return S.index=I,t?(I=S.alternate,I!==null?(I=I.index,I<E?(S.flags|=2,E):I):(S.flags|=2,E)):(S.flags|=1048576,E)}function o(S){return t&&S.alternate===null&&(S.flags|=2),S}function l(S,E,I,R){return E===null||E.tag!==6?(E=Wc(I,S.mode,R),E.return=S,E):(E=i(E,I),E.return=S,E)}function u(S,E,I,R){var L=I.type;return L===Mi?h(S,E,I.props.children,R,I.key):E!==null&&(E.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===lr&&Og(L)===E.type)?(R=i(E,I.props),R.ref=qs(S,E,I),R.return=S,R):(R=_l(I.type,I.key,I.props,null,S.mode,R),R.ref=qs(S,E,I),R.return=S,R)}function c(S,E,I,R){return E===null||E.tag!==4||E.stateNode.containerInfo!==I.containerInfo||E.stateNode.implementation!==I.implementation?(E=qc(I,S.mode,R),E.return=S,E):(E=i(E,I.children||[]),E.return=S,E)}function h(S,E,I,R,L){return E===null||E.tag!==7?(E=ai(I,S.mode,R,L),E.return=S,E):(E=i(E,I),E.return=S,E)}function m(S,E,I){if(typeof E=="string"&&E!==""||typeof E=="number")return E=Wc(""+E,S.mode,I),E.return=S,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case ba:return I=_l(E.type,E.key,E.props,null,S.mode,I),I.ref=qs(S,null,E),I.return=S,I;case Oi:return E=qc(E,S.mode,I),E.return=S,E;case lr:var R=E._init;return m(S,R(E._payload),I)}if(eo(E)||js(E))return E=ai(E,S.mode,I,null),E.return=S,E;Ga(S,E)}return null}function d(S,E,I,R){var L=E!==null?E.key:null;if(typeof I=="string"&&I!==""||typeof I=="number")return L!==null?null:l(S,E,""+I,R);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case ba:return I.key===L?u(S,E,I,R):null;case Oi:return I.key===L?c(S,E,I,R):null;case lr:return L=I._init,d(S,E,L(I._payload),R)}if(eo(I)||js(I))return L!==null?null:h(S,E,I,R,null);Ga(S,I)}return null}function v(S,E,I,R,L){if(typeof R=="string"&&R!==""||typeof R=="number")return S=S.get(I)||null,l(E,S,""+R,L);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case ba:return S=S.get(R.key===null?I:R.key)||null,u(E,S,R,L);case Oi:return S=S.get(R.key===null?I:R.key)||null,c(E,S,R,L);case lr:var O=R._init;return v(S,E,I,O(R._payload),L)}if(eo(R)||js(R))return S=S.get(I)||null,h(E,S,R,L,null);Ga(E,R)}return null}function P(S,E,I,R){for(var L=null,O=null,T=E,g=E=0,y=null;T!==null&&g<I.length;g++){T.index>g?(y=T,T=null):y=T.sibling;var w=d(S,T,I[g],R);if(w===null){T===null&&(T=y);break}t&&T&&w.alternate===null&&e(S,T),E=s(w,E,g),O===null?L=w:O.sibling=w,O=w,T=y}if(g===I.length)return n(S,T),Le&&Qr(S,g),L;if(T===null){for(;g<I.length;g++)T=m(S,I[g],R),T!==null&&(E=s(T,E,g),O===null?L=T:O.sibling=T,O=T);return Le&&Qr(S,g),L}for(T=r(S,T);g<I.length;g++)y=v(T,S,g,I[g],R),y!==null&&(t&&y.alternate!==null&&T.delete(y.key===null?g:y.key),E=s(y,E,g),O===null?L=y:O.sibling=y,O=y);return t&&T.forEach(function(C){return e(S,C)}),Le&&Qr(S,g),L}function k(S,E,I,R){var L=js(I);if(typeof L!="function")throw Error(B(150));if(I=L.call(I),I==null)throw Error(B(151));for(var O=L=null,T=E,g=E=0,y=null,w=I.next();T!==null&&!w.done;g++,w=I.next()){T.index>g?(y=T,T=null):y=T.sibling;var C=d(S,T,w.value,R);if(C===null){T===null&&(T=y);break}t&&T&&C.alternate===null&&e(S,T),E=s(C,E,g),O===null?L=C:O.sibling=C,O=C,T=y}if(w.done)return n(S,T),Le&&Qr(S,g),L;if(T===null){for(;!w.done;g++,w=I.next())w=m(S,w.value,R),w!==null&&(E=s(w,E,g),O===null?L=w:O.sibling=w,O=w);return Le&&Qr(S,g),L}for(T=r(S,T);!w.done;g++,w=I.next())w=v(T,S,g,w.value,R),w!==null&&(t&&w.alternate!==null&&T.delete(w.key===null?g:w.key),E=s(w,E,g),O===null?L=w:O.sibling=w,O=w);return t&&T.forEach(function(x){return e(S,x)}),Le&&Qr(S,g),L}function V(S,E,I,R){if(typeof I=="object"&&I!==null&&I.type===Mi&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case ba:e:{for(var L=I.key,O=E;O!==null;){if(O.key===L){if(L=I.type,L===Mi){if(O.tag===7){n(S,O.sibling),E=i(O,I.props.children),E.return=S,S=E;break e}}else if(O.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===lr&&Og(L)===O.type){n(S,O.sibling),E=i(O,I.props),E.ref=qs(S,O,I),E.return=S,S=E;break e}n(S,O);break}else e(S,O);O=O.sibling}I.type===Mi?(E=ai(I.props.children,S.mode,R,I.key),E.return=S,S=E):(R=_l(I.type,I.key,I.props,null,S.mode,R),R.ref=qs(S,E,I),R.return=S,S=R)}return o(S);case Oi:e:{for(O=I.key;E!==null;){if(E.key===O)if(E.tag===4&&E.stateNode.containerInfo===I.containerInfo&&E.stateNode.implementation===I.implementation){n(S,E.sibling),E=i(E,I.children||[]),E.return=S,S=E;break e}else{n(S,E);break}else e(S,E);E=E.sibling}E=qc(I,S.mode,R),E.return=S,S=E}return o(S);case lr:return O=I._init,V(S,E,O(I._payload),R)}if(eo(I))return P(S,E,I,R);if(js(I))return k(S,E,I,R);Ga(S,I)}return typeof I=="string"&&I!==""||typeof I=="number"?(I=""+I,E!==null&&E.tag===6?(n(S,E.sibling),E=i(E,I),E.return=S,S=E):(n(S,E),E=Wc(I,S.mode,R),E.return=S,S=E),o(S)):n(S,E)}return V}var os=M0(!0),b0=M0(!1),ua={},Vn=Ur(ua),Fo=Ur(ua),Uo=Ur(ua);function ni(t){if(t===ua)throw Error(B(174));return t}function xd(t,e){switch(Re(Uo,e),Re(Fo,t),Re(Vn,ua),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Rh(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Rh(e,t)}Ne(Vn),Re(Vn,e)}function as(){Ne(Vn),Ne(Fo),Ne(Uo)}function F0(t){ni(Uo.current);var e=ni(Vn.current),n=Rh(e,t.type);e!==n&&(Re(Fo,t),Re(Vn,n))}function kd(t){Fo.current===t&&(Ne(Vn),Ne(Fo))}var be=Ur(0);function $l(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Uc=[];function Vd(){for(var t=0;t<Uc.length;t++)Uc[t]._workInProgressVersionPrimary=null;Uc.length=0}var pl=nr.ReactCurrentDispatcher,Bc=nr.ReactCurrentBatchConfig,hi=0,Ue=null,et=null,it=null,Hl=!1,fo=!1,Bo=0,nI=0;function yt(){throw Error(B(321))}function Dd(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Tn(t[n],e[n]))return!1;return!0}function Nd(t,e,n,r,i,s){if(hi=s,Ue=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,pl.current=t===null||t.memoizedState===null?oI:aI,t=n(r,i),fo){s=0;do{if(fo=!1,Bo=0,25<=s)throw Error(B(301));s+=1,it=et=null,e.updateQueue=null,pl.current=lI,t=n(r,i)}while(fo)}if(pl.current=Wl,e=et!==null&&et.next!==null,hi=0,it=et=Ue=null,Hl=!1,e)throw Error(B(300));return t}function Ld(){var t=Bo!==0;return Bo=0,t}function Cn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return it===null?Ue.memoizedState=it=t:it=it.next=t,it}function un(){if(et===null){var t=Ue.alternate;t=t!==null?t.memoizedState:null}else t=et.next;var e=it===null?Ue.memoizedState:it.next;if(e!==null)it=e,et=t;else{if(t===null)throw Error(B(310));et=t,t={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},it===null?Ue.memoizedState=it=t:it=it.next=t}return it}function jo(t,e){return typeof e=="function"?e(t):e}function jc(t){var e=un(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=et,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=o=null,u=null,c=s;do{var h=c.lane;if((hi&h)===h)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var m={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(l=u=m,o=r):u=u.next=m,Ue.lanes|=h,fi|=h}c=c.next}while(c!==null&&c!==s);u===null?o=r:u.next=l,Tn(r,e.memoizedState)||(bt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Ue.lanes|=s,fi|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function zc(t){var e=un(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Tn(s,e.memoizedState)||(bt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function U0(){}function B0(t,e){var n=Ue,r=un(),i=e(),s=!Tn(r.memoizedState,i);if(s&&(r.memoizedState=i,bt=!0),r=r.queue,Od($0.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||it!==null&&it.memoizedState.tag&1){if(n.flags|=2048,zo(9,z0.bind(null,n,r,i,e),void 0,null),st===null)throw Error(B(349));hi&30||j0(n,e,i)}return i}function j0(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ue.updateQueue,e===null?(e={lastEffect:null,stores:null},Ue.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function z0(t,e,n,r){e.value=n,e.getSnapshot=r,H0(e)&&W0(t)}function $0(t,e,n){return n(function(){H0(e)&&W0(t)})}function H0(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Tn(t,n)}catch{return!0}}function W0(t){var e=Jn(t,1);e!==null&&wn(e,t,1,-1)}function Mg(t){var e=Cn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:jo,lastRenderedState:t},e.queue=t,t=t.dispatch=sI.bind(null,Ue,t),[e.memoizedState,t]}function zo(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ue.updateQueue,e===null?(e={lastEffect:null,stores:null},Ue.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function q0(){return un().memoizedState}function ml(t,e,n,r){var i=Cn();Ue.flags|=t,i.memoizedState=zo(1|e,n,void 0,r===void 0?null:r)}function Cu(t,e,n,r){var i=un();r=r===void 0?null:r;var s=void 0;if(et!==null){var o=et.memoizedState;if(s=o.destroy,r!==null&&Dd(r,o.deps)){i.memoizedState=zo(e,n,s,r);return}}Ue.flags|=t,i.memoizedState=zo(1|e,n,s,r)}function bg(t,e){return ml(8390656,8,t,e)}function Od(t,e){return Cu(2048,8,t,e)}function K0(t,e){return Cu(4,2,t,e)}function G0(t,e){return Cu(4,4,t,e)}function Q0(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Y0(t,e,n){return n=n!=null?n.concat([t]):null,Cu(4,4,Q0.bind(null,e,t),n)}function Md(){}function X0(t,e){var n=un();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Dd(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function J0(t,e){var n=un();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Dd(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Z0(t,e,n){return hi&21?(Tn(n,e)||(n=n0(),Ue.lanes|=n,fi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,bt=!0),t.memoizedState=n)}function rI(t,e){var n=_e;_e=n!==0&&4>n?n:4,t(!0);var r=Bc.transition;Bc.transition={};try{t(!1),e()}finally{_e=n,Bc.transition=r}}function ew(){return un().memoizedState}function iI(t,e,n){var r=Tr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},tw(t))nw(e,n);else if(n=D0(t,e,n,r),n!==null){var i=Rt();wn(n,t,r,i),rw(n,e,r)}}function sI(t,e,n){var r=Tr(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(tw(t))nw(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,l=s(o,n);if(i.hasEagerState=!0,i.eagerState=l,Tn(l,o)){var u=e.interleaved;u===null?(i.next=i,Cd(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=D0(t,e,i,r),n!==null&&(i=Rt(),wn(n,t,r,i),rw(n,e,r))}}function tw(t){var e=t.alternate;return t===Ue||e!==null&&e===Ue}function nw(t,e){fo=Hl=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function rw(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,dd(t,n)}}var Wl={readContext:ln,useCallback:yt,useContext:yt,useEffect:yt,useImperativeHandle:yt,useInsertionEffect:yt,useLayoutEffect:yt,useMemo:yt,useReducer:yt,useRef:yt,useState:yt,useDebugValue:yt,useDeferredValue:yt,useTransition:yt,useMutableSource:yt,useSyncExternalStore:yt,useId:yt,unstable_isNewReconciler:!1},oI={readContext:ln,useCallback:function(t,e){return Cn().memoizedState=[t,e===void 0?null:e],t},useContext:ln,useEffect:bg,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,ml(4194308,4,Q0.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ml(4194308,4,t,e)},useInsertionEffect:function(t,e){return ml(4,2,t,e)},useMemo:function(t,e){var n=Cn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Cn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=iI.bind(null,Ue,t),[r.memoizedState,t]},useRef:function(t){var e=Cn();return t={current:t},e.memoizedState=t},useState:Mg,useDebugValue:Md,useDeferredValue:function(t){return Cn().memoizedState=t},useTransition:function(){var t=Mg(!1),e=t[0];return t=rI.bind(null,t[1]),Cn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ue,i=Cn();if(Le){if(n===void 0)throw Error(B(407));n=n()}else{if(n=e(),st===null)throw Error(B(349));hi&30||j0(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,bg($0.bind(null,r,s,t),[t]),r.flags|=2048,zo(9,z0.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Cn(),e=st.identifierPrefix;if(Le){var n=Wn,r=Hn;n=(r&~(1<<32-_n(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Bo++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=nI++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},aI={readContext:ln,useCallback:X0,useContext:ln,useEffect:Od,useImperativeHandle:Y0,useInsertionEffect:K0,useLayoutEffect:G0,useMemo:J0,useReducer:jc,useRef:q0,useState:function(){return jc(jo)},useDebugValue:Md,useDeferredValue:function(t){var e=un();return Z0(e,et.memoizedState,t)},useTransition:function(){var t=jc(jo)[0],e=un().memoizedState;return[t,e]},useMutableSource:U0,useSyncExternalStore:B0,useId:ew,unstable_isNewReconciler:!1},lI={readContext:ln,useCallback:X0,useContext:ln,useEffect:Od,useImperativeHandle:Y0,useInsertionEffect:K0,useLayoutEffect:G0,useMemo:J0,useReducer:zc,useRef:q0,useState:function(){return zc(jo)},useDebugValue:Md,useDeferredValue:function(t){var e=un();return et===null?e.memoizedState=t:Z0(e,et.memoizedState,t)},useTransition:function(){var t=zc(jo)[0],e=un().memoizedState;return[t,e]},useMutableSource:U0,useSyncExternalStore:B0,useId:ew,unstable_isNewReconciler:!1};function ls(t,e){try{var n="",r=e;do n+=MS(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function $c(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Xh(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var uI=typeof WeakMap=="function"?WeakMap:Map;function iw(t,e,n){n=Kn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Kl||(Kl=!0,lf=r),Xh(t,e)},n}function sw(t,e,n){n=Kn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Xh(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Xh(t,e),typeof r!="function"&&(Er===null?Er=new Set([this]):Er.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Fg(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new uI;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=SI.bind(null,t,e,n),e.then(t,t))}function Ug(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Bg(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Kn(-1,1),e.tag=2,wr(n,e,1))),n.lanes|=1),t)}var cI=nr.ReactCurrentOwner,bt=!1;function Ct(t,e,n,r){e.child=t===null?b0(e,null,n,r):os(e,t.child,n,r)}function jg(t,e,n,r,i){n=n.render;var s=e.ref;return es(e,i),r=Nd(t,e,n,r,s,i),n=Ld(),t!==null&&!bt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Zn(t,e,i)):(Le&&n&&Ed(e),e.flags|=1,Ct(t,e,r,i),e.child)}function zg(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Hd(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,ow(t,e,s,r,i)):(t=_l(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Lo,n(o,r)&&t.ref===e.ref)return Zn(t,e,i)}return e.flags|=1,t=Sr(s,r),t.ref=e.ref,t.return=e,e.child=t}function ow(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Lo(s,r)&&t.ref===e.ref)if(bt=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(bt=!0);else return e.lanes=t.lanes,Zn(t,e,i)}return Jh(t,e,n,r,i)}function aw(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Re(qi,Wt),Wt|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Re(qi,Wt),Wt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Re(qi,Wt),Wt|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Re(qi,Wt),Wt|=r;return Ct(t,e,i,n),e.child}function lw(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Jh(t,e,n,r,i){var s=Ut(n)?ui:St.current;return s=is(e,s),es(e,i),n=Nd(t,e,n,r,s,i),r=Ld(),t!==null&&!bt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Zn(t,e,i)):(Le&&r&&Ed(e),e.flags|=1,Ct(t,e,n,i),e.child)}function $g(t,e,n,r,i){if(Ut(n)){var s=!0;bl(e)}else s=!1;if(es(e,i),e.stateNode===null)gl(t,e),O0(e,n,r),Yh(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var u=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=ln(c):(c=Ut(n)?ui:St.current,c=is(e,c));var h=n.getDerivedStateFromProps,m=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";m||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||u!==c)&&Lg(e,o,r,c),ur=!1;var d=e.memoizedState;o.state=d,zl(e,r,o,i),u=e.memoizedState,l!==r||d!==u||Ft.current||ur?(typeof h=="function"&&(Qh(e,n,h,r),u=e.memoizedState),(l=ur||Ng(e,n,l,r,d,u,c))?(m||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=c,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,N0(t,e),l=e.memoizedProps,c=e.type===e.elementType?l:mn(e.type,l),o.props=c,m=e.pendingProps,d=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=ln(u):(u=Ut(n)?ui:St.current,u=is(e,u));var v=n.getDerivedStateFromProps;(h=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==m||d!==u)&&Lg(e,o,r,u),ur=!1,d=e.memoizedState,o.state=d,zl(e,r,o,i);var P=e.memoizedState;l!==m||d!==P||Ft.current||ur?(typeof v=="function"&&(Qh(e,n,v,r),P=e.memoizedState),(c=ur||Ng(e,n,c,r,d,P,u)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,P,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,P,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=P),o.props=r,o.state=P,o.context=u,r=c):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return Zh(t,e,n,r,s,i)}function Zh(t,e,n,r,i,s){lw(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&Rg(e,n,!1),Zn(t,e,s);r=e.stateNode,cI.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=os(e,t.child,null,s),e.child=os(e,null,l,s)):Ct(t,e,l,s),e.memoizedState=r.state,i&&Rg(e,n,!0),e.child}function uw(t){var e=t.stateNode;e.pendingContext?Cg(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Cg(t,e.context,!1),xd(t,e.containerInfo)}function Hg(t,e,n,r,i){return ss(),Sd(i),e.flags|=256,Ct(t,e,n,r),e.child}var ef={dehydrated:null,treeContext:null,retryLane:0};function tf(t){return{baseLanes:t,cachePool:null,transitions:null}}function cw(t,e,n){var r=e.pendingProps,i=be.current,s=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Re(be,i&1),t===null)return Kh(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=ku(o,r,0,null),t=ai(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=tf(n),e.memoizedState=ef,t):bd(e,o));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return hI(t,e,o,r,l,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,l=i.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=Sr(i,u),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=Sr(l,s):(s=ai(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?tf(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=ef,r}return s=t.child,t=s.sibling,r=Sr(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function bd(t,e){return e=ku({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Qa(t,e,n,r){return r!==null&&Sd(r),os(e,t.child,null,n),t=bd(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function hI(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=$c(Error(B(422))),Qa(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=ku({mode:"visible",children:r.children},i,0,null),s=ai(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&os(e,t.child,null,o),e.child.memoizedState=tf(o),e.memoizedState=ef,s);if(!(e.mode&1))return Qa(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(B(419)),r=$c(s,r,void 0),Qa(t,e,o,r)}if(l=(o&t.childLanes)!==0,bt||l){if(r=st,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Jn(t,i),wn(r,t,i,-1))}return $d(),r=$c(Error(B(421))),Qa(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=AI.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,qt=_r(i.nextSibling),Gt=e,Le=!0,yn=null,t!==null&&(nn[rn++]=Hn,nn[rn++]=Wn,nn[rn++]=ci,Hn=t.id,Wn=t.overflow,ci=e),e=bd(e,r.children),e.flags|=4096,e)}function Wg(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Gh(t.return,e,n)}function Hc(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function hw(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Ct(t,e,r.children,n),r=be.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Wg(t,n,e);else if(t.tag===19)Wg(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Re(be,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&$l(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Hc(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&$l(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Hc(e,!0,n,null,s);break;case"together":Hc(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function gl(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Zn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),fi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(B(153));if(e.child!==null){for(t=e.child,n=Sr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Sr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function fI(t,e,n){switch(e.tag){case 3:uw(e),ss();break;case 5:F0(e);break;case 1:Ut(e.type)&&bl(e);break;case 4:xd(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Re(Bl,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Re(be,be.current&1),e.flags|=128,null):n&e.child.childLanes?cw(t,e,n):(Re(be,be.current&1),t=Zn(t,e,n),t!==null?t.sibling:null);Re(be,be.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return hw(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Re(be,be.current),r)break;return null;case 22:case 23:return e.lanes=0,aw(t,e,n)}return Zn(t,e,n)}var fw,nf,dw,pw;fw=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};nf=function(){};dw=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ni(Vn.current);var s=null;switch(n){case"input":i=Ah(t,i),r=Ah(t,r),s=[];break;case"select":i=Be({},i,{value:void 0}),r=Be({},r,{value:void 0}),s=[];break;case"textarea":i=Ch(t,i),r=Ch(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Ol)}xh(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var l=i[c];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Co.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var u=r[c];if(l=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(u!=null||l!=null))if(c==="style")if(l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(s=s||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Co.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&Ve("scroll",t),s||l===u||(s=[])):(s=s||[]).push(c,u))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};pw=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ks(t,e){if(!Le)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function vt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function dI(t,e,n){var r=e.pendingProps;switch(Td(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vt(e),null;case 1:return Ut(e.type)&&Ml(),vt(e),null;case 3:return r=e.stateNode,as(),Ne(Ft),Ne(St),Vd(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ka(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,yn!==null&&(hf(yn),yn=null))),nf(t,e),vt(e),null;case 5:kd(e);var i=ni(Uo.current);if(n=e.type,t!==null&&e.stateNode!=null)dw(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(B(166));return vt(e),null}if(t=ni(Vn.current),Ka(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[xn]=e,r[bo]=s,t=(e.mode&1)!==0,n){case"dialog":Ve("cancel",r),Ve("close",r);break;case"iframe":case"object":case"embed":Ve("load",r);break;case"video":case"audio":for(i=0;i<no.length;i++)Ve(no[i],r);break;case"source":Ve("error",r);break;case"img":case"image":case"link":Ve("error",r),Ve("load",r);break;case"details":Ve("toggle",r);break;case"input":eg(r,s),Ve("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ve("invalid",r);break;case"textarea":ng(r,s),Ve("invalid",r)}xh(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&qa(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&qa(r.textContent,l,t),i=["children",""+l]):Co.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Ve("scroll",r)}switch(n){case"input":Fa(r),tg(r,s,!0);break;case"textarea":Fa(r),rg(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Ol)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=j_(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[xn]=e,t[bo]=r,fw(t,e,!1,!1),e.stateNode=t;e:{switch(o=kh(n,r),n){case"dialog":Ve("cancel",t),Ve("close",t),i=r;break;case"iframe":case"object":case"embed":Ve("load",t),i=r;break;case"video":case"audio":for(i=0;i<no.length;i++)Ve(no[i],t);i=r;break;case"source":Ve("error",t),i=r;break;case"img":case"image":case"link":Ve("error",t),Ve("load",t),i=r;break;case"details":Ve("toggle",t),i=r;break;case"input":eg(t,r),i=Ah(t,r),Ve("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Be({},r,{value:void 0}),Ve("invalid",t);break;case"textarea":ng(t,r),i=Ch(t,r),Ve("invalid",t);break;default:i=r}xh(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var u=l[s];s==="style"?H_(t,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&z_(t,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Ro(t,u):typeof u=="number"&&Ro(t,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Co.hasOwnProperty(s)?u!=null&&s==="onScroll"&&Ve("scroll",t):u!=null&&ad(t,s,u,o))}switch(n){case"input":Fa(t),tg(t,r,!1);break;case"textarea":Fa(t),rg(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Vr(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Yi(t,!!r.multiple,s,!1):r.defaultValue!=null&&Yi(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Ol)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return vt(e),null;case 6:if(t&&e.stateNode!=null)pw(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(B(166));if(n=ni(Uo.current),ni(Vn.current),Ka(e)){if(r=e.stateNode,n=e.memoizedProps,r[xn]=e,(s=r.nodeValue!==n)&&(t=Gt,t!==null))switch(t.tag){case 3:qa(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&qa(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[xn]=e,e.stateNode=r}return vt(e),null;case 13:if(Ne(be),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Le&&qt!==null&&e.mode&1&&!(e.flags&128))V0(),ss(),e.flags|=98560,s=!1;else if(s=Ka(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(B(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(B(317));s[xn]=e}else ss(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;vt(e),s=!1}else yn!==null&&(hf(yn),yn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||be.current&1?tt===0&&(tt=3):$d())),e.updateQueue!==null&&(e.flags|=4),vt(e),null);case 4:return as(),nf(t,e),t===null&&Oo(e.stateNode.containerInfo),vt(e),null;case 10:return Pd(e.type._context),vt(e),null;case 17:return Ut(e.type)&&Ml(),vt(e),null;case 19:if(Ne(be),s=e.memoizedState,s===null)return vt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Ks(s,!1);else{if(tt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=$l(t),o!==null){for(e.flags|=128,Ks(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Re(be,be.current&1|2),e.child}t=t.sibling}s.tail!==null&&qe()>us&&(e.flags|=128,r=!0,Ks(s,!1),e.lanes=4194304)}else{if(!r)if(t=$l(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ks(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Le)return vt(e),null}else 2*qe()-s.renderingStartTime>us&&n!==1073741824&&(e.flags|=128,r=!0,Ks(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=qe(),e.sibling=null,n=be.current,Re(be,r?n&1|2:n&1),e):(vt(e),null);case 22:case 23:return zd(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Wt&1073741824&&(vt(e),e.subtreeFlags&6&&(e.flags|=8192)):vt(e),null;case 24:return null;case 25:return null}throw Error(B(156,e.tag))}function pI(t,e){switch(Td(e),e.tag){case 1:return Ut(e.type)&&Ml(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return as(),Ne(Ft),Ne(St),Vd(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return kd(e),null;case 13:if(Ne(be),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(B(340));ss()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ne(be),null;case 4:return as(),null;case 10:return Pd(e.type._context),null;case 22:case 23:return zd(),null;case 24:return null;default:return null}}var Ya=!1,Et=!1,mI=typeof WeakSet=="function"?WeakSet:Set,q=null;function Wi(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){We(t,e,r)}else n.current=null}function rf(t,e,n){try{n()}catch(r){We(t,e,r)}}var qg=!1;function gI(t,e){if(Bh=Dl,t=v0(),wd(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,u=-1,c=0,h=0,m=t,d=null;t:for(;;){for(var v;m!==n||i!==0&&m.nodeType!==3||(l=o+i),m!==s||r!==0&&m.nodeType!==3||(u=o+r),m.nodeType===3&&(o+=m.nodeValue.length),(v=m.firstChild)!==null;)d=m,m=v;for(;;){if(m===t)break t;if(d===n&&++c===i&&(l=o),d===s&&++h===r&&(u=o),(v=m.nextSibling)!==null)break;m=d,d=m.parentNode}m=v}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(jh={focusedElem:t,selectionRange:n},Dl=!1,q=e;q!==null;)if(e=q,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,q=t;else for(;q!==null;){e=q;try{var P=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(P!==null){var k=P.memoizedProps,V=P.memoizedState,S=e.stateNode,E=S.getSnapshotBeforeUpdate(e.elementType===e.type?k:mn(e.type,k),V);S.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var I=e.stateNode.containerInfo;I.nodeType===1?I.textContent="":I.nodeType===9&&I.documentElement&&I.removeChild(I.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(B(163))}}catch(R){We(e,e.return,R)}if(t=e.sibling,t!==null){t.return=e.return,q=t;break}q=e.return}return P=qg,qg=!1,P}function po(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&rf(e,n,s)}i=i.next}while(i!==r)}}function Ru(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function sf(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function mw(t){var e=t.alternate;e!==null&&(t.alternate=null,mw(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[xn],delete e[bo],delete e[Hh],delete e[JA],delete e[ZA])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function gw(t){return t.tag===5||t.tag===3||t.tag===4}function Kg(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||gw(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function of(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ol));else if(r!==4&&(t=t.child,t!==null))for(of(t,e,n),t=t.sibling;t!==null;)of(t,e,n),t=t.sibling}function af(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(af(t,e,n),t=t.sibling;t!==null;)af(t,e,n),t=t.sibling}var at=null,gn=!1;function or(t,e,n){for(n=n.child;n!==null;)yw(t,e,n),n=n.sibling}function yw(t,e,n){if(kn&&typeof kn.onCommitFiberUnmount=="function")try{kn.onCommitFiberUnmount(wu,n)}catch{}switch(n.tag){case 5:Et||Wi(n,e);case 6:var r=at,i=gn;at=null,or(t,e,n),at=r,gn=i,at!==null&&(gn?(t=at,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):at.removeChild(n.stateNode));break;case 18:at!==null&&(gn?(t=at,n=n.stateNode,t.nodeType===8?bc(t.parentNode,n):t.nodeType===1&&bc(t,n),Do(t)):bc(at,n.stateNode));break;case 4:r=at,i=gn,at=n.stateNode.containerInfo,gn=!0,or(t,e,n),at=r,gn=i;break;case 0:case 11:case 14:case 15:if(!Et&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&rf(n,e,o),i=i.next}while(i!==r)}or(t,e,n);break;case 1:if(!Et&&(Wi(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){We(n,e,l)}or(t,e,n);break;case 21:or(t,e,n);break;case 22:n.mode&1?(Et=(r=Et)||n.memoizedState!==null,or(t,e,n),Et=r):or(t,e,n);break;default:or(t,e,n)}}function Gg(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new mI),e.forEach(function(r){var i=II.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function pn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:at=l.stateNode,gn=!1;break e;case 3:at=l.stateNode.containerInfo,gn=!0;break e;case 4:at=l.stateNode.containerInfo,gn=!0;break e}l=l.return}if(at===null)throw Error(B(160));yw(s,o,i),at=null,gn=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(c){We(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)vw(e,t),e=e.sibling}function vw(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(pn(e,t),Pn(t),r&4){try{po(3,t,t.return),Ru(3,t)}catch(k){We(t,t.return,k)}try{po(5,t,t.return)}catch(k){We(t,t.return,k)}}break;case 1:pn(e,t),Pn(t),r&512&&n!==null&&Wi(n,n.return);break;case 5:if(pn(e,t),Pn(t),r&512&&n!==null&&Wi(n,n.return),t.flags&32){var i=t.stateNode;try{Ro(i,"")}catch(k){We(t,t.return,k)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,l=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&U_(i,s),kh(l,o);var c=kh(l,s);for(o=0;o<u.length;o+=2){var h=u[o],m=u[o+1];h==="style"?H_(i,m):h==="dangerouslySetInnerHTML"?z_(i,m):h==="children"?Ro(i,m):ad(i,h,m,c)}switch(l){case"input":Ih(i,s);break;case"textarea":B_(i,s);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var v=s.value;v!=null?Yi(i,!!s.multiple,v,!1):d!==!!s.multiple&&(s.defaultValue!=null?Yi(i,!!s.multiple,s.defaultValue,!0):Yi(i,!!s.multiple,s.multiple?[]:"",!1))}i[bo]=s}catch(k){We(t,t.return,k)}}break;case 6:if(pn(e,t),Pn(t),r&4){if(t.stateNode===null)throw Error(B(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(k){We(t,t.return,k)}}break;case 3:if(pn(e,t),Pn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Do(e.containerInfo)}catch(k){We(t,t.return,k)}break;case 4:pn(e,t),Pn(t);break;case 13:pn(e,t),Pn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Bd=qe())),r&4&&Gg(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(Et=(c=Et)||h,pn(e,t),Et=c):pn(e,t),Pn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!h&&t.mode&1)for(q=t,h=t.child;h!==null;){for(m=q=h;q!==null;){switch(d=q,v=d.child,d.tag){case 0:case 11:case 14:case 15:po(4,d,d.return);break;case 1:Wi(d,d.return);var P=d.stateNode;if(typeof P.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,P.props=e.memoizedProps,P.state=e.memoizedState,P.componentWillUnmount()}catch(k){We(r,n,k)}}break;case 5:Wi(d,d.return);break;case 22:if(d.memoizedState!==null){Yg(m);continue}}v!==null?(v.return=d,q=v):Yg(m)}h=h.sibling}e:for(h=null,m=t;;){if(m.tag===5){if(h===null){h=m;try{i=m.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=m.stateNode,u=m.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=$_("display",o))}catch(k){We(t,t.return,k)}}}else if(m.tag===6){if(h===null)try{m.stateNode.nodeValue=c?"":m.memoizedProps}catch(k){We(t,t.return,k)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===t)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;h===m&&(h=null),m=m.return}h===m&&(h=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:pn(e,t),Pn(t),r&4&&Gg(t);break;case 21:break;default:pn(e,t),Pn(t)}}function Pn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(gw(n)){var r=n;break e}n=n.return}throw Error(B(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Ro(i,""),r.flags&=-33);var s=Kg(t);af(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=Kg(t);of(t,l,o);break;default:throw Error(B(161))}}catch(u){We(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function yI(t,e,n){q=t,_w(t)}function _w(t,e,n){for(var r=(t.mode&1)!==0;q!==null;){var i=q,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Ya;if(!o){var l=i.alternate,u=l!==null&&l.memoizedState!==null||Et;l=Ya;var c=Et;if(Ya=o,(Et=u)&&!c)for(q=i;q!==null;)o=q,u=o.child,o.tag===22&&o.memoizedState!==null?Xg(i):u!==null?(u.return=o,q=u):Xg(i);for(;s!==null;)q=s,_w(s),s=s.sibling;q=i,Ya=l,Et=c}Qg(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,q=s):Qg(t)}}function Qg(t){for(;q!==null;){var e=q;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Et||Ru(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Et)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:mn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Dg(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Dg(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var m=h.dehydrated;m!==null&&Do(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(B(163))}Et||e.flags&512&&sf(e)}catch(d){We(e,e.return,d)}}if(e===t){q=null;break}if(n=e.sibling,n!==null){n.return=e.return,q=n;break}q=e.return}}function Yg(t){for(;q!==null;){var e=q;if(e===t){q=null;break}var n=e.sibling;if(n!==null){n.return=e.return,q=n;break}q=e.return}}function Xg(t){for(;q!==null;){var e=q;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Ru(4,e)}catch(u){We(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){We(e,i,u)}}var s=e.return;try{sf(e)}catch(u){We(e,s,u)}break;case 5:var o=e.return;try{sf(e)}catch(u){We(e,o,u)}}}catch(u){We(e,e.return,u)}if(e===t){q=null;break}var l=e.sibling;if(l!==null){l.return=e.return,q=l;break}q=e.return}}var vI=Math.ceil,ql=nr.ReactCurrentDispatcher,Fd=nr.ReactCurrentOwner,on=nr.ReactCurrentBatchConfig,fe=0,st=null,Je=null,ct=0,Wt=0,qi=Ur(0),tt=0,$o=null,fi=0,xu=0,Ud=0,mo=null,Ot=null,Bd=0,us=1/0,jn=null,Kl=!1,lf=null,Er=null,Xa=!1,pr=null,Gl=0,go=0,uf=null,yl=-1,vl=0;function Rt(){return fe&6?qe():yl!==-1?yl:yl=qe()}function Tr(t){return t.mode&1?fe&2&&ct!==0?ct&-ct:tI.transition!==null?(vl===0&&(vl=n0()),vl):(t=_e,t!==0||(t=window.event,t=t===void 0?16:u0(t.type)),t):1}function wn(t,e,n,r){if(50<go)throw go=0,uf=null,Error(B(185));oa(t,n,r),(!(fe&2)||t!==st)&&(t===st&&(!(fe&2)&&(xu|=n),tt===4&&fr(t,ct)),Bt(t,r),n===1&&fe===0&&!(e.mode&1)&&(us=qe()+500,Iu&&Br()))}function Bt(t,e){var n=t.callbackNode;tA(t,e);var r=Vl(t,t===st?ct:0);if(r===0)n!==null&&og(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&og(n),e===1)t.tag===0?eI(Jg.bind(null,t)):R0(Jg.bind(null,t)),YA(function(){!(fe&6)&&Br()}),n=null;else{switch(r0(r)){case 1:n=fd;break;case 4:n=e0;break;case 16:n=kl;break;case 536870912:n=t0;break;default:n=kl}n=Cw(n,ww.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function ww(t,e){if(yl=-1,vl=0,fe&6)throw Error(B(327));var n=t.callbackNode;if(ts()&&t.callbackNode!==n)return null;var r=Vl(t,t===st?ct:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Ql(t,r);else{e=r;var i=fe;fe|=2;var s=Tw();(st!==t||ct!==e)&&(jn=null,us=qe()+500,oi(t,e));do try{EI();break}catch(l){Ew(t,l)}while(1);Id(),ql.current=s,fe=i,Je!==null?e=0:(st=null,ct=0,e=tt)}if(e!==0){if(e===2&&(i=Oh(t),i!==0&&(r=i,e=cf(t,i))),e===1)throw n=$o,oi(t,0),fr(t,r),Bt(t,qe()),n;if(e===6)fr(t,r);else{if(i=t.current.alternate,!(r&30)&&!_I(i)&&(e=Ql(t,r),e===2&&(s=Oh(t),s!==0&&(r=s,e=cf(t,s))),e===1))throw n=$o,oi(t,0),fr(t,r),Bt(t,qe()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(B(345));case 2:Yr(t,Ot,jn);break;case 3:if(fr(t,r),(r&130023424)===r&&(e=Bd+500-qe(),10<e)){if(Vl(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Rt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=$h(Yr.bind(null,t,Ot,jn),e);break}Yr(t,Ot,jn);break;case 4:if(fr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-_n(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=qe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*vI(r/1960))-r,10<r){t.timeoutHandle=$h(Yr.bind(null,t,Ot,jn),r);break}Yr(t,Ot,jn);break;case 5:Yr(t,Ot,jn);break;default:throw Error(B(329))}}}return Bt(t,qe()),t.callbackNode===n?ww.bind(null,t):null}function cf(t,e){var n=mo;return t.current.memoizedState.isDehydrated&&(oi(t,e).flags|=256),t=Ql(t,e),t!==2&&(e=Ot,Ot=n,e!==null&&hf(e)),t}function hf(t){Ot===null?Ot=t:Ot.push.apply(Ot,t)}function _I(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Tn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function fr(t,e){for(e&=~Ud,e&=~xu,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-_n(e),r=1<<n;t[n]=-1,e&=~r}}function Jg(t){if(fe&6)throw Error(B(327));ts();var e=Vl(t,0);if(!(e&1))return Bt(t,qe()),null;var n=Ql(t,e);if(t.tag!==0&&n===2){var r=Oh(t);r!==0&&(e=r,n=cf(t,r))}if(n===1)throw n=$o,oi(t,0),fr(t,e),Bt(t,qe()),n;if(n===6)throw Error(B(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Yr(t,Ot,jn),Bt(t,qe()),null}function jd(t,e){var n=fe;fe|=1;try{return t(e)}finally{fe=n,fe===0&&(us=qe()+500,Iu&&Br())}}function di(t){pr!==null&&pr.tag===0&&!(fe&6)&&ts();var e=fe;fe|=1;var n=on.transition,r=_e;try{if(on.transition=null,_e=1,t)return t()}finally{_e=r,on.transition=n,fe=e,!(fe&6)&&Br()}}function zd(){Wt=qi.current,Ne(qi)}function oi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,QA(n)),Je!==null)for(n=Je.return;n!==null;){var r=n;switch(Td(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ml();break;case 3:as(),Ne(Ft),Ne(St),Vd();break;case 5:kd(r);break;case 4:as();break;case 13:Ne(be);break;case 19:Ne(be);break;case 10:Pd(r.type._context);break;case 22:case 23:zd()}n=n.return}if(st=t,Je=t=Sr(t.current,null),ct=Wt=e,tt=0,$o=null,Ud=xu=fi=0,Ot=mo=null,ti!==null){for(e=0;e<ti.length;e++)if(n=ti[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}ti=null}return t}function Ew(t,e){do{var n=Je;try{if(Id(),pl.current=Wl,Hl){for(var r=Ue.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Hl=!1}if(hi=0,it=et=Ue=null,fo=!1,Bo=0,Fd.current=null,n===null||n.return===null){tt=1,$o=e,Je=null;break}e:{var s=t,o=n.return,l=n,u=e;if(e=ct,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,h=l,m=h.tag;if(!(h.mode&1)&&(m===0||m===11||m===15)){var d=h.alternate;d?(h.updateQueue=d.updateQueue,h.memoizedState=d.memoizedState,h.lanes=d.lanes):(h.updateQueue=null,h.memoizedState=null)}var v=Ug(o);if(v!==null){v.flags&=-257,Bg(v,o,l,s,e),v.mode&1&&Fg(s,c,e),e=v,u=c;var P=e.updateQueue;if(P===null){var k=new Set;k.add(u),e.updateQueue=k}else P.add(u);break e}else{if(!(e&1)){Fg(s,c,e),$d();break e}u=Error(B(426))}}else if(Le&&l.mode&1){var V=Ug(o);if(V!==null){!(V.flags&65536)&&(V.flags|=256),Bg(V,o,l,s,e),Sd(ls(u,l));break e}}s=u=ls(u,l),tt!==4&&(tt=2),mo===null?mo=[s]:mo.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var S=iw(s,u,e);Vg(s,S);break e;case 1:l=u;var E=s.type,I=s.stateNode;if(!(s.flags&128)&&(typeof E.getDerivedStateFromError=="function"||I!==null&&typeof I.componentDidCatch=="function"&&(Er===null||!Er.has(I)))){s.flags|=65536,e&=-e,s.lanes|=e;var R=sw(s,l,e);Vg(s,R);break e}}s=s.return}while(s!==null)}Aw(n)}catch(L){e=L,Je===n&&n!==null&&(Je=n=n.return);continue}break}while(1)}function Tw(){var t=ql.current;return ql.current=Wl,t===null?Wl:t}function $d(){(tt===0||tt===3||tt===2)&&(tt=4),st===null||!(fi&268435455)&&!(xu&268435455)||fr(st,ct)}function Ql(t,e){var n=fe;fe|=2;var r=Tw();(st!==t||ct!==e)&&(jn=null,oi(t,e));do try{wI();break}catch(i){Ew(t,i)}while(1);if(Id(),fe=n,ql.current=r,Je!==null)throw Error(B(261));return st=null,ct=0,tt}function wI(){for(;Je!==null;)Sw(Je)}function EI(){for(;Je!==null&&!qS();)Sw(Je)}function Sw(t){var e=Pw(t.alternate,t,Wt);t.memoizedProps=t.pendingProps,e===null?Aw(t):Je=e,Fd.current=null}function Aw(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=pI(n,e),n!==null){n.flags&=32767,Je=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{tt=6,Je=null;return}}else if(n=dI(n,e,Wt),n!==null){Je=n;return}if(e=e.sibling,e!==null){Je=e;return}Je=e=t}while(e!==null);tt===0&&(tt=5)}function Yr(t,e,n){var r=_e,i=on.transition;try{on.transition=null,_e=1,TI(t,e,n,r)}finally{on.transition=i,_e=r}return null}function TI(t,e,n,r){do ts();while(pr!==null);if(fe&6)throw Error(B(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(B(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(nA(t,s),t===st&&(Je=st=null,ct=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Xa||(Xa=!0,Cw(kl,function(){return ts(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=on.transition,on.transition=null;var o=_e;_e=1;var l=fe;fe|=4,Fd.current=null,gI(t,n),vw(n,t),zA(jh),Dl=!!Bh,jh=Bh=null,t.current=n,yI(n),KS(),fe=l,_e=o,on.transition=s}else t.current=n;if(Xa&&(Xa=!1,pr=t,Gl=i),s=t.pendingLanes,s===0&&(Er=null),YS(n.stateNode),Bt(t,qe()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Kl)throw Kl=!1,t=lf,lf=null,t;return Gl&1&&t.tag!==0&&ts(),s=t.pendingLanes,s&1?t===uf?go++:(go=0,uf=t):go=0,Br(),null}function ts(){if(pr!==null){var t=r0(Gl),e=on.transition,n=_e;try{if(on.transition=null,_e=16>t?16:t,pr===null)var r=!1;else{if(t=pr,pr=null,Gl=0,fe&6)throw Error(B(331));var i=fe;for(fe|=4,q=t.current;q!==null;){var s=q,o=s.child;if(q.flags&16){var l=s.deletions;if(l!==null){for(var u=0;u<l.length;u++){var c=l[u];for(q=c;q!==null;){var h=q;switch(h.tag){case 0:case 11:case 15:po(8,h,s)}var m=h.child;if(m!==null)m.return=h,q=m;else for(;q!==null;){h=q;var d=h.sibling,v=h.return;if(mw(h),h===c){q=null;break}if(d!==null){d.return=v,q=d;break}q=v}}}var P=s.alternate;if(P!==null){var k=P.child;if(k!==null){P.child=null;do{var V=k.sibling;k.sibling=null,k=V}while(k!==null)}}q=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,q=o;else e:for(;q!==null;){if(s=q,s.flags&2048)switch(s.tag){case 0:case 11:case 15:po(9,s,s.return)}var S=s.sibling;if(S!==null){S.return=s.return,q=S;break e}q=s.return}}var E=t.current;for(q=E;q!==null;){o=q;var I=o.child;if(o.subtreeFlags&2064&&I!==null)I.return=o,q=I;else e:for(o=E;q!==null;){if(l=q,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Ru(9,l)}}catch(L){We(l,l.return,L)}if(l===o){q=null;break e}var R=l.sibling;if(R!==null){R.return=l.return,q=R;break e}q=l.return}}if(fe=i,Br(),kn&&typeof kn.onPostCommitFiberRoot=="function")try{kn.onPostCommitFiberRoot(wu,t)}catch{}r=!0}return r}finally{_e=n,on.transition=e}}return!1}function Zg(t,e,n){e=ls(n,e),e=iw(t,e,1),t=wr(t,e,1),e=Rt(),t!==null&&(oa(t,1,e),Bt(t,e))}function We(t,e,n){if(t.tag===3)Zg(t,t,n);else for(;e!==null;){if(e.tag===3){Zg(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Er===null||!Er.has(r))){t=ls(n,t),t=sw(e,t,1),e=wr(e,t,1),t=Rt(),e!==null&&(oa(e,1,t),Bt(e,t));break}}e=e.return}}function SI(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Rt(),t.pingedLanes|=t.suspendedLanes&n,st===t&&(ct&n)===n&&(tt===4||tt===3&&(ct&130023424)===ct&&500>qe()-Bd?oi(t,0):Ud|=n),Bt(t,e)}function Iw(t,e){e===0&&(t.mode&1?(e=ja,ja<<=1,!(ja&130023424)&&(ja=4194304)):e=1);var n=Rt();t=Jn(t,e),t!==null&&(oa(t,e,n),Bt(t,n))}function AI(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Iw(t,n)}function II(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(B(314))}r!==null&&r.delete(e),Iw(t,n)}var Pw;Pw=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ft.current)bt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return bt=!1,fI(t,e,n);bt=!!(t.flags&131072)}else bt=!1,Le&&e.flags&1048576&&x0(e,Ul,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;gl(t,e),t=e.pendingProps;var i=is(e,St.current);es(e,n),i=Nd(null,e,r,t,i,n);var s=Ld();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ut(r)?(s=!0,bl(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Rd(e),i.updater=Pu,e.stateNode=i,i._reactInternals=e,Yh(e,r,t,n),e=Zh(null,e,r,!0,s,n)):(e.tag=0,Le&&s&&Ed(e),Ct(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(gl(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=CI(r),t=mn(r,t),i){case 0:e=Jh(null,e,r,t,n);break e;case 1:e=$g(null,e,r,t,n);break e;case 11:e=jg(null,e,r,t,n);break e;case 14:e=zg(null,e,r,mn(r.type,t),n);break e}throw Error(B(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:mn(r,i),Jh(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:mn(r,i),$g(t,e,r,i,n);case 3:e:{if(uw(e),t===null)throw Error(B(387));r=e.pendingProps,s=e.memoizedState,i=s.element,N0(t,e),zl(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=ls(Error(B(423)),e),e=Hg(t,e,r,n,i);break e}else if(r!==i){i=ls(Error(B(424)),e),e=Hg(t,e,r,n,i);break e}else for(qt=_r(e.stateNode.containerInfo.firstChild),Gt=e,Le=!0,yn=null,n=b0(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ss(),r===i){e=Zn(t,e,n);break e}Ct(t,e,r,n)}e=e.child}return e;case 5:return F0(e),t===null&&Kh(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,zh(r,i)?o=null:s!==null&&zh(r,s)&&(e.flags|=32),lw(t,e),Ct(t,e,o,n),e.child;case 6:return t===null&&Kh(e),null;case 13:return cw(t,e,n);case 4:return xd(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=os(e,null,r,n):Ct(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:mn(r,i),jg(t,e,r,i,n);case 7:return Ct(t,e,e.pendingProps,n),e.child;case 8:return Ct(t,e,e.pendingProps.children,n),e.child;case 12:return Ct(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Re(Bl,r._currentValue),r._currentValue=o,s!==null)if(Tn(s.value,o)){if(s.children===i.children&&!Ft.current){e=Zn(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var u=l.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=Kn(-1,n&-n),u.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?u.next=u:(u.next=h.next,h.next=u),c.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),Gh(s.return,n,e),l.lanes|=n;break}u=u.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(B(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Gh(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Ct(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,es(e,n),i=ln(i),r=r(i),e.flags|=1,Ct(t,e,r,n),e.child;case 14:return r=e.type,i=mn(r,e.pendingProps),i=mn(r.type,i),zg(t,e,r,i,n);case 15:return ow(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:mn(r,i),gl(t,e),e.tag=1,Ut(r)?(t=!0,bl(e)):t=!1,es(e,n),O0(e,r,i),Yh(e,r,i,n),Zh(null,e,r,!0,t,n);case 19:return hw(t,e,n);case 22:return aw(t,e,n)}throw Error(B(156,e.tag))};function Cw(t,e){return Z_(t,e)}function PI(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function sn(t,e,n,r){return new PI(t,e,n,r)}function Hd(t){return t=t.prototype,!(!t||!t.isReactComponent)}function CI(t){if(typeof t=="function")return Hd(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ud)return 11;if(t===cd)return 14}return 2}function Sr(t,e){var n=t.alternate;return n===null?(n=sn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function _l(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Hd(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Mi:return ai(n.children,i,s,e);case ld:o=8,i|=8;break;case wh:return t=sn(12,n,e,i|2),t.elementType=wh,t.lanes=s,t;case Eh:return t=sn(13,n,e,i),t.elementType=Eh,t.lanes=s,t;case Th:return t=sn(19,n,e,i),t.elementType=Th,t.lanes=s,t;case M_:return ku(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case L_:o=10;break e;case O_:o=9;break e;case ud:o=11;break e;case cd:o=14;break e;case lr:o=16,r=null;break e}throw Error(B(130,t==null?t:typeof t,""))}return e=sn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function ai(t,e,n,r){return t=sn(7,t,r,e),t.lanes=n,t}function ku(t,e,n,r){return t=sn(22,t,r,e),t.elementType=M_,t.lanes=n,t.stateNode={isHidden:!1},t}function Wc(t,e,n){return t=sn(6,t,null,e),t.lanes=n,t}function qc(t,e,n){return e=sn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function RI(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Pc(0),this.expirationTimes=Pc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pc(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Wd(t,e,n,r,i,s,o,l,u){return t=new RI(t,e,n,l,u),e===1?(e=1,s===!0&&(e|=8)):e=0,s=sn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Rd(s),t}function xI(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Oi,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Rw(t){if(!t)return Dr;t=t._reactInternals;e:{if(wi(t)!==t||t.tag!==1)throw Error(B(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ut(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(B(171))}if(t.tag===1){var n=t.type;if(Ut(n))return C0(t,n,e)}return e}function xw(t,e,n,r,i,s,o,l,u){return t=Wd(n,r,!0,t,i,s,o,l,u),t.context=Rw(null),n=t.current,r=Rt(),i=Tr(n),s=Kn(r,i),s.callback=e??null,wr(n,s,i),t.current.lanes=i,oa(t,i,r),Bt(t,r),t}function Vu(t,e,n,r){var i=e.current,s=Rt(),o=Tr(i);return n=Rw(n),e.context===null?e.context=n:e.pendingContext=n,e=Kn(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=wr(i,e,o),t!==null&&(wn(t,i,o,s),dl(t,i,o)),o}function Yl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function ey(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function qd(t,e){ey(t,e),(t=t.alternate)&&ey(t,e)}function kI(){return null}var kw=typeof reportError=="function"?reportError:function(t){console.error(t)};function Kd(t){this._internalRoot=t}Du.prototype.render=Kd.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(B(409));Vu(t,e,null,null)};Du.prototype.unmount=Kd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;di(function(){Vu(null,t,null,null)}),e[Xn]=null}};function Du(t){this._internalRoot=t}Du.prototype.unstable_scheduleHydration=function(t){if(t){var e=o0();t={blockedOn:null,target:t,priority:e};for(var n=0;n<hr.length&&e!==0&&e<hr[n].priority;n++);hr.splice(n,0,t),n===0&&l0(t)}};function Gd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Nu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function ty(){}function VI(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Yl(o);s.call(c)}}var o=xw(e,r,t,0,null,!1,!1,"",ty);return t._reactRootContainer=o,t[Xn]=o.current,Oo(t.nodeType===8?t.parentNode:t),di(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var c=Yl(u);l.call(c)}}var u=Wd(t,0,!1,null,null,!1,!1,"",ty);return t._reactRootContainer=u,t[Xn]=u.current,Oo(t.nodeType===8?t.parentNode:t),di(function(){Vu(e,u,n,r)}),u}function Lu(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var u=Yl(o);l.call(u)}}Vu(e,o,t,i)}else o=VI(n,e,t,i,r);return Yl(o)}i0=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=to(e.pendingLanes);n!==0&&(dd(e,n|1),Bt(e,qe()),!(fe&6)&&(us=qe()+500,Br()))}break;case 13:di(function(){var r=Jn(t,1);if(r!==null){var i=Rt();wn(r,t,1,i)}}),qd(t,1)}};pd=function(t){if(t.tag===13){var e=Jn(t,134217728);if(e!==null){var n=Rt();wn(e,t,134217728,n)}qd(t,134217728)}};s0=function(t){if(t.tag===13){var e=Tr(t),n=Jn(t,e);if(n!==null){var r=Rt();wn(n,t,e,r)}qd(t,e)}};o0=function(){return _e};a0=function(t,e){var n=_e;try{return _e=t,e()}finally{_e=n}};Dh=function(t,e,n){switch(e){case"input":if(Ih(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Au(r);if(!i)throw Error(B(90));F_(r),Ih(r,i)}}}break;case"textarea":B_(t,n);break;case"select":e=n.value,e!=null&&Yi(t,!!n.multiple,e,!1)}};K_=jd;G_=di;var DI={usingClientEntryPoint:!1,Events:[la,Bi,Au,W_,q_,jd]},Gs={findFiberByHostInstance:ei,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},NI={bundleType:Gs.bundleType,version:Gs.version,rendererPackageName:Gs.rendererPackageName,rendererConfig:Gs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:nr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=X_(t),t===null?null:t.stateNode},findFiberByHostInstance:Gs.findFiberByHostInstance||kI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ja=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ja.isDisabled&&Ja.supportsFiber)try{wu=Ja.inject(NI),kn=Ja}catch{}}Jt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=DI;Jt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Gd(e))throw Error(B(200));return xI(t,e,null,n)};Jt.createRoot=function(t,e){if(!Gd(t))throw Error(B(299));var n=!1,r="",i=kw;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Wd(t,1,!1,null,null,n,!1,r,i),t[Xn]=e.current,Oo(t.nodeType===8?t.parentNode:t),new Kd(e)};Jt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(B(188)):(t=Object.keys(t).join(","),Error(B(268,t)));return t=X_(e),t=t===null?null:t.stateNode,t};Jt.flushSync=function(t){return di(t)};Jt.hydrate=function(t,e,n){if(!Nu(e))throw Error(B(200));return Lu(null,t,e,!0,n)};Jt.hydrateRoot=function(t,e,n){if(!Gd(t))throw Error(B(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=kw;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=xw(e,null,t,1,n??null,i,!1,s,o),t[Xn]=e.current,Oo(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Du(e)};Jt.render=function(t,e,n){if(!Nu(e))throw Error(B(200));return Lu(null,t,e,!1,n)};Jt.unmountComponentAtNode=function(t){if(!Nu(t))throw Error(B(40));return t._reactRootContainer?(di(function(){Lu(null,null,t,!1,function(){t._reactRootContainer=null,t[Xn]=null})}),!0):!1};Jt.unstable_batchedUpdates=jd;Jt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Nu(n))throw Error(B(200));if(t==null||t._reactInternals===void 0)throw Error(B(38));return Lu(t,e,n,!1,r)};Jt.version="18.2.0-next-9e3b772b8-20220608";function Vw(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Vw)}catch(t){console.error(t)}}Vw(),x_.exports=Jt;var LI=x_.exports,ny=LI;vh.createRoot=ny.createRoot,vh.hydrateRoot=ny.hydrateRoot;/**
 * @remix-run/router v1.5.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ho(){return Ho=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ho.apply(this,arguments)}var ri;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ri||(ri={}));const ry="popstate";function OI(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:l}=r.location;return ff("",{pathname:s,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Xl(i)}return bI(e,n,null,t)}function Ar(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function MI(){return Math.random().toString(36).substr(2,8)}function iy(t,e){return{usr:t.state,key:t.key,idx:e}}function ff(t,e,n,r){return n===void 0&&(n=null),Ho({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ou(e):e,{state:n,key:e&&e.key||r||MI()})}function Xl(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ou(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function bI(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,l=ri.Pop,u=null,c=h();c==null&&(c=0,o.replaceState(Ho({},o.state,{idx:c}),""));function h(){return(o.state||{idx:null}).idx}function m(){l=ri.Pop;let V=h(),S=V==null?null:V-c;c=V,u&&u({action:l,location:k.location,delta:S})}function d(V,S){l=ri.Push;let E=ff(k.location,V,S);n&&n(E,V),c=h()+1;let I=iy(E,c),R=k.createHref(E);try{o.pushState(I,"",R)}catch{i.location.assign(R)}s&&u&&u({action:l,location:k.location,delta:1})}function v(V,S){l=ri.Replace;let E=ff(k.location,V,S);n&&n(E,V),c=h();let I=iy(E,c),R=k.createHref(E);o.replaceState(I,"",R),s&&u&&u({action:l,location:k.location,delta:0})}function P(V){let S=i.location.origin!=="null"?i.location.origin:i.location.href,E=typeof V=="string"?V:Xl(V);return Ar(S,"No window.location.(origin|href) available to create URL for href: "+E),new URL(E,S)}let k={get action(){return l},get location(){return t(i,o)},listen(V){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(ry,m),u=V,()=>{i.removeEventListener(ry,m),u=null}},createHref(V){return e(i,V)},createURL:P,encodeLocation(V){let S=P(V);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:d,replace:v,go(V){return o.go(V)}};return k}var sy;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(sy||(sy={}));function Dw(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function FI(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Ou(t):t;return{pathname:n?n.startsWith("/")?n:UI(n,e):e,search:BI(r),hash:jI(i)}}function UI(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Kc(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Nw(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Lw(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Ou(t):(i=Ho({},t),Ar(!i.pathname||!i.pathname.includes("?"),Kc("?","pathname","search",i)),Ar(!i.pathname||!i.pathname.includes("#"),Kc("#","pathname","hash",i)),Ar(!i.search||!i.search.includes("#"),Kc("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,l;if(r||o==null)l=n;else{let m=e.length-1;if(o.startsWith("..")){let d=o.split("/");for(;d[0]==="..";)d.shift(),m-=1;i.pathname=d.join("/")}l=m>=0?e[m]:"/"}let u=FI(i,l),c=o&&o!=="/"&&o.endsWith("/"),h=(s||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||h)&&(u.pathname+="/"),u}const Ow=t=>t.join("/").replace(/\/\/+/g,"/"),BI=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,jI=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;/**
 * React Router v6.10.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zI(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}const $I=typeof Object.is=="function"?Object.is:zI,{useState:HI,useEffect:WI,useLayoutEffect:qI,useDebugValue:KI}=gh;function GI(t,e,n){const r=e(),[{inst:i},s]=HI({inst:{value:r,getSnapshot:e}});return qI(()=>{i.value=r,i.getSnapshot=e,Gc(i)&&s({inst:i})},[t,r,e]),WI(()=>(Gc(i)&&s({inst:i}),t(()=>{Gc(i)&&s({inst:i})})),[t]),KI(r),r}function Gc(t){const e=t.getSnapshot,n=t.value;try{const r=e();return!$I(n,r)}catch{return!0}}function QI(t,e,n){return e()}const YI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",XI=!YI,JI=XI?QI:GI;"useSyncExternalStore"in gh&&(t=>t.useSyncExternalStore)(gh);const Mu=$.createContext(null),Qd=$.createContext(null),Mw=$.createContext({outlet:null,matches:[]});function ZI(t,e){let{relative:n}=e===void 0?{}:e;bu()||Ar(!1);let{basename:r,navigator:i}=$.useContext(Mu),{hash:s,pathname:o,search:l}=bw(t,{relative:n}),u=o;return r!=="/"&&(u=o==="/"?r:Ow([r,o])),i.createHref({pathname:u,search:l,hash:s})}function bu(){return $.useContext(Qd)!=null}function Yd(){return bu()||Ar(!1),$.useContext(Qd).location}function eP(){bu()||Ar(!1);let{basename:t,navigator:e}=$.useContext(Mu),{matches:n}=$.useContext(Mw),{pathname:r}=Yd(),i=JSON.stringify(Nw(n).map(l=>l.pathnameBase)),s=$.useRef(!1);return $.useEffect(()=>{s.current=!0}),$.useCallback(function(l,u){if(u===void 0&&(u={}),!s.current)return;if(typeof l=="number"){e.go(l);return}let c=Lw(l,JSON.parse(i),r,u.relative==="path");t!=="/"&&(c.pathname=c.pathname==="/"?t:Ow([t,c.pathname])),(u.replace?e.replace:e.push)(c,u.state,u)},[t,e,i,r])}function bw(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=$.useContext(Mw),{pathname:i}=Yd(),s=JSON.stringify(Nw(r).map(o=>o.pathnameBase));return $.useMemo(()=>Lw(t,JSON.parse(s),i,n==="path"),[t,s,i,n])}var oy;(function(t){t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator"})(oy||(oy={}));var ay;(function(t){t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator"})(ay||(ay={}));function tP(t){let{basename:e="/",children:n=null,location:r,navigationType:i=ri.Pop,navigator:s,static:o=!1}=t;bu()&&Ar(!1);let l=e.replace(/^\/*/,"/"),u=$.useMemo(()=>({basename:l,navigator:s,static:o}),[l,s,o]);typeof r=="string"&&(r=Ou(r));let{pathname:c="/",search:h="",hash:m="",state:d=null,key:v="default"}=r,P=$.useMemo(()=>{let k=Dw(c,l);return k==null?null:{location:{pathname:k,search:h,hash:m,state:d,key:v},navigationType:i}},[l,c,h,m,d,v,i]);return P==null?null:$.createElement(Mu.Provider,{value:u},$.createElement(Qd.Provider,{children:n,value:P}))}var ly;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(ly||(ly={}));new Promise(()=>{});/**
 * React Router DOM v6.10.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function df(){return df=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},df.apply(this,arguments)}function nP(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function rP(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function iP(t,e){return t.button===0&&(!e||e==="_self")&&!rP(t)}const sP=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function oP(t){let{basename:e,children:n,window:r}=t,i=$.useRef();i.current==null&&(i.current=OI({window:r,v5Compat:!0}));let s=i.current,[o,l]=$.useState({action:s.action,location:s.location});return $.useLayoutEffect(()=>s.listen(l),[s]),$.createElement(tP,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:s})}const aP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",lP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,uP=$.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:l,target:u,to:c,preventScrollReset:h}=e,m=nP(e,sP),{basename:d}=$.useContext(Mu),v,P=!1;if(typeof c=="string"&&lP.test(c)&&(v=c,aP)){let E=new URL(window.location.href),I=c.startsWith("//")?new URL(E.protocol+c):new URL(c),R=Dw(I.pathname,d);I.origin===E.origin&&R!=null?c=R+I.search+I.hash:P=!0}let k=ZI(c,{relative:i}),V=cP(c,{replace:o,state:l,target:u,preventScrollReset:h,relative:i});function S(E){r&&r(E),E.defaultPrevented||V(E)}return $.createElement("a",df({},m,{href:v||k,onClick:P||s?r:S,ref:n,target:u}))});var uy;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmitImpl="useSubmitImpl",t.UseFetcher="useFetcher"})(uy||(uy={}));var cy;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(cy||(cy={}));function cP(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o}=e===void 0?{}:e,l=eP(),u=Yd(),c=bw(t,{relative:o});return $.useCallback(h=>{if(iP(h,n)){h.preventDefault();let m=r!==void 0?r:Xl(u)===Xl(c);l(t,{replace:m,state:i,preventScrollReset:s,relative:o})}},[u,l,c,r,i,n,t,s,o])}const Fw=$.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),Fu=$.createContext({});function hP(){return $.useContext(Fu).visualElement}const Xd=$.createContext(null),Uu=typeof document<"u",hy=Uu?$.useLayoutEffect:$.useEffect,Uw=$.createContext({strict:!1});function fP(t,e,n,r){const i=hP(),s=$.useContext(Uw),o=$.useContext(Xd),l=$.useContext(Fw).reducedMotion,u=$.useRef();r=r||s.renderer,!u.current&&r&&(u.current=r(t,{visualState:e,parent:i,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:l}));const c=u.current;return $.useInsertionEffect(()=>{c&&c.update(n,o)}),hy(()=>{c&&c.render()}),$.useEffect(()=>{c&&c.updateFeatures()}),(window.HandoffAppearAnimations?hy:$.useEffect)(()=>{c&&c.animationState&&c.animationState.animateChanges()}),c}function Ki(t){return typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function dP(t,e,n){return $.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Ki(n)&&(n.current=r))},[e])}function Wo(t){return typeof t=="string"||Array.isArray(t)}function Bu(t){return typeof t=="object"&&typeof t.start=="function"}const Jd=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Zd=["initial",...Jd];function ju(t){return Bu(t.animate)||Zd.some(e=>Wo(t[e]))}function Bw(t){return!!(ju(t)||t.variants)}function pP(t,e){if(ju(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Wo(n)?n:void 0,animate:Wo(r)?r:void 0}}return t.inherit!==!1?e:{}}function mP(t){const{initial:e,animate:n}=pP(t,$.useContext(Fu));return $.useMemo(()=>({initial:e,animate:n}),[fy(e),fy(n)])}function fy(t){return Array.isArray(t)?t.join(" "):t}const dy={animation:["animate","exit","variants","whileHover","whileTap","whileFocus","whileDrag","whileInView"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},qo={};for(const t in dy)qo[t]={isEnabled:e=>dy[t].some(n=>!!e[n])};function gP(t){for(const e in t)qo[e]={...qo[e],...t[e]}}function jw(t){const e=$.useRef(null);return e.current===null&&(e.current=t()),e.current}const yo={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let yP=1;function vP(){return jw(()=>{if(yo.hasEverUpdated)return yP++})}const zw=$.createContext({}),$w=$.createContext({}),_P=Symbol.for("motionComponentSymbol");function wP({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&gP(t);function s(l,u){let c;const h={...$.useContext(Fw),...l,layoutId:EP(l)},{isStatic:m}=h,d=mP(l),v=m?void 0:vP(),P=r(l,m);if(!m&&Uu){d.visualElement=fP(i,P,h,e);const k=$.useContext($w),V=$.useContext(Uw).strict;d.visualElement&&(c=d.visualElement.loadFeatures(h,V,t,v,k))}return $.createElement(Fu.Provider,{value:d},c&&d.visualElement?$.createElement(c,{visualElement:d.visualElement,...h}):null,n(i,l,v,dP(P,d.visualElement,u),P,m,d.visualElement))}const o=$.forwardRef(s);return o[_P]=i,o}function EP({layoutId:t}){const e=$.useContext(zw).id;return e&&t!==void 0?e+"-"+t:t}function TP(t){function e(r,i={}){return wP(t(r,i))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,i)=>(n.has(i)||n.set(i,e(i)),n.get(i))})}const SP=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function ep(t){return typeof t!="string"||t.includes("-")?!1:!!(SP.indexOf(t)>-1||/[A-Z]/.test(t))}const Jl={};function AP(t){Object.assign(Jl,t)}const zu=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ei=new Set(zu);function Hw(t,{layout:e,layoutId:n}){return Ei.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Jl[t]||t==="opacity")}const jt=t=>!!(t&&t.getVelocity),IP={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},PP=zu.length;function CP(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},r,i){let s="";for(let o=0;o<PP;o++){const l=zu[o];if(t[l]!==void 0){const u=IP[l]||l;s+=`${u}(${t[l]}) `}}return e&&!t.z&&(s+="translateZ(0)"),s=s.trim(),i?s=i(t,r?"":s):n&&r&&(s="none"),s}const Ww=t=>e=>typeof e=="string"&&e.startsWith(t),qw=Ww("--"),pf=Ww("var(--"),RP=(t,e)=>e&&typeof t=="number"?e.transform(t):t,cs=(t,e,n)=>Math.min(Math.max(n,t),e),Ti={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},vo={...Ti,transform:t=>cs(0,1,t)},Za={...Ti,default:1},_o=t=>Math.round(t*1e5)/1e5,Ko=/(-)?([\d]*\.?[\d])+/g,mf=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,xP=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function ca(t){return typeof t=="string"}const ha=t=>({test:e=>ca(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),ar=ha("deg"),Dn=ha("%"),Z=ha("px"),kP=ha("vh"),VP=ha("vw"),py={...Dn,parse:t=>Dn.parse(t)/100,transform:t=>Dn.transform(t*100)},my={...Ti,transform:Math.round},Kw={borderWidth:Z,borderTopWidth:Z,borderRightWidth:Z,borderBottomWidth:Z,borderLeftWidth:Z,borderRadius:Z,radius:Z,borderTopLeftRadius:Z,borderTopRightRadius:Z,borderBottomRightRadius:Z,borderBottomLeftRadius:Z,width:Z,maxWidth:Z,height:Z,maxHeight:Z,size:Z,top:Z,right:Z,bottom:Z,left:Z,padding:Z,paddingTop:Z,paddingRight:Z,paddingBottom:Z,paddingLeft:Z,margin:Z,marginTop:Z,marginRight:Z,marginBottom:Z,marginLeft:Z,rotate:ar,rotateX:ar,rotateY:ar,rotateZ:ar,scale:Za,scaleX:Za,scaleY:Za,scaleZ:Za,skew:ar,skewX:ar,skewY:ar,distance:Z,translateX:Z,translateY:Z,translateZ:Z,x:Z,y:Z,z:Z,perspective:Z,transformPerspective:Z,opacity:vo,originX:py,originY:py,originZ:Z,zIndex:my,fillOpacity:vo,strokeOpacity:vo,numOctaves:my};function tp(t,e,n,r){const{style:i,vars:s,transform:o,transformOrigin:l}=t;let u=!1,c=!1,h=!0;for(const m in e){const d=e[m];if(qw(m)){s[m]=d;continue}const v=Kw[m],P=RP(d,v);if(Ei.has(m)){if(u=!0,o[m]=P,!h)continue;d!==(v.default||0)&&(h=!1)}else m.startsWith("origin")?(c=!0,l[m]=P):i[m]=P}if(e.transform||(u||r?i.transform=CP(t.transform,n,h,r):i.transform&&(i.transform="none")),c){const{originX:m="50%",originY:d="50%",originZ:v=0}=l;i.transformOrigin=`${m} ${d} ${v}`}}const np=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Gw(t,e,n){for(const r in e)!jt(e[r])&&!Hw(r,n)&&(t[r]=e[r])}function DP({transformTemplate:t},e,n){return $.useMemo(()=>{const r=np();return tp(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}function NP(t,e,n){const r=t.style||{},i={};return Gw(i,r,t),Object.assign(i,DP(t,e,n)),t.transformValues?t.transformValues(i):i}function LP(t,e,n){const r={},i=NP(t,e,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=i,r}const OP=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","ignoreStrict","viewport"]);function Zl(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||OP.has(t)}let Qw=t=>!Zl(t);function MP(t){t&&(Qw=e=>e.startsWith("on")?!Zl(e):t(e))}try{MP(require("@emotion/is-prop-valid").default)}catch{}function bP(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(Qw(i)||n===!0&&Zl(i)||!e&&!Zl(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function gy(t,e,n){return typeof t=="string"?t:Z.transform(e+n*t)}function FP(t,e,n){const r=gy(e,t.x,t.width),i=gy(n,t.y,t.height);return`${r} ${i}`}const UP={offset:"stroke-dashoffset",array:"stroke-dasharray"},BP={offset:"strokeDashoffset",array:"strokeDasharray"};function jP(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?UP:BP;t[s.offset]=Z.transform(-r);const o=Z.transform(e),l=Z.transform(n);t[s.array]=`${o} ${l}`}function rp(t,{attrX:e,attrY:n,originX:r,originY:i,pathLength:s,pathSpacing:o=1,pathOffset:l=0,...u},c,h,m){if(tp(t,u,c,m),h){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:d,style:v,dimensions:P}=t;d.transform&&(P&&(v.transform=d.transform),delete d.transform),P&&(r!==void 0||i!==void 0||v.transform)&&(v.transformOrigin=FP(P,r!==void 0?r:.5,i!==void 0?i:.5)),e!==void 0&&(d.x=e),n!==void 0&&(d.y=n),s!==void 0&&jP(d,s,o,l,!1)}const Yw=()=>({...np(),attrs:{}}),ip=t=>typeof t=="string"&&t.toLowerCase()==="svg";function zP(t,e,n,r){const i=$.useMemo(()=>{const s=Yw();return rp(s,e,{enableHardwareAcceleration:!1},ip(r),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};Gw(s,t.style,t),i.style={...s,...i.style}}return i}function $P(t=!1){return(n,r,i,s,{latestValues:o},l)=>{const c=(ep(n)?zP:LP)(r,o,l,n),m={...bP(r,typeof n=="string",t),...c,ref:s},{children:d}=r,v=$.useMemo(()=>jt(d)?d.get():d,[d]);return i&&(m["data-projection-id"]=i),$.createElement(n,{...m,children:v})}}const sp=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();function Xw(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}const Jw=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Zw(t,e,n,r){Xw(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(Jw.has(i)?i:sp(i),e.attrs[i])}function op(t,e){const{style:n}=t,r={};for(const i in n)(jt(n[i])||e.style&&jt(e.style[i])||Hw(i,t))&&(r[i]=n[i]);return r}function eE(t,e){const n=op(t,e);for(const r in t)if(jt(t[r])||jt(e[r])){const i=r==="x"||r==="y"?"attr"+r.toUpperCase():r;n[i]=t[r]}return n}function ap(t,e,n,r={},i={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),e}const eu=t=>Array.isArray(t),HP=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),WP=t=>eu(t)?t[t.length-1]||0:t;function wl(t){const e=jt(t)?t.get():t;return HP(e)?e.toValue():e}function qP({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,i,s){const o={latestValues:KP(r,i,s,t),renderState:e()};return n&&(o.mount=l=>n(r,l,o)),o}const tE=t=>(e,n)=>{const r=$.useContext(Fu),i=$.useContext(Xd),s=()=>qP(t,e,r,i);return n?s():jw(s)};function KP(t,e,n,r){const i={},s=r(t,{});for(const d in s)i[d]=wl(s[d]);let{initial:o,animate:l}=t;const u=ju(t),c=Bw(t);e&&c&&!u&&t.inherit!==!1&&(o===void 0&&(o=e.initial),l===void 0&&(l=e.animate));let h=n?n.initial===!1:!1;h=h||o===!1;const m=h?l:o;return m&&typeof m!="boolean"&&!Bu(m)&&(Array.isArray(m)?m:[m]).forEach(v=>{const P=ap(t,v);if(!P)return;const{transitionEnd:k,transition:V,...S}=P;for(const E in S){let I=S[E];if(Array.isArray(I)){const R=h?I.length-1:0;I=I[R]}I!==null&&(i[E]=I)}for(const E in k)i[E]=k[E]}),i}const GP={useVisualState:tE({scrapeMotionValuesFromProps:eE,createRenderState:Yw,onMount:(t,e,{renderState:n,latestValues:r})=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}rp(n,r,{enableHardwareAcceleration:!1},ip(e.tagName),t.transformTemplate),Zw(e,n)}})},QP={useVisualState:tE({scrapeMotionValuesFromProps:op,createRenderState:np})};function YP(t,{forwardMotionProps:e=!1},n,r){return{...ep(t)?GP:QP,preloadedFeatures:n,useRender:$P(e),createVisualElement:r,Component:t}}function qn(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const nE=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function $u(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const XP=t=>e=>nE(e)&&t(e,$u(e));function Gn(t,e,n,r){return qn(t,e,XP(n),r)}const JP=(t,e)=>n=>e(t(n)),Ir=(...t)=>t.reduce(JP);function rE(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const yy=rE("dragHorizontal"),vy=rE("dragVertical");function iE(t){let e=!1;if(t==="y")e=vy();else if(t==="x")e=yy();else{const n=yy(),r=vy();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function sE(){const t=iE(!0);return t?(t(),!1):!0}class jr{constructor(e){this.isMounted=!1,this.node=e}update(){}}function _y(t,e){const n="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),i=(s,o)=>{if(s.type==="touch"||sE())return;const l=t.getProps();t.animationState&&l.whileHover&&t.animationState.setActive("whileHover",e),l[r]&&l[r](s,o)};return Gn(t.current,n,i,{passive:!t.getProps()[r]})}class ZP extends jr{mount(){this.unmount=Ir(_y(this.node,!0),_y(this.node,!1))}unmount(){}}class eC extends jr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ir(qn(this.node.current,"focus",()=>this.onFocus()),qn(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const oE=(t,e)=>e?t===e?!0:oE(t,e.parentElement):!1,an=t=>t;function Qc(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,$u(n))}class tC extends jr{constructor(){super(...arguments),this.removeStartListeners=an,this.removeEndListeners=an,this.removeAccessibleListeners=an,this.startPointerPress=(e,n)=>{if(this.removeEndListeners(),this.isPressing)return;const r=this.node.getProps(),s=Gn(window,"pointerup",(l,u)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:h}=this.node.getProps();oE(this.node.current,l.target)?c&&c(l,u):h&&h(l,u)},{passive:!(r.onTap||r.onPointerUp)}),o=Gn(window,"pointercancel",(l,u)=>this.cancelPress(l,u),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Ir(s,o),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=l=>{l.key!=="Enter"||!this.checkPressEnd()||Qc("up",this.node.getProps().onTap)};this.removeEndListeners(),this.removeEndListeners=qn(this.node.current,"keyup",o),Qc("down",(l,u)=>{this.startPress(l,u)})},n=qn(this.node.current,"keydown",e),r=()=>{this.isPressing&&Qc("cancel",(s,o)=>this.cancelPress(s,o))},i=qn(this.node.current,"blur",r);this.removeAccessibleListeners=Ir(n,i)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&r(e,n)}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!sE()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&r(e,n)}mount(){const e=this.node.getProps(),n=Gn(this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=qn(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Ir(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const gf=new WeakMap,Yc=new WeakMap,nC=t=>{const e=gf.get(t.target);e&&e(t)},rC=t=>{t.forEach(nC)};function iC({root:t,...e}){const n=t||document;Yc.has(n)||Yc.set(n,{});const r=Yc.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(rC,{root:t,...e})),r[i]}function sC(t,e,n){const r=iC(e);return gf.set(t,n),r.observe(t),()=>{gf.delete(t),r.unobserve(t)}}const oC={some:0,all:1};class aC extends jr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}viewportFallback(){requestAnimationFrame(()=>{this.hasEnteredView=!0;const{onViewportEnter:e}=this.node.getProps();e&&e(null),this.node.animationState&&this.node.animationState.setActive("whileInView",!0)})}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s,fallback:o=!0}=e;if(typeof IntersectionObserver>"u"){o&&this.viewportFallback();return}const l={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:oC[i]},u=c=>{const{isIntersecting:h}=c;if(this.isInView===h||(this.isInView=h,s&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:m,onViewportLeave:d}=this.node.getProps(),v=h?m:d;v&&v(c)};return sC(this.node.current,l,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(lC(e,n))&&this.startObserver()}unmount(){}}function lC({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const uC={inView:{Feature:aC},tap:{Feature:tC},focus:{Feature:eC},hover:{Feature:ZP}};function aE(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const cC=t=>/^\-?\d*\.?\d+$/.test(t),hC=t=>/^0[^.\s]+$/.test(t),Qn={delta:0,timestamp:0},lE=1/60*1e3,fC=typeof performance<"u"?()=>performance.now():()=>Date.now(),uE=typeof window<"u"?t=>window.requestAnimationFrame(t):t=>setTimeout(()=>t(fC()),lE);function dC(t){let e=[],n=[],r=0,i=!1,s=!1;const o=new WeakSet,l={schedule:(u,c=!1,h=!1)=>{const m=h&&i,d=m?e:n;return c&&o.add(u),d.indexOf(u)===-1&&(d.push(u),m&&i&&(r=e.length)),u},cancel:u=>{const c=n.indexOf(u);c!==-1&&n.splice(c,1),o.delete(u)},process:u=>{if(i){s=!0;return}if(i=!0,[e,n]=[n,e],n.length=0,r=e.length,r)for(let c=0;c<r;c++){const h=e[c];h(u),o.has(h)&&(l.schedule(h),t())}i=!1,s&&(s=!1,l.process(u))}};return l}const pC=40;let yf=!0,Go=!1,vf=!1;const fa=["read","update","preRender","render","postRender"],Hu=fa.reduce((t,e)=>(t[e]=dC(()=>Go=!0),t),{}),xt=fa.reduce((t,e)=>{const n=Hu[e];return t[e]=(r,i=!1,s=!1)=>(Go||gC(),n.schedule(r,i,s)),t},{}),Nr=fa.reduce((t,e)=>(t[e]=Hu[e].cancel,t),{}),Xc=fa.reduce((t,e)=>(t[e]=()=>Hu[e].process(Qn),t),{}),mC=t=>Hu[t].process(Qn),cE=t=>{Go=!1,Qn.delta=yf?lE:Math.max(Math.min(t-Qn.timestamp,pC),1),Qn.timestamp=t,vf=!0,fa.forEach(mC),vf=!1,Go&&(yf=!1,uE(cE))},gC=()=>{Go=!0,yf=!0,vf||uE(cE)};function lp(t,e){t.indexOf(e)===-1&&t.push(e)}function up(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class cp{constructor(){this.subscriptions=[]}add(e){return lp(this.subscriptions,e),()=>up(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function hp(t,e){return e?t*(1e3/e):0}const yC=t=>!isNaN(parseFloat(t));class vC{constructor(e,n={}){this.version="9.1.7",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{this.prev=this.current,this.current=r;const{delta:s,timestamp:o}=Qn;this.lastUpdated!==o&&(this.timeDelta=s,this.lastUpdated=o,xt.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>xt.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=yC(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new cp);const r=this.events[e].add(n);return e==="change"?()=>{r(),xt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?hp(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n)||null,this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){this.animation=null}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function hs(t,e){return new vC(t,e)}const fp=(t,e)=>n=>!!(ca(n)&&xP.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),hE=(t,e,n)=>r=>{if(!ca(r))return r;const[i,s,o,l]=r.match(Ko);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},_C=t=>cs(0,255,t),Jc={...Ti,transform:t=>Math.round(_C(t))},ii={test:fp("rgb","red"),parse:hE("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Jc.transform(t)+", "+Jc.transform(e)+", "+Jc.transform(n)+", "+_o(vo.transform(r))+")"};function wC(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const _f={test:fp("#"),parse:wC,transform:ii.transform},Gi={test:fp("hsl","hue"),parse:hE("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Dn.transform(_o(e))+", "+Dn.transform(_o(n))+", "+_o(vo.transform(r))+")"},Pt={test:t=>ii.test(t)||_f.test(t)||Gi.test(t),parse:t=>ii.test(t)?ii.parse(t):Gi.test(t)?Gi.parse(t):_f.parse(t),transform:t=>ca(t)?t:t.hasOwnProperty("red")?ii.transform(t):Gi.transform(t)},fE="${c}",dE="${n}";function EC(t){var e,n;return isNaN(t)&&ca(t)&&(((e=t.match(Ko))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(mf))===null||n===void 0?void 0:n.length)||0)>0}function tu(t){typeof t=="number"&&(t=`${t}`);const e=[];let n=0,r=0;const i=t.match(mf);i&&(n=i.length,t=t.replace(mf,fE),e.push(...i.map(Pt.parse)));const s=t.match(Ko);return s&&(r=s.length,t=t.replace(Ko,dE),e.push(...s.map(Ti.parse))),{values:e,numColors:n,numNumbers:r,tokenised:t}}function pE(t){return tu(t).values}function mE(t){const{values:e,numColors:n,tokenised:r}=tu(t),i=e.length;return s=>{let o=r;for(let l=0;l<i;l++)o=o.replace(l<n?fE:dE,l<n?Pt.transform(s[l]):_o(s[l]));return o}}const TC=t=>typeof t=="number"?0:t;function SC(t){const e=pE(t);return mE(t)(e.map(TC))}const Lr={test:EC,parse:pE,createTransformer:mE,getAnimatableNone:SC},AC=new Set(["brightness","contrast","saturate","opacity"]);function IC(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Ko)||[];if(!r)return t;const i=n.replace(r,"");let s=AC.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const PC=/([a-z-]*)\(.*?\)/g,wf={...Lr,getAnimatableNone:t=>{const e=t.match(PC);return e?e.map(IC).join(" "):t}},CC={...Kw,color:Pt,backgroundColor:Pt,outlineColor:Pt,fill:Pt,stroke:Pt,borderColor:Pt,borderTopColor:Pt,borderRightColor:Pt,borderBottomColor:Pt,borderLeftColor:Pt,filter:wf,WebkitFilter:wf},dp=t=>CC[t];function pp(t,e){let n=dp(t);return n!==wf&&(n=Lr),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const gE=t=>e=>e.test(t),RC={test:t=>t==="auto",parse:t=>t},yE=[Ti,Z,Dn,ar,VP,kP,RC],Qs=t=>yE.find(gE(t)),xC=[...yE,Pt,Lr],kC=t=>xC.find(gE(t));function VC(t){const e={};return t.values.forEach((n,r)=>e[r]=n.get()),e}function DC(t){const e={};return t.values.forEach((n,r)=>e[r]=n.getVelocity()),e}function Wu(t,e,n){const r=t.getProps();return ap(r,e,n!==void 0?n:r.custom,VC(t),DC(t))}function NC(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,hs(n))}function LC(t,e){const n=Wu(t,e);let{transitionEnd:r={},transition:i={},...s}=n?t.makeTargetAnimatable(n,!1):{};s={...s,...r};for(const o in s){const l=WP(s[o]);NC(t,o,l)}}function OC(t,e,n){var r,i;const s=Object.keys(e).filter(l=>!t.hasValue(l)),o=s.length;if(o)for(let l=0;l<o;l++){const u=s[l],c=e[u];let h=null;Array.isArray(c)&&(h=c[0]),h===null&&(h=(i=(r=n[u])!==null&&r!==void 0?r:t.readValue(u))!==null&&i!==void 0?i:e[u]),h!=null&&(typeof h=="string"&&(cC(h)||hC(h))?h=parseFloat(h):!kC(h)&&Lr.test(c)&&(h=pp(u,c)),t.addValue(u,hs(h,{owner:t})),n[u]===void 0&&(n[u]=h),h!==null&&t.setBaseTarget(u,h))}}function MC(t,e){return e?(e[t]||e.default||e).from:void 0}function bC(t,e,n){const r={};for(const i in t){const s=MC(i,e);if(s!==void 0)r[i]=s;else{const o=n.getValue(i);o&&(r[i]=o.get())}}return r}function nu(t){return!!(jt(t)&&t.add)}const FC="framerAppearId",UC="data-"+sp(FC);let BC=an,ru=an;const El=t=>t*1e3,jC={current:!1},mp=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,gp=t=>e=>1-t(1-e),yp=t=>t*t,zC=gp(yp),vp=mp(yp),Fe=(t,e,n)=>-n*t+n*e+t;function Zc(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function $C({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const l=n<.5?n*(1+e):n+e-n*e,u=2*n-l;i=Zc(u,l,t+1/3),s=Zc(u,l,t),o=Zc(u,l,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}const eh=(t,e,n)=>{const r=t*t;return Math.sqrt(Math.max(0,n*(e*e-r)+r))},HC=[_f,ii,Gi],WC=t=>HC.find(e=>e.test(t));function wy(t){const e=WC(t);let n=e.parse(t);return e===Gi&&(n=$C(n)),n}const vE=(t,e)=>{const n=wy(t),r=wy(e),i={...n};return s=>(i.red=eh(n.red,r.red,s),i.green=eh(n.green,r.green,s),i.blue=eh(n.blue,r.blue,s),i.alpha=Fe(n.alpha,r.alpha,s),ii.transform(i))};function _E(t,e){return typeof t=="number"?n=>Fe(t,e,n):Pt.test(t)?vE(t,e):EE(t,e)}const wE=(t,e)=>{const n=[...t],r=n.length,i=t.map((s,o)=>_E(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}},qC=(t,e)=>{const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=_E(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}},EE=(t,e)=>{const n=Lr.createTransformer(e),r=tu(t),i=tu(e);return r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?Ir(wE(r.values,i.values),n):o=>`${o>0?e:t}`},Qo=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},Ey=(t,e)=>n=>Fe(t,e,n);function KC(t){return typeof t=="number"?Ey:typeof t=="string"?Pt.test(t)?vE:EE:Array.isArray(t)?wE:typeof t=="object"?qC:Ey}function GC(t,e,n){const r=[],i=n||KC(t[0]),s=t.length-1;for(let o=0;o<s;o++){let l=i(t[o],t[o+1]);if(e){const u=Array.isArray(e)?e[o]:e;l=Ir(u,l)}r.push(l)}return r}function TE(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;ru(s===e.length),ru(!r||!Array.isArray(r)||r.length===s-1),t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=GC(e,r,i),l=o.length,u=c=>{let h=0;if(l>1)for(;h<t.length-2&&!(c<t[h+1]);h++);const m=Qo(t[h],t[h+1],c);return o[h](m)};return n?c=>u(cs(t[0],t[s-1],c)):u}function QC(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=Qo(0,e,r);t.push(Fe(n,1,i))}}function YC(t){const e=[0];return QC(e,t.length-1),e}function XC(t,e){return t.map(n=>n*e)}const SE=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,JC=1e-7,ZC=12;function eR(t,e,n,r,i){let s,o,l=0;do o=e+(n-e)/2,s=SE(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>JC&&++l<ZC);return o}function AE(t,e,n,r){if(t===e&&n===r)return an;const i=s=>eR(s,0,1,t,n);return s=>s===0||s===1?s:SE(i(s),e,r)}const IE=t=>1-Math.sin(Math.acos(t)),_p=gp(IE),tR=mp(_p),PE=AE(.33,1.53,.69,.99),wp=gp(PE),nR=mp(wp),rR=t=>(t*=2)<1?.5*wp(t):.5*(2-Math.pow(2,-10*(t-1))),iR={linear:an,easeIn:yp,easeInOut:vp,easeOut:zC,circIn:IE,circInOut:tR,circOut:_p,backIn:wp,backInOut:nR,backOut:PE,anticipate:rR},Ty=t=>{if(Array.isArray(t)){ru(t.length===4);const[e,n,r,i]=t;return AE(e,n,r,i)}else if(typeof t=="string")return iR[t];return t},sR=t=>Array.isArray(t)&&typeof t[0]!="number";function oR(t,e){return t.map(()=>e||vp).splice(0,t.length-1)}function Ef({keyframes:t,ease:e=vp,times:n,duration:r=300}){t=[...t];const i=sR(e)?e.map(Ty):Ty(e),s={done:!1,value:t[0]},o=XC(n&&n.length===t.length?n:YC(t),r);function l(){return TE(o,t,{ease:Array.isArray(i)?i:oR(t,i)})}let u=l();return{next:c=>(s.value=u(c),s.done=c>=r,s),flipTarget:()=>{t.reverse(),u=l()}}}const th=.001,aR=.01,Sy=10,lR=.05,uR=1;function cR({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let i,s;BC(t<=Sy*1e3);let o=1-e;o=cs(lR,uR,o),t=cs(aR,Sy,t/1e3),o<1?(i=c=>{const h=c*o,m=h*t,d=h-n,v=Tf(c,o),P=Math.exp(-m);return th-d/v*P},s=c=>{const m=c*o*t,d=m*n+n,v=Math.pow(o,2)*Math.pow(c,2)*t,P=Math.exp(-m),k=Tf(Math.pow(c,2),o);return(-i(c)+th>0?-1:1)*((d-v)*P)/k}):(i=c=>{const h=Math.exp(-c*t),m=(c-n)*t+1;return-th+h*m},s=c=>{const h=Math.exp(-c*t),m=(n-c)*(t*t);return h*m});const l=5/t,u=fR(i,s,l);if(t=t*1e3,isNaN(u))return{stiffness:100,damping:10,duration:t};{const c=Math.pow(u,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:t}}}const hR=12;function fR(t,e,n){let r=n;for(let i=1;i<hR;i++)r=r-t(r)/e(r);return r}function Tf(t,e){return t*Math.sqrt(1-e*e)}const dR=["duration","bounce"],pR=["stiffness","damping","mass"];function Ay(t,e){return e.some(n=>t[n]!==void 0)}function mR(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!Ay(t,pR)&&Ay(t,dR)){const n=cR(t);e={...e,...n,velocity:0,mass:1},e.isResolvedFromDuration=!0}return e}const gR=5;function CE({keyframes:t,restDelta:e,restSpeed:n,...r}){let i=t[0],s=t[t.length-1];const o={done:!1,value:i},{stiffness:l,damping:u,mass:c,velocity:h,duration:m,isResolvedFromDuration:d}=mR(r);let v=yR,P=h?-(h/1e3):0;const k=u/(2*Math.sqrt(l*c));function V(){const S=s-i,E=Math.sqrt(l/c)/1e3,I=Math.abs(S)<5;if(n||(n=I?.01:2),e||(e=I?.005:.5),k<1){const R=Tf(E,k);v=L=>{const O=Math.exp(-k*E*L);return s-O*((P+k*E*S)/R*Math.sin(R*L)+S*Math.cos(R*L))}}else if(k===1)v=R=>s-Math.exp(-E*R)*(S+(P+E*S)*R);else{const R=E*Math.sqrt(k*k-1);v=L=>{const O=Math.exp(-k*E*L),T=Math.min(R*L,300);return s-O*((P+k*E*S)*Math.sinh(T)+R*S*Math.cosh(T))/R}}}return V(),{next:S=>{const E=v(S);if(d)o.done=S>=m;else{let I=P;if(S!==0)if(k<1){const O=Math.max(0,S-gR);I=hp(E-v(O),S-O)}else I=0;const R=Math.abs(I)<=n,L=Math.abs(s-E)<=e;o.done=R&&L}return o.value=o.done?s:E,o},flipTarget:()=>{P=-P,[i,s]=[s,i],V()}}}CE.needsInterpolation=(t,e)=>typeof t=="string"||typeof e=="string";const yR=t=>0;function vR({keyframes:t=[0],velocity:e=0,power:n=.8,timeConstant:r=350,restDelta:i=.5,modifyTarget:s}){const o=t[0],l={done:!1,value:o};let u=n*e;const c=o+u,h=s===void 0?c:s(c);return h!==c&&(u=h-o),{next:m=>{const d=-u*Math.exp(-m/r);return l.done=!(d>i||d<-i),l.value=l.done?h:h+d,l},flipTarget:()=>{}}}const _R={decay:vR,keyframes:Ef,tween:Ef,spring:CE};function RE(t,e,n=0){return t-e-n}function wR(t,e=0,n=0,r=!0){return r?RE(e+-t,e,n):e-(t-e)+n}function ER(t,e,n,r){return r?t>=e+n:t<=-n}const TR=t=>{const e=({delta:n})=>t(n);return{start:()=>xt.update(e,!0),stop:()=>Nr.update(e)}};function iu({duration:t,driver:e=TR,elapsed:n=0,repeat:r=0,repeatType:i="loop",repeatDelay:s=0,keyframes:o,autoplay:l=!0,onPlay:u,onStop:c,onComplete:h,onRepeat:m,onUpdate:d,type:v="keyframes",...P}){const k=n;let V,S=0,E=t,I=!1,R=!0,L;const O=_R[o.length>2?"keyframes":v]||Ef,T=o[0],g=o[o.length-1];let y={done:!1,value:T};const{needsInterpolation:w}=O;w&&w(T,g)&&(L=TE([0,100],[T,g],{clamp:!1}),o=[0,100]);const C=O({...P,duration:t,keyframes:o});function x(){S++,i==="reverse"?(R=S%2===0,n=wR(n,E,s,R)):(n=RE(n,E,s),i==="mirror"&&C.flipTarget()),I=!1,m&&m()}function A(){V&&V.stop(),h&&h()}function Q(se){R||(se=-se),n+=se,I||(y=C.next(Math.max(0,n)),L&&(y.value=L(y.value)),I=R?y.done:n<=0),d&&d(y.value),I&&(S===0&&(E=E!==void 0?E:n),S<r?ER(n,E,s,R)&&x():A())}function ie(){u&&u(),V=e(Q),V.start()}return l&&ie(),{stop:()=>{c&&c(),V&&V.stop()},set currentTime(se){n=k,Q(se)},sample:se=>{n=k;const W=t&&typeof t=="number"?Math.max(t*.5,50):50;let F=0;for(Q(0);F<=se;){const U=se-F;Q(Math.min(U,W)),F+=W}return y}}}function SR(t){return!t||Array.isArray(t)||typeof t=="string"&&xE[t]}const ro=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,xE={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ro([0,.65,.55,1]),circOut:ro([.55,0,1,.45]),backIn:ro([.31,.01,.66,-.59]),backOut:ro([.33,1.53,.69,.99])};function AR(t){if(t)return Array.isArray(t)?ro(t):xE[t]}function IR(t,e,n,{delay:r=0,duration:i,repeat:s=0,repeatType:o="loop",ease:l,times:u}={}){return t.animate({[e]:n,offset:u},{delay:r,duration:i,easing:AR(l),fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}const Iy={waapi:()=>Object.hasOwnProperty.call(Element.prototype,"animate")},nh={},kE={};for(const t in Iy)kE[t]=()=>(nh[t]===void 0&&(nh[t]=Iy[t]()),nh[t]);function PR(t,{repeat:e,repeatType:n="loop"}){const r=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[r]}const CR=new Set(["opacity","clipPath","filter","transform"]),el=10;function RR(t,e,{onUpdate:n,onComplete:r,...i}){if(!(kE.waapi()&&CR.has(e)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0))return!1;let{keyframes:o,duration:l=300,elapsed:u=0,ease:c}=i;if(i.type==="spring"||!SR(i.ease)){if(i.repeat===1/0)return;const m=iu({...i,elapsed:0});let d={done:!1,value:o[0]};const v=[];let P=0;for(;!d.done&&P<2e4;)d=m.sample(P),v.push(d.value),P+=el;o=v,l=P-el,c="linear"}const h=IR(t.owner.current,e,o,{...i,delay:-u,duration:l,ease:c});return h.onfinish=()=>{t.set(PR(o,i)),xt.update(()=>h.cancel()),r&&r()},{get currentTime(){return h.currentTime||0},set currentTime(m){h.currentTime=m},stop:()=>{const{currentTime:m}=h;if(m){const d=iu({...i,autoplay:!1});t.setWithVelocity(d.sample(m-el).value,d.sample(m).value,el)}xt.update(()=>h.cancel())}}}function VE(t,e){const n=performance.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(Nr.read(r),t(s-e))};return xt.read(r,!0),()=>Nr.read(r)}function xR({keyframes:t,elapsed:e,onUpdate:n,onComplete:r}){const i=()=>{n&&n(t[t.length-1]),r&&r()};return e?{stop:VE(i,-e)}:i()}function kR({keyframes:t,velocity:e=0,min:n,max:r,power:i=.8,timeConstant:s=750,bounceStiffness:o=500,bounceDamping:l=10,restDelta:u=1,modifyTarget:c,driver:h,onUpdate:m,onComplete:d,onStop:v}){const P=t[0];let k;function V(R){return n!==void 0&&R<n||r!==void 0&&R>r}function S(R){return n===void 0?r:r===void 0||Math.abs(n-R)<Math.abs(r-R)?n:r}function E(R){k&&k.stop(),k=iu({keyframes:[0,1],velocity:0,...R,driver:h,onUpdate:L=>{m&&m(L),R.onUpdate&&R.onUpdate(L)},onComplete:d,onStop:v})}function I(R){E({type:"spring",stiffness:o,damping:l,restDelta:u,...R})}if(V(P))I({velocity:e,keyframes:[P,S(P)]});else{let R=i*e+P;typeof c<"u"&&(R=c(R));const L=S(R),O=L===n?-1:1;let T,g;const y=w=>{T=g,g=w,e=hp(w-T,Qn.delta),(O===1&&w>L||O===-1&&w<L)&&I({keyframes:[w,L],velocity:e})};E({type:"decay",keyframes:[P,0],velocity:e,timeConstant:s,power:i,restDelta:u,modifyTarget:c,onUpdate:V(R)?y:void 0})}return{stop:()=>k&&k.stop()}}const VR={type:"spring",stiffness:500,damping:25,restSpeed:10},DR=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),NR={type:"keyframes",duration:.8},LR={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},OR=(t,{keyframes:e})=>e.length>2?NR:Ei.has(t)?t.startsWith("scale")?DR(e[1]):VR:LR,Sf=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&Lr.test(e)&&!e.startsWith("url("));function MR({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:l,from:u,elapsed:c,...h}){return!!Object.keys(h).length}function Py(t){return t===0||typeof t=="string"&&parseFloat(t)===0&&t.indexOf(" ")===-1}function Cy(t){return typeof t=="number"?0:pp("",t)}function DE(t,e){return t[e]||t.default||t}function bR(t,e,n,r){const i=Sf(e,n);let s=r.from!==void 0?r.from:t.get();return s==="none"&&i&&typeof n=="string"?s=pp(e,n):Py(s)&&typeof n=="string"?s=Cy(n):!Array.isArray(n)&&Py(n)&&typeof s=="string"&&(n=Cy(s)),Array.isArray(n)?(n[0]===null&&(n[0]=s),n):[s,n]}const Ep=(t,e,n,r={})=>i=>{const s=DE(r,t)||{},o=s.delay||r.delay||0;let{elapsed:l=0}=r;l=l-El(o);const u=bR(e,t,n,s),c=u[0],h=u[u.length-1],m=Sf(t,c),d=Sf(t,h);let v={keyframes:u,velocity:e.getVelocity(),...s,elapsed:l,onUpdate:P=>{e.set(P),s.onUpdate&&s.onUpdate(P)},onComplete:()=>{i(),s.onComplete&&s.onComplete()}};if(!m||!d||jC.current||s.type===!1)return xR(v);if(s.type==="inertia")return kR(v);if(MR(s)||(v={...v,...OR(t,v)}),v.duration&&(v.duration=El(v.duration)),v.repeatDelay&&(v.repeatDelay=El(v.repeatDelay)),e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const P=RR(e,t,v);if(P)return P}return iu(v)};function FR(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>Af(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=Af(t,e,n);else{const i=typeof e=="function"?Wu(t,e,n.custom):e;r=NE(t,i,n)}return r.then(()=>t.notify("AnimationComplete",e))}function Af(t,e,n={}){const r=Wu(t,e,n.custom);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>NE(t,r,n):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:c=0,staggerChildren:h,staggerDirection:m}=i;return UR(t,e,c+u,h,m,n)}:()=>Promise.resolve(),{when:l}=i;if(l){const[u,c]=l==="beforeChildren"?[s,o]:[o,s];return u().then(c)}else return Promise.all([s(),o(n.delay)])}function NE(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:o,...l}=t.makeTargetAnimatable(e);const u=t.getValue("willChange");r&&(s=r);const c=[],h=i&&t.animationState&&t.animationState.getState()[i];for(const m in l){const d=t.getValue(m),v=l[m];if(!d||v===void 0||h&&jR(h,m))continue;const P={delay:n,elapsed:0,...s};if(window.HandoffAppearAnimations&&!d.hasAnimated){const V=t.getProps()[UC];V&&(P.elapsed=window.HandoffAppearAnimations(V,m,d,xt))}let k=d.start(Ep(m,d,v,t.shouldReduceMotion&&Ei.has(m)?{type:!1}:P));nu(u)&&(u.add(m),k=k.then(()=>u.remove(m))),c.push(k)}return Promise.all(c).then(()=>{o&&LC(t,o)})}function UR(t,e,n=0,r=0,i=1,s){const o=[],l=(t.variantChildren.size-1)*r,u=i===1?(c=0)=>c*r:(c=0)=>l-c*r;return Array.from(t.variantChildren).sort(BR).forEach((c,h)=>{c.notify("AnimationStart",e),o.push(Af(c,e,{...s,delay:n+u(h)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function BR(t,e){return t.sortNodePosition(e)}function jR({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}const zR=[...Jd].reverse(),$R=Jd.length;function HR(t){return e=>Promise.all(e.map(({animation:n,options:r})=>FR(t,n,r)))}function WR(t){let e=HR(t);const n=KR();let r=!0;const i=(u,c)=>{const h=Wu(t,c);if(h){const{transition:m,transitionEnd:d,...v}=h;u={...u,...v,...d}}return u};function s(u){e=u(t)}function o(u,c){const h=t.getProps(),m=t.getVariantContext(!0)||{},d=[],v=new Set;let P={},k=1/0;for(let S=0;S<$R;S++){const E=zR[S],I=n[E],R=h[E]!==void 0?h[E]:m[E],L=Wo(R),O=E===c?I.isActive:null;O===!1&&(k=S);let T=R===m[E]&&R!==h[E]&&L;if(T&&r&&t.manuallyAnimateOnMount&&(T=!1),I.protectedKeys={...P},!I.isActive&&O===null||!R&&!I.prevProp||Bu(R)||typeof R=="boolean")continue;const g=qR(I.prevProp,R);let y=g||E===c&&I.isActive&&!T&&L||S>k&&L;const w=Array.isArray(R)?R:[R];let C=w.reduce(i,{});O===!1&&(C={});const{prevResolvedValues:x={}}=I,A={...x,...C},Q=ie=>{y=!0,v.delete(ie),I.needsAnimating[ie]=!0};for(const ie in A){const se=C[ie],W=x[ie];P.hasOwnProperty(ie)||(se!==W?eu(se)&&eu(W)?!aE(se,W)||g?Q(ie):I.protectedKeys[ie]=!0:se!==void 0?Q(ie):v.add(ie):se!==void 0&&v.has(ie)?Q(ie):I.protectedKeys[ie]=!0)}I.prevProp=R,I.prevResolvedValues=C,I.isActive&&(P={...P,...C}),r&&t.blockInitialAnimation&&(y=!1),y&&!T&&d.push(...w.map(ie=>({animation:ie,options:{type:E,...u}})))}if(v.size){const S={};v.forEach(E=>{const I=t.getBaseTarget(E);I!==void 0&&(S[E]=I)}),d.push({animation:S})}let V=!!d.length;return r&&h.initial===!1&&!t.manuallyAnimateOnMount&&(V=!1),r=!1,V?e(d):Promise.resolve()}function l(u,c,h){var m;if(n[u].isActive===c)return Promise.resolve();(m=t.variantChildren)===null||m===void 0||m.forEach(v=>{var P;return(P=v.animationState)===null||P===void 0?void 0:P.setActive(u,c)}),n[u].isActive=c;const d=o(h,u);for(const v in n)n[v].protectedKeys={};return d}return{animateChanges:o,setActive:l,setAnimateFunction:s,getState:()=>n}}function qR(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!aE(e,t):!1}function Gr(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function KR(){return{animate:Gr(!0),whileInView:Gr(),whileHover:Gr(),whileTap:Gr(),whileDrag:Gr(),whileFocus:Gr(),exit:Gr()}}class GR extends jr{constructor(e){super(e),e.animationState||(e.animationState=WR(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),Bu(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let QR=0;class YR extends jr{constructor(){super(...arguments),this.id=QR++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const s=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});n&&!e&&s.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const XR={animation:{Feature:GR},exit:{Feature:YR}},Ry=(t,e)=>Math.abs(t-e);function JR(t,e){const n=Ry(t.x,e.x),r=Ry(t.y,e.y);return Math.sqrt(n**2+r**2)}class LE{constructor(e,n,{transformPagePoint:r}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const c=ih(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,m=JR(c.offset,{x:0,y:0})>=3;if(!h&&!m)return;const{point:d}=c,{timestamp:v}=Qn;this.history.push({...d,timestamp:v});const{onStart:P,onMove:k}=this.handlers;h||(P&&P(this.lastMoveEvent,c),this.startEvent=this.lastMoveEvent),k&&k(this.lastMoveEvent,c)},this.handlePointerMove=(c,h)=>{this.lastMoveEvent=c,this.lastMoveEventInfo=rh(h,this.transformPagePoint),xt.update(this.updatePoint,!0)},this.handlePointerUp=(c,h)=>{if(this.end(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const{onEnd:m,onSessionEnd:d}=this.handlers,v=ih(c.type==="pointercancel"?this.lastMoveEventInfo:rh(h,this.transformPagePoint),this.history);this.startEvent&&m&&m(c,v),d&&d(c,v)},!nE(e))return;this.handlers=n,this.transformPagePoint=r;const i=$u(e),s=rh(i,this.transformPagePoint),{point:o}=s,{timestamp:l}=Qn;this.history=[{...o,timestamp:l}];const{onSessionStart:u}=n;u&&u(e,ih(s,this.history)),this.removeListeners=Ir(Gn(window,"pointermove",this.handlePointerMove),Gn(window,"pointerup",this.handlePointerUp),Gn(window,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Nr.update(this.updatePoint)}}function rh(t,e){return e?{point:e(t.point)}:t}function xy(t,e){return{x:t.x-e.x,y:t.y-e.y}}function ih({point:t},e){return{point:t,delta:xy(t,OE(e)),offset:xy(t,ZR(e)),velocity:ex(e,.1)}}function ZR(t){return t[0]}function OE(t){return t[t.length-1]}function ex(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=OE(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>El(e)));)n--;if(!r)return{x:0,y:0};const s=(i.timestamp-r.timestamp)/1e3;if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Xt(t){return t.max-t.min}function If(t,e=0,n=.01){return Math.abs(t-e)<=n}function ky(t,e,n,r=.5){t.origin=r,t.originPoint=Fe(e.min,e.max,t.origin),t.scale=Xt(n)/Xt(e),(If(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=Fe(n.min,n.max,t.origin)-t.originPoint,(If(t.translate)||isNaN(t.translate))&&(t.translate=0)}function wo(t,e,n,r){ky(t.x,e.x,n.x,r?r.originX:void 0),ky(t.y,e.y,n.y,r?r.originY:void 0)}function Vy(t,e,n){t.min=n.min+e.min,t.max=t.min+Xt(e)}function tx(t,e,n){Vy(t.x,e.x,n.x),Vy(t.y,e.y,n.y)}function Dy(t,e,n){t.min=e.min-n.min,t.max=t.min+Xt(e)}function Eo(t,e,n){Dy(t.x,e.x,n.x),Dy(t.y,e.y,n.y)}function nx(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Fe(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Fe(n,t,r.max):Math.min(t,n)),t}function Ny(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function rx(t,{top:e,left:n,bottom:r,right:i}){return{x:Ny(t.x,n,i),y:Ny(t.y,e,r)}}function Ly(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function ix(t,e){return{x:Ly(t.x,e.x),y:Ly(t.y,e.y)}}function sx(t,e){let n=.5;const r=Xt(t),i=Xt(e);return i>r?n=Qo(e.min,e.max-r,t.min):r>i&&(n=Qo(t.min,t.max-i,e.min)),cs(0,1,n)}function ox(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Pf=.35;function ax(t=Pf){return t===!1?t=0:t===!0&&(t=Pf),{x:Oy(t,"left","right"),y:Oy(t,"top","bottom")}}function Oy(t,e,n){return{min:My(t,e),max:My(t,n)}}function My(t,e){return typeof t=="number"?t:t[e]||0}const by=()=>({translate:0,scale:1,origin:0,originPoint:0}),To=()=>({x:by(),y:by()}),Fy=()=>({min:0,max:0}),Ye=()=>({x:Fy(),y:Fy()});function Rn(t){return[t("x"),t("y")]}function ME({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function lx({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function ux(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function sh(t){return t===void 0||t===1}function Cf({scale:t,scaleX:e,scaleY:n}){return!sh(t)||!sh(e)||!sh(n)}function Xr(t){return Cf(t)||bE(t)||t.z||t.rotate||t.rotateX||t.rotateY}function bE(t){return Uy(t.x)||Uy(t.y)}function Uy(t){return t&&t!=="0%"}function su(t,e,n){const r=t-n,i=e*r;return n+i}function By(t,e,n,r,i){return i!==void 0&&(t=su(t,i,r)),su(t,n,r)+e}function Rf(t,e=0,n=1,r,i){t.min=By(t.min,e,n,r,i),t.max=By(t.max,e,n,r,i)}function FE(t,{x:e,y:n}){Rf(t.x,e.translate,e.scale,e.originPoint),Rf(t.y,n.translate,n.scale,n.originPoint)}function cx(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let l=0;l<i;l++){s=n[l],o=s.projectionDelta;const u=s.instance;u&&u.style&&u.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Qi(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,FE(t,o)),r&&Xr(s.latestValues)&&Qi(t,s.latestValues))}e.x=jy(e.x),e.y=jy(e.y)}function jy(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function cr(t,e){t.min=t.min+e,t.max=t.max+e}function zy(t,e,[n,r,i]){const s=e[i]!==void 0?e[i]:.5,o=Fe(t.min,t.max,s);Rf(t,e[n],e[r],o,e.scale)}const hx=["x","scaleX","originX"],fx=["y","scaleY","originY"];function Qi(t,e){zy(t.x,e,hx),zy(t.y,e,fx)}function UE(t,e){return ME(ux(t.getBoundingClientRect(),e))}function dx(t,e,n){const r=UE(t,n),{scroll:i}=e;return i&&(cr(r.x,i.offset.x),cr(r.y,i.offset.y)),r}const px=new WeakMap;class mx{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ye(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=u=>{this.stopAnimation(),n&&this.snapToCursor($u(u,"page").point)},s=(u,c)=>{const{drag:h,dragPropagation:m,onDragStart:d}=this.getProps();if(h&&!m&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=iE(h),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Rn(P=>{let k=this.getAxisMotionValue(P).get()||0;if(Dn.test(k)){const{projection:V}=this.visualElement;if(V&&V.layout){const S=V.layout.layoutBox[P];S&&(k=Xt(S)*(parseFloat(k)/100))}}this.originPoint[P]=k}),d&&d(u,c);const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},o=(u,c)=>{const{dragPropagation:h,dragDirectionLock:m,onDirectionLock:d,onDrag:v}=this.getProps();if(!h&&!this.openGlobalLock)return;const{offset:P}=c;if(m&&this.currentDirection===null){this.currentDirection=gx(P),this.currentDirection!==null&&d&&d(this.currentDirection);return}this.updateAxis("x",c.point,P),this.updateAxis("y",c.point,P),this.visualElement.render(),v&&v(u,c)},l=(u,c)=>this.stop(u,c);this.panSession=new LE(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:l},{transformPagePoint:this.visualElement.getTransformPagePoint()})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&s(e,n)}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!tl(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=nx(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),{layout:r}=this.visualElement.projection||{},i=this.constraints;e&&Ki(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=rx(r.layoutBox,e):this.constraints=!1,this.elastic=ax(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Rn(s=>{this.getAxisMotionValue(s)&&(this.constraints[s]=ox(r.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Ki(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=dx(r,i.root,this.visualElement.getTransformPagePoint());let o=ix(i.layout.layoutBox,s);if(n){const l=n(lx(o));this.hasMutatedConstraints=!!l,l&&(o=ME(l))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),u=this.constraints||{},c=Rn(h=>{if(!tl(h,n,this.currentDirection))return;let m=u&&u[h]||{};o&&(m={min:0,max:0});const d=i?200:1e6,v=i?40:1e7,P={type:"inertia",velocity:r?e[h]:0,bounceStiffness:d,bounceDamping:v,timeConstant:750,restDelta:1,restSpeed:10,...s,...m};return this.startAxisValueAnimation(h,P)});return Promise.all(c).then(l)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(Ep(e,r,0,n))}stopAnimation(){Rn(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Rn(n=>{const{drag:r}=this.getProps();if(!tl(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:l}=i.layout.layoutBox[n];s.set(e[n]-Fe(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Ki(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Rn(o=>{const l=this.getAxisMotionValue(o);if(l){const u=l.get();i[o]=sx({min:u,max:u},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Rn(o=>{if(!tl(o,e,null))return;const l=this.getAxisMotionValue(o),{min:u,max:c}=this.constraints[o];l.set(Fe(u,c,i[o]))})}addListeners(){if(!this.visualElement.current)return;px.set(this.visualElement,this);const e=this.visualElement.current,n=Gn(e,"pointerdown",u=>{const{drag:c,dragListener:h=!0}=this.getProps();c&&h&&this.start(u)}),r=()=>{const{dragConstraints:u}=this.getProps();Ki(u)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();const o=qn(window,"resize",()=>this.scalePositionWithinConstraints()),l=i.addEventListener("didUpdate",({delta:u,hasLayoutChanged:c})=>{this.isDragging&&c&&(Rn(h=>{const m=this.getAxisMotionValue(h);m&&(this.originPoint[h]+=u[h].translate,m.set(m.get()+u[h].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=Pf,dragMomentum:l=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:l}}}function tl(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function gx(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class yx extends jr{constructor(e){super(e),this.removeGroupControls=an,this.removeListeners=an,this.controls=new mx(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||an}unmount(){this.removeGroupControls(),this.removeListeners()}}class vx extends jr{constructor(){super(...arguments),this.removePointerDownListener=an}onPointerDown(e){this.session=new LE(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:e,onStart:n,onMove:r,onEnd:(s,o)=>{delete this.session,i&&i(s,o)}}}mount(){this.removePointerDownListener=Gn(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function _x(){const t=$.useContext(Xd);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,i=$.useId();return $.useEffect(()=>r(i),[]),!e&&n?[!1,()=>n&&n(i)]:[!0]}function $y(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Ys={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Z.test(t))t=parseFloat(t);else return t;const n=$y(t,e.target.x),r=$y(t,e.target.y);return`${n}% ${r}%`}},BE=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function wx(t){const e=BE.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]}function xf(t,e,n=1){const[r,i]=wx(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);return s?s.trim():pf(i)?xf(i,e,n+1):i}function Ex(t,{...e},n){const r=t.current;if(!(r instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(i=>{const s=i.get();if(!pf(s))return;const o=xf(s,r);o&&i.set(o)});for(const i in e){const s=e[i];if(!pf(s))continue;const o=xf(s,r);o&&(e[i]=o,n&&n[i]===void 0&&(n[i]=s))}return{target:e,transitionEnd:n}}const Hy="_$css",Tx={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=t.includes("var("),s=[];i&&(t=t.replace(BE,v=>(s.push(v),Hy)));const o=Lr.parse(t);if(o.length>5)return r;const l=Lr.createTransformer(t),u=typeof o[0]!="number"?1:0,c=n.x.scale*e.x,h=n.y.scale*e.y;o[0+u]/=c,o[1+u]/=h;const m=Fe(c,h,.5);typeof o[2+u]=="number"&&(o[2+u]/=m),typeof o[3+u]=="number"&&(o[3+u]/=m);let d=l(o);if(i){let v=0;d=d.replace(Hy,()=>{const P=s[v];return v++,P})}return d}};class Sx extends _u.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;AP(Ax),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),yo.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||xt.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),!e.currentAnimation&&e.isLead()&&this.safeToRemove())}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function jE(t){const[e,n]=_x(),r=$.useContext(zw);return _u.createElement(Sx,{...t,layoutGroup:r,switchLayoutGroup:$.useContext($w),isPresent:e,safeToRemove:n})}const Ax={borderRadius:{...Ys,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ys,borderTopRightRadius:Ys,borderBottomLeftRadius:Ys,borderBottomRightRadius:Ys,boxShadow:Tx};function Ix(t,e,n={}){const r=jt(t)?t:hs(t);return r.start(Ep("",r,e,n)),{stop:()=>r.stop(),isAnimating:()=>r.isAnimating()}}const zE=["TopLeft","TopRight","BottomLeft","BottomRight"],Px=zE.length,Wy=t=>typeof t=="string"?parseFloat(t):t,qy=t=>typeof t=="number"||Z.test(t);function Cx(t,e,n,r,i,s){i?(t.opacity=Fe(0,n.opacity!==void 0?n.opacity:1,Rx(r)),t.opacityExit=Fe(e.opacity!==void 0?e.opacity:1,0,xx(r))):s&&(t.opacity=Fe(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<Px;o++){const l=`border${zE[o]}Radius`;let u=Ky(e,l),c=Ky(n,l);if(u===void 0&&c===void 0)continue;u||(u=0),c||(c=0),u===0||c===0||qy(u)===qy(c)?(t[l]=Math.max(Fe(Wy(u),Wy(c),r),0),(Dn.test(c)||Dn.test(u))&&(t[l]+="%")):t[l]=c}(e.rotate||n.rotate)&&(t.rotate=Fe(e.rotate||0,n.rotate||0,r))}function Ky(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Rx=$E(0,.5,_p),xx=$E(.5,.95,an);function $E(t,e,n){return r=>r<t?0:r>e?1:n(Qo(t,e,r))}function Gy(t,e){t.min=e.min,t.max=e.max}function tn(t,e){Gy(t.x,e.x),Gy(t.y,e.y)}function Qy(t,e,n,r,i){return t-=e,t=su(t,1/n,r),i!==void 0&&(t=su(t,1/i,r)),t}function kx(t,e=0,n=1,r=.5,i,s=t,o=t){if(Dn.test(e)&&(e=parseFloat(e),e=Fe(o.min,o.max,e/100)-o.min),typeof e!="number")return;let l=Fe(s.min,s.max,r);t===s&&(l-=e),t.min=Qy(t.min,e,n,l,i),t.max=Qy(t.max,e,n,l,i)}function Yy(t,e,[n,r,i],s,o){kx(t,e[n],e[r],e[i],e.scale,s,o)}const Vx=["x","scaleX","originX"],Dx=["y","scaleY","originY"];function Xy(t,e,n,r){Yy(t.x,e,Vx,n?n.x:void 0,r?r.x:void 0),Yy(t.y,e,Dx,n?n.y:void 0,r?r.y:void 0)}function Jy(t){return t.translate===0&&t.scale===1}function HE(t){return Jy(t.x)&&Jy(t.y)}function kf(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function Zy(t){return Xt(t.x)/Xt(t.y)}class Nx{constructor(){this.members=[]}add(e){lp(this.members,e),e.scheduleRender()}remove(e){if(up(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function ev(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y;if((i||s)&&(r=`translate3d(${i}px, ${s}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:u,rotateX:c,rotateY:h}=n;u&&(r+=`rotate(${u}deg) `),c&&(r+=`rotateX(${c}deg) `),h&&(r+=`rotateY(${h}deg) `)}const o=t.x.scale*e.x,l=t.y.scale*e.y;return(o!==1||l!==1)&&(r+=`scale(${o}, ${l})`),r||"none"}const Lx=(t,e)=>t.depth-e.depth;class Ox{constructor(){this.children=[],this.isDirty=!1}add(e){lp(this.children,e),this.isDirty=!0}remove(e){up(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Lx),this.isDirty=!1,this.children.forEach(e)}}function Mx(t){window.MotionDebug&&window.MotionDebug.record(t)}const tv=["","X","Y","Z"],nv=1e3;let bx=0;const Jr={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function WE({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o,l={},u=e==null?void 0:e()){this.id=bx++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.potentialNodes=new Map,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{Jr.totalNodes=Jr.resolvedTargetDeltas=Jr.recalculatedProjection=0,this.nodes.forEach(Bx),this.nodes.forEach(Hx),this.nodes.forEach(Wx),this.nodes.forEach(jx),Mx(Jr)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.elementId=o,this.latestValues=l,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0,o&&this.root.registerPotentialNode(o,this);for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new Ox)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new cp),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const u=this.eventHandlers.get(o);u&&u.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}registerPotentialNode(o,l){this.potentialNodes.set(o,l)}mount(o,l=!1){if(this.instance)return;this.isSVG=o instanceof SVGElement&&o.tagName!=="svg",this.instance=o;const{layoutId:u,layout:c,visualElement:h}=this.options;if(h&&!h.current&&h.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.elementId&&this.root.potentialNodes.delete(this.elementId),l&&(c||u)&&(this.isLayoutDirty=!0),t){let m;const d=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,m&&m(),m=VE(d,250),yo.hasAnimatedSinceResize&&(yo.hasAnimatedSinceResize=!1,this.nodes.forEach(iv))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&h&&(u||c)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:d,hasRelativeTargetChanged:v,layout:P})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const k=this.options.transition||h.getDefaultTransition()||Yx,{onLayoutAnimationStart:V,onLayoutAnimationComplete:S}=h.getProps(),E=!this.targetLayout||!kf(this.targetLayout,P)||v,I=!d&&v;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||I||d&&(E||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(m,I);const R={...DE(k,"layout"),onPlay:V,onComplete:S};(h.shouldReduceMotion||this.options.layoutRoot)&&(R.delay=0,R.type=!1),this.startAnimation(R)}else!d&&this.animationProgress===0&&iv(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=P})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Nr.preRender(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(qx),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const m=this.path[h];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:l,layout:u}=this.options;if(l===void 0&&!u)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}didUpdate(){if(this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(rv);return}this.isUpdating&&(this.isUpdating=!1,this.potentialNodes.size&&(this.potentialNodes.forEach(Xx),this.potentialNodes.clear()),this.nodes.forEach($x),this.nodes.forEach(Fx),this.nodes.forEach(Ux),this.clearAllSnapshots(),Xc.update(),Xc.preRender(),Xc.render())}clearAllSnapshots(){this.nodes.forEach(zx),this.sharedNodes.forEach(Kx)}scheduleUpdateProjection(){xt.preRender(this.updateProjection,!1,!0)}scheduleCheckAfterUnmount(){xt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ye(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform,l=this.projectionDelta&&!HE(this.projectionDelta),u=this.getTransformTemplate(),c=u?u(this.latestValues,""):void 0,h=c!==this.prevTransformTemplateValue;o&&(l||Xr(this.latestValues)||h)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let u=this.removeElementScroll(l);return o&&(u=this.removeTransform(u)),Jx(u),{animationId:this.root.animationId,measuredBox:l,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Ye();const l=o.measureViewportBox(),{scroll:u}=this.root;return u&&(cr(l.x,u.offset.x),cr(l.y,u.offset.y)),l}removeElementScroll(o){const l=Ye();tn(l,o);for(let u=0;u<this.path.length;u++){const c=this.path[u],{scroll:h,options:m}=c;if(c!==this.root&&h&&m.layoutScroll){if(h.isRoot){tn(l,o);const{scroll:d}=this.root;d&&(cr(l.x,-d.offset.x),cr(l.y,-d.offset.y))}cr(l.x,h.offset.x),cr(l.y,h.offset.y)}}return l}applyTransform(o,l=!1){const u=Ye();tn(u,o);for(let c=0;c<this.path.length;c++){const h=this.path[c];!l&&h.options.layoutScroll&&h.scroll&&h!==h.root&&Qi(u,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),Xr(h.latestValues)&&Qi(u,h.latestValues)}return Xr(this.latestValues)&&Qi(u,this.latestValues),u}removeTransform(o){const l=Ye();tn(l,o);for(let u=0;u<this.path.length;u++){const c=this.path[u];if(!c.instance||!Xr(c.latestValues))continue;Cf(c.latestValues)&&c.updateSnapshot();const h=Ye(),m=c.measurePageBox();tn(h,m),Xy(l,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,h)}return Xr(this.latestValues)&&Xy(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}resolveTargetDelta(){var o;const l=this.getLead();if(this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty),!((!!this.resumingFrom||this!==l)&&this.isSharedProjectionDirty||this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:h,layoutId:m}=this.options;if(!(!this.layout||!(h||m))){if(!this.targetDelta&&!this.relativeTarget){const d=this.getClosestProjectingParent();d&&d.layout?(this.relativeParent=d,this.relativeTarget=Ye(),this.relativeTargetOrigin=Ye(),Eo(this.relativeTargetOrigin,this.layout.layoutBox,d.layout.layoutBox),tn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Ye(),this.targetWithTransforms=Ye()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?tx(this.target,this.relativeTarget,this.relativeParent.target):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):tn(this.target,this.layout.layoutBox),FE(this.target,this.targetDelta)):tn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const d=this.getClosestProjectingParent();d&&!!d.resumingFrom==!!this.resumingFrom&&!d.options.layoutScroll&&d.target?(this.relativeParent=d,this.relativeTarget=Ye(),this.relativeTargetOrigin=Ye(),Eo(this.relativeTargetOrigin,this.target,d.target),tn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Jr.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Cf(this.parent.latestValues)||bE(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const l=this.getLead(),u=!!this.resumingFrom||this!==l;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),c)return;const{layout:h,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||m))return;tn(this.layoutCorrected,this.layout.layoutBox),cx(this.layoutCorrected,this.treeScale,this.path,u);const{target:d}=l;if(!d)return;this.projectionDelta||(this.projectionDelta=To(),this.projectionDeltaWithTransform=To());const v=this.treeScale.x,P=this.treeScale.y,k=this.projectionTransform;wo(this.projectionDelta,this.layoutCorrected,d,this.latestValues),this.projectionTransform=ev(this.projectionDelta,this.treeScale),(this.projectionTransform!==k||this.treeScale.x!==v||this.treeScale.y!==P)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",d)),Jr.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,l=!1){const u=this.snapshot,c=u?u.latestValues:{},h={...this.latestValues},m=To();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const d=Ye(),v=u?u.source:void 0,P=this.layout?this.layout.source:void 0,k=v!==P,V=this.getStack(),S=!V||V.members.length<=1,E=!!(k&&!S&&this.options.crossfade===!0&&!this.path.some(Qx));this.animationProgress=0;let I;this.mixTargetDelta=R=>{const L=R/1e3;sv(m.x,o.x,L),sv(m.y,o.y,L),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Eo(d,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Gx(this.relativeTarget,this.relativeTargetOrigin,d,L),I&&kf(this.relativeTarget,I)&&(this.isProjectionDirty=!1),I||(I=Ye()),tn(I,this.relativeTarget)),k&&(this.animationValues=h,Cx(h,c,this.latestValues,L,E,S)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=L},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Nr.update(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=xt.update(()=>{yo.hasAnimatedSinceResize=!0,this.currentAnimation=Ix(0,nv,{...o,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(nv),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:u,layout:c,latestValues:h}=o;if(!(!l||!u||!c)){if(this!==o&&this.layout&&c&&qE(this.options.animationType,this.layout.layoutBox,c.layoutBox)){u=this.target||Ye();const m=Xt(this.layout.layoutBox.x);u.x.min=o.target.x.min,u.x.max=u.x.min+m;const d=Xt(this.layout.layoutBox.y);u.y.min=o.target.y.min,u.y.max=u.y.min+d}tn(l,u),Qi(l,h),wo(this.projectionDeltaWithTransform,this.layoutCorrected,l,h)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new Nx),this.sharedNodes.get(o).add(l);const c=l.options.initialPromotionConfig;l.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:u}={}){const c=this.getStack();c&&c.promote(this,u),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:u}=o;if((u.rotate||u.rotateX||u.rotateY||u.rotateZ)&&(l=!0),!l)return;const c={};for(let h=0;h<tv.length;h++){const m="rotate"+tv[h];u[m]&&(c[m]=u[m],o.setStaticValue(m,0))}o.render();for(const h in c)o.setStaticValue(h,c[h]);o.scheduleRender()}getProjectionStyles(o={}){var l,u;const c={};if(!this.instance||this.isSVG)return c;if(this.isVisible)c.visibility="";else return{visibility:"hidden"};const h=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=wl(o.pointerEvents)||"",c.transform=h?h(this.latestValues,""):"none",c;const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){const k={};return this.options.layoutId&&(k.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,k.pointerEvents=wl(o.pointerEvents)||""),this.hasProjected&&!Xr(this.latestValues)&&(k.transform=h?h({},""):"none",this.hasProjected=!1),k}const d=m.animationValues||m.latestValues;this.applyTransformsToTarget(),c.transform=ev(this.projectionDeltaWithTransform,this.treeScale,d),h&&(c.transform=h(d,c.transform));const{x:v,y:P}=this.projectionDelta;c.transformOrigin=`${v.origin*100}% ${P.origin*100}% 0`,m.animationValues?c.opacity=m===this?(u=(l=d.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&u!==void 0?u:1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:c.opacity=m===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const k in Jl){if(d[k]===void 0)continue;const{correct:V,applyTo:S}=Jl[k],E=c.transform==="none"?d[k]:V(d[k],m);if(S){const I=S.length;for(let R=0;R<I;R++)c[S[R]]=E}else c[k]=E}return this.options.layoutId&&(c.pointerEvents=m===this?wl(o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(rv),this.root.sharedNodes.clear()}}}function Fx(t){t.updateLayout()}function Ux(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=n.source!==t.layout.source;s==="size"?Rn(m=>{const d=o?n.measuredBox[m]:n.layoutBox[m],v=Xt(d);d.min=r[m].min,d.max=d.min+v}):qE(s,n.layoutBox,r)&&Rn(m=>{const d=o?n.measuredBox[m]:n.layoutBox[m],v=Xt(r[m]);d.max=d.min+v});const l=To();wo(l,r,n.layoutBox);const u=To();o?wo(u,t.applyTransform(i,!0),n.measuredBox):wo(u,r,n.layoutBox);const c=!HE(l);let h=!1;if(!t.resumeFrom){const m=t.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:d,layout:v}=m;if(d&&v){const P=Ye();Eo(P,n.layoutBox,d.layoutBox);const k=Ye();Eo(k,r,v.layoutBox),kf(P,k)||(h=!0),m.options.layoutRoot&&(t.relativeTarget=k,t.relativeTargetOrigin=P,t.relativeParent=m)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:u,layoutDelta:l,hasLayoutChanged:c,hasRelativeTargetChanged:h})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function Bx(t){Jr.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function jx(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function zx(t){t.clearSnapshot()}function rv(t){t.clearMeasurements()}function $x(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function iv(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0}function Hx(t){t.resolveTargetDelta()}function Wx(t){t.calcProjection()}function qx(t){t.resetRotation()}function Kx(t){t.removeLeadSnapshot()}function sv(t,e,n){t.translate=Fe(e.translate,0,n),t.scale=Fe(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function ov(t,e,n,r){t.min=Fe(e.min,n.min,r),t.max=Fe(e.max,n.max,r)}function Gx(t,e,n,r){ov(t.x,e.x,n.x,r),ov(t.y,e.y,n.y,r)}function Qx(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Yx={duration:.45,ease:[.4,0,.1,1]};function Xx(t,e){let n=t.root;for(let s=t.path.length-1;s>=0;s--)if(t.path[s].instance){n=t.path[s];break}const i=(n&&n!==t.root?n.instance:document).querySelector(`[data-projection-id="${e}"]`);i&&t.mount(i,!0)}function av(t){t.min=Math.round(t.min),t.max=Math.round(t.max)}function Jx(t){av(t.x),av(t.y)}function qE(t,e,n){return t==="position"||t==="preserve-aspect"&&!If(Zy(e),Zy(n),.2)}const Zx=WE({attachResizeListener:(t,e)=>qn(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),oh={current:void 0},KE=WE({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!oh.current){const t=new Zx(0,{});t.mount(window),t.setOptions({layoutScroll:!0}),oh.current=t}return oh.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),ek={pan:{Feature:vx},drag:{Feature:yx,ProjectionNode:KE,MeasureLayout:jE}},tk=new Set(["width","height","top","left","right","bottom","x","y"]),GE=t=>tk.has(t),nk=t=>Object.keys(t).some(GE),lv=t=>t===Ti||t===Z,uv=(t,e)=>parseFloat(t.split(", ")[e]),cv=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return uv(i[1],e);{const s=r.match(/^matrix\((.+)\)$/);return s?uv(s[1],t):0}},rk=new Set(["x","y","z"]),ik=zu.filter(t=>!rk.has(t));function sk(t){const e=[];return ik.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const hv={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:cv(4,13),y:cv(5,14)},ok=(t,e,n)=>{const r=e.measureViewportBox(),i=e.current,s=getComputedStyle(i),{display:o}=s,l={};o==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(c=>{l[c]=hv[c](r,s)}),e.render();const u=e.measureViewportBox();return n.forEach(c=>{const h=e.getValue(c);h&&h.jump(l[c]),t[c]=hv[c](u,s)}),t},ak=(t,e,n={},r={})=>{e={...e},r={...r};const i=Object.keys(e).filter(GE);let s=[],o=!1;const l=[];if(i.forEach(u=>{const c=t.getValue(u);if(!t.hasValue(u))return;let h=n[u],m=Qs(h);const d=e[u];let v;if(eu(d)){const P=d.length,k=d[0]===null?1:0;h=d[k],m=Qs(h);for(let V=k;V<P;V++)v?ru(Qs(d[V])===v):v=Qs(d[V])}else v=Qs(d);if(m!==v)if(lv(m)&&lv(v)){const P=c.get();typeof P=="string"&&c.set(parseFloat(P)),typeof d=="string"?e[u]=parseFloat(d):Array.isArray(d)&&v===Z&&(e[u]=d.map(parseFloat))}else m!=null&&m.transform&&(v!=null&&v.transform)&&(h===0||d===0)?h===0?c.set(v.transform(h)):e[u]=m.transform(d):(o||(s=sk(t),o=!0),l.push(u),r[u]=r[u]!==void 0?r[u]:e[u],c.jump(d))}),l.length){const u=l.indexOf("height")>=0?window.pageYOffset:null,c=ok(e,t,l);return s.length&&s.forEach(([h,m])=>{t.getValue(h).set(m)}),t.render(),Uu&&u!==null&&window.scrollTo({top:u}),{target:c,transitionEnd:r}}else return{target:e,transitionEnd:r}};function lk(t,e,n,r){return nk(e)?ak(t,e,n,r):{target:e,transitionEnd:r}}const uk=(t,e,n,r)=>{const i=Ex(t,e,r);return e=i.target,r=i.transitionEnd,lk(t,e,n,r)},Vf={current:null},QE={current:!1};function ck(){if(QE.current=!0,!!Uu)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Vf.current=t.matches;t.addListener(e),e()}else Vf.current=!1}function hk(t,e,n){const{willChange:r}=e;for(const i in e){const s=e[i],o=n[i];if(jt(s))t.addValue(i,s),nu(r)&&r.add(i);else if(jt(o))t.addValue(i,hs(s,{owner:t})),nu(r)&&r.remove(i);else if(o!==s)if(t.hasValue(i)){const l=t.getValue(i);!l.hasAnimated&&l.set(s)}else{const l=t.getStaticValue(i);t.addValue(i,hs(l!==void 0?l:s,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const YE=Object.keys(qo),fk=YE.length,fv=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],dk=Zd.length;class pk{constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>xt.render(this.render,!1,!0);const{latestValues:l,renderState:u}=s;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.isControllingVariants=ju(n),this.isVariantNode=Bw(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:c,...h}=this.scrapeMotionValuesFromProps(n,{});for(const m in h){const d=h[m];l[m]!==void 0&&jt(d)&&(d.set(l[m],!1),nu(c)&&c.add(m))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,this.projection&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),QE.current||ck(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Vf.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Nr.update(this.notifyUpdate),Nr.render(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const r=Ei.has(e),i=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&xt.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{i(),s()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},r,i,s,o){let l,u;for(let c=0;c<fk;c++){const h=YE[c],{isEnabled:m,Feature:d,ProjectionNode:v,MeasureLayout:P}=qo[h];v&&(l=v),m(n)&&(!this.features[h]&&d&&(this.features[h]=new d(this)),P&&(u=P))}if(!this.projection&&l){this.projection=new l(s,this.latestValues,this.parent&&this.parent.projection);const{layoutId:c,layout:h,drag:m,dragConstraints:d,layoutScroll:v,layoutRoot:P}=n;this.projection.setOptions({layoutId:c,layout:h,alwaysMeasureLayout:!!m||d&&Ki(d),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof h=="string"?h:"both",initialPromotionConfig:o,layoutScroll:v,layoutRoot:P})}return u}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update(this.props,this.prevProps):(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ye()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<fv.length;r++){const i=fv[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s=e["on"+i];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=hk(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<dk;r++){const i=Zd[r],s=this.props[i];(Wo(s)||s===!1)&&(n[i]=s)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=hs(n,{owner:this}),this.addValue(e,r)),r}readValue(e){return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(n=ap(this.props,r))===null||n===void 0?void 0:n[e]:void 0;if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!jt(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new cp),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class XE extends pk{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...r},{transformValues:i},s){let o=bC(r,e||{},this);if(i&&(n&&(n=i(n)),r&&(r=i(r)),o&&(o=i(o))),s){OC(this,r,o);const l=uk(this,r,o,n);n=l.transitionEnd,r=l.target}return{transition:e,transitionEnd:n,...r}}}function mk(t){return window.getComputedStyle(t)}class gk extends XE{readValueFromInstance(e,n){if(Ei.has(n)){const r=dp(n);return r&&r.default||0}else{const r=mk(e),i=(qw(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return UE(e,n)}build(e,n,r,i){tp(e,n,r,i.transformTemplate)}scrapeMotionValuesFromProps(e,n){return op(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;jt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,r,i){Xw(e,n,r,i)}}class yk extends XE{constructor(){super(...arguments),this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Ei.has(n)){const r=dp(n);return r&&r.default||0}return n=Jw.has(n)?n:sp(n),e.getAttribute(n)}measureInstanceViewportBox(){return Ye()}scrapeMotionValuesFromProps(e,n){return eE(e,n)}build(e,n,r,i){rp(e,n,r,this.isSVGTag,i.transformTemplate)}renderInstance(e,n,r,i){Zw(e,n,r,i)}mount(e){this.isSVGTag=ip(e.tagName),super.mount(e)}}const vk=(t,e)=>ep(t)?new yk(e,{enableHardwareAcceleration:!1}):new gk(e,{enableHardwareAcceleration:!0}),_k={layout:{ProjectionNode:KE,MeasureLayout:jE}},wk={...XR,...uC,...ek,..._k},Ek=TP((t,e)=>YP(t,e,wk,vk)),JE={paddingX:"sm:px-16 px-6",paddingY:"sm:py-16 py-6",padding:"sm:px-16 px-6 sm:py-16 py-10"},Tp=(t,e)=>function(){return He(Ek.section,{initial:"hidden",whileInView:"show",viewport:{once:!0,amount:.25},className:`${JE.padding} max-w-7xl mx-auto relative z-0`,children:[H("span",{className:"hash-span",id:e,children:" "}),H(t,{})]})};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZE=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Tk=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],l=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},e1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,l=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,h=s>>2,m=(s&3)<<4|l>>4;let d=(l&15)<<2|c>>6,v=c&63;u||(v=64,o||(d=64)),r.push(n[h],n[m],n[d],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(ZE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Tk(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const m=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||l==null||c==null||m==null)throw new Sk;const d=s<<2|l>>4;if(r.push(d),c!==64){const v=l<<4&240|c>>2;if(r.push(v),m!==64){const P=c<<6&192|m;r.push(P)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Sk extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ak=function(t){const e=ZE(t);return e1.encodeByteArray(e,!0)},ou=function(t){return Ak(t).replace(/\./g,"")},Ik=function(t){try{return e1.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pk(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ck=()=>Pk().__FIREBASE_DEFAULTS__,Rk=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},xk=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Ik(t[1]);return e&&JSON.parse(e)},Sp=()=>{try{return Ck()||Rk()||xk()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},kk=t=>{var e,n;return(n=(e=Sp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},t1=t=>{const e=kk(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},n1=()=>{var t;return(t=Sp())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vk{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r1(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),l="";return[ou(JSON.stringify(n)),ou(JSON.stringify(o)),l].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dk(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Nk(){var t;const e=(t=Sp())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Lk(){return!Nk()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ok(){try{return typeof indexedDB=="object"}catch{return!1}}function Mk(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bk="FirebaseError";class Si extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=bk,Object.setPrototypeOf(this,Si.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,i1.prototype.create)}}class i1{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?Fk(s,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new Si(i,l,r)}}function Fk(t,e){return t.replace(Uk,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Uk=/\{\$([^}]+)}/g;function Df(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(dv(s)&&dv(o)){if(!Df(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function dv(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function On(t){return t&&t._delegate?t._delegate:t}class fs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bk{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Vk;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(zk(e))try{this.getOrInitializeService({instanceIdentifier:Zr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Zr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Zr){return this.instances.has(e)}getOptions(e=Zr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:jk(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Zr){return this.component?this.component.multipleInstances?e:Zr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function jk(t){return t===Zr?void 0:t}function zk(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $k{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Bk(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var he;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(he||(he={}));const Hk={debug:he.DEBUG,verbose:he.VERBOSE,info:he.INFO,warn:he.WARN,error:he.ERROR,silent:he.SILENT},Wk=he.INFO,qk={[he.DEBUG]:"log",[he.VERBOSE]:"log",[he.INFO]:"info",[he.WARN]:"warn",[he.ERROR]:"error"},Kk=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=qk[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class s1{constructor(e){this.name=e,this._logLevel=Wk,this._logHandler=Kk,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in he))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Hk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,he.DEBUG,...e),this._logHandler(this,he.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,he.VERBOSE,...e),this._logHandler(this,he.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,he.INFO,...e),this._logHandler(this,he.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,he.WARN,...e),this._logHandler(this,he.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,he.ERROR,...e),this._logHandler(this,he.ERROR,...e)}}const Gk=(t,e)=>e.some(n=>t instanceof n);let pv,mv;function Qk(){return pv||(pv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Yk(){return mv||(mv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const o1=new WeakMap,Nf=new WeakMap,a1=new WeakMap,ah=new WeakMap,Ap=new WeakMap;function Xk(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Pr(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&o1.set(n,t)}).catch(()=>{}),Ap.set(e,t),e}function Jk(t){if(Nf.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Nf.set(t,e)}let Lf={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Nf.get(t);if(e==="objectStoreNames")return t.objectStoreNames||a1.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Pr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Zk(t){Lf=t(Lf)}function eV(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(lh(this),e,...n);return a1.set(r,e.sort?e.sort():[e]),Pr(r)}:Yk().includes(t)?function(...e){return t.apply(lh(this),e),Pr(o1.get(this))}:function(...e){return Pr(t.apply(lh(this),e))}}function tV(t){return typeof t=="function"?eV(t):(t instanceof IDBTransaction&&Jk(t),Gk(t,Qk())?new Proxy(t,Lf):t)}function Pr(t){if(t instanceof IDBRequest)return Xk(t);if(ah.has(t))return ah.get(t);const e=tV(t);return e!==t&&(ah.set(t,e),Ap.set(e,t)),e}const lh=t=>Ap.get(t);function nV(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),l=Pr(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Pr(o.result),u.oldVersion,u.newVersion,Pr(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),l}const rV=["get","getKey","getAll","getAllKeys","count"],iV=["put","add","delete","clear"],uh=new Map;function gv(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(uh.get(e))return uh.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=iV.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||rV.includes(n)))return;const s=async function(o,...l){const u=this.transaction(o,i?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(l.shift())),(await Promise.all([c[n](...l),i&&u.done]))[0]};return uh.set(e,s),s}Zk(t=>({...t,get:(e,n,r)=>gv(e,n)||t.get(e,n,r),has:(e,n)=>!!gv(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sV{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(oV(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function oV(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Of="@firebase/app",yv="0.10.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pi=new s1("@firebase/app"),aV="@firebase/app-compat",lV="@firebase/analytics-compat",uV="@firebase/analytics",cV="@firebase/app-check-compat",hV="@firebase/app-check",fV="@firebase/auth",dV="@firebase/auth-compat",pV="@firebase/database",mV="@firebase/database-compat",gV="@firebase/functions",yV="@firebase/functions-compat",vV="@firebase/installations",_V="@firebase/installations-compat",wV="@firebase/messaging",EV="@firebase/messaging-compat",TV="@firebase/performance",SV="@firebase/performance-compat",AV="@firebase/remote-config",IV="@firebase/remote-config-compat",PV="@firebase/storage",CV="@firebase/storage-compat",RV="@firebase/firestore",xV="@firebase/vertexai-preview",kV="@firebase/firestore-compat",VV="firebase",DV="10.12.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mf="[DEFAULT]",NV={[Of]:"fire-core",[aV]:"fire-core-compat",[uV]:"fire-analytics",[lV]:"fire-analytics-compat",[hV]:"fire-app-check",[cV]:"fire-app-check-compat",[fV]:"fire-auth",[dV]:"fire-auth-compat",[pV]:"fire-rtdb",[mV]:"fire-rtdb-compat",[gV]:"fire-fn",[yV]:"fire-fn-compat",[vV]:"fire-iid",[_V]:"fire-iid-compat",[wV]:"fire-fcm",[EV]:"fire-fcm-compat",[TV]:"fire-perf",[SV]:"fire-perf-compat",[AV]:"fire-rc",[IV]:"fire-rc-compat",[PV]:"fire-gcs",[CV]:"fire-gcs-compat",[RV]:"fire-fst",[kV]:"fire-fst-compat",[xV]:"fire-vertex","fire-js":"fire-js",[VV]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const au=new Map,LV=new Map,bf=new Map;function vv(t,e){try{t.container.addComponent(e)}catch(n){pi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Yo(t){const e=t.name;if(bf.has(e))return pi.debug(`There were multiple attempts to register component ${e}.`),!1;bf.set(e,t);for(const n of au.values())vv(n,t);for(const n of LV.values())vv(n,t);return!0}function l1(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OV={["no-app"]:"No Firebase App '{$appName}' has been created - call initializeApp() first",["bad-app-name"]:"Illegal App name: '{$appName}'",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["server-app-deleted"]:"Firebase Server App has been deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.",["finalization-registry-not-supported"]:"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.",["invalid-server-app-environment"]:"FirebaseServerApp is not for use in browser environments."},Cr=new i1("app","Firebase",OV);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MV{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new fs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Cr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u1=DV;function c1(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Mf,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Cr.create("bad-app-name",{appName:String(i)});if(n||(n=n1()),!n)throw Cr.create("no-options");const s=au.get(i);if(s){if(Df(n,s.options)&&Df(r,s.config))return s;throw Cr.create("duplicate-app",{appName:i})}const o=new $k(i);for(const u of bf.values())o.addComponent(u);const l=new MV(n,r,o);return au.set(i,l),l}function h1(t=Mf){const e=au.get(t);if(!e&&t===Mf&&n1())return c1();if(!e)throw Cr.create("no-app",{appName:t});return e}function Rr(t,e,n){var r;let i=(r=NV[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const l=[`Unable to register library "${i}" with version "${e}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),pi.warn(l.join(" "));return}Yo(new fs(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bV="firebase-heartbeat-database",FV=1,Xo="firebase-heartbeat-store";let ch=null;function f1(){return ch||(ch=nV(bV,FV,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Xo)}catch(n){console.warn(n)}}}}).catch(t=>{throw Cr.create("idb-open",{originalErrorMessage:t.message})})),ch}async function UV(t){try{const n=(await f1()).transaction(Xo),r=await n.objectStore(Xo).get(d1(t));return await n.done,r}catch(e){if(e instanceof Si)pi.warn(e.message);else{const n=Cr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});pi.warn(n.message)}}}async function _v(t,e){try{const r=(await f1()).transaction(Xo,"readwrite");await r.objectStore(Xo).put(e,d1(t)),await r.done}catch(n){if(n instanceof Si)pi.warn(n.message);else{const r=Cr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});pi.warn(r.message)}}}function d1(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BV=1024,jV=30*24*60*60*1e3;class zV{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new HV(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=wv();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const l=new Date(o.date).valueOf();return Date.now()-l<=jV}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=wv(),{heartbeatsToSend:r,unsentEntries:i}=$V(this._heartbeatsCache.heartbeats),s=ou(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function wv(){return new Date().toISOString().substring(0,10)}function $V(t,e=BV){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Ev(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Ev(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class HV{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Ok()?Mk().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await UV(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return _v(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return _v(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Ev(t){return ou(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WV(t){Yo(new fs("platform-logger",e=>new sV(e),"PRIVATE")),Yo(new fs("heartbeat",e=>new zV(e),"PRIVATE")),Rr(Of,yv,t),Rr(Of,yv,"esm2017"),Rr("fire-js","")}WV("");var qV="firebase",KV="10.12.5";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Rr(qV,KV,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p1="firebasestorage.googleapis.com",GV="storageBucket",QV=2*60*1e3,YV=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn extends Si{constructor(e,n,r=0){super(hh(e),`Firebase Storage: ${n} (${hh(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Fn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return hh(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Mn;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Mn||(Mn={}));function hh(t){return"storage/"+t}function XV(){const t="An unknown error occurred, please check the error payload for server response.";return new Fn(Mn.UNKNOWN,t)}function JV(){return new Fn(Mn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function ZV(){return new Fn(Mn.CANCELED,"User canceled the upload/download.")}function eD(t){return new Fn(Mn.INVALID_URL,"Invalid URL '"+t+"'.")}function tD(t){return new Fn(Mn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function Tv(t){return new Fn(Mn.INVALID_ARGUMENT,t)}function m1(){return new Fn(Mn.APP_DELETED,"The Firebase app was deleted.")}function nD(t){return new Fn(Mn.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=vn.makeFromUrl(e,n)}catch{return new vn(e,"")}if(r.path==="")return r;throw tD(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(R){R.path.charAt(R.path.length-1)==="/"&&(R.path_=R.path_.slice(0,-1))}const o="(/(.*))?$",l=new RegExp("^gs://"+i+o,"i"),u={bucket:1,path:3};function c(R){R.path_=decodeURIComponent(R.path)}const h="v[A-Za-z0-9_]+",m=n.replace(/[.]/g,"\\."),d="(/([^?#]*).*)?$",v=new RegExp(`^https?://${m}/${h}/b/${i}/o${d}`,"i"),P={bucket:1,path:3},k=n===p1?"(?:storage.googleapis.com|storage.cloud.google.com)":n,V="([^?#]*)",S=new RegExp(`^https?://${k}/${i}/${V}`,"i"),I=[{regex:l,indices:u,postModify:s},{regex:v,indices:P,postModify:c},{regex:S,indices:{bucket:1,path:2},postModify:c}];for(let R=0;R<I.length;R++){const L=I[R],O=L.regex.exec(e);if(O){const T=O[L.indices.bucket];let g=O[L.indices.path];g||(g=""),r=new vn(T,g),L.postModify(r);break}}if(r==null)throw eD(e);return r}}class rD{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iD(t,e,n){let r=1,i=null,s=null,o=!1,l=0;function u(){return l===2}let c=!1;function h(...V){c||(c=!0,e.apply(null,V))}function m(V){i=setTimeout(()=>{i=null,t(v,u())},V)}function d(){s&&clearTimeout(s)}function v(V,...S){if(c){d();return}if(V){d(),h.call(null,V,...S);return}if(u()||o){d(),h.call(null,V,...S);return}r<64&&(r*=2);let I;l===1?(l=2,I=0):I=(r+Math.random())*1e3,m(I)}let P=!1;function k(V){P||(P=!0,d(),!c&&(i!==null?(V||(l=2),clearTimeout(i),m(0)):V||(l=1)))}return m(0),s=setTimeout(()=>{o=!0,k(!0)},n),k}function sD(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oD(t){return t!==void 0}function Sv(t,e,n,r){if(r<e)throw Tv(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Tv(`Invalid value for '${t}'. Expected ${n} or less.`)}function aD(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lu;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(lu||(lu={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lD(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(e,n,r,i,s,o,l,u,c,h,m,d=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=l,this.errorCallback_=u,this.timeout_=c,this.progressCallback_=h,this.connectionFactory_=m,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((v,P)=>{this.resolve_=v,this.reject_=P,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new nl(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=l=>{const u=l.loaded,c=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,c)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const l=s.getErrorCode()===lu.NO_ERROR,u=s.getStatus();if(!l||lD(u,this.additionalRetryCodes_)&&this.retry){const h=s.getErrorCode()===lu.ABORT;r(!1,new nl(!1,null,h));return}const c=this.successCodes_.indexOf(u)!==-1;r(!0,new nl(c,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,l=i.connection;if(i.wasSuccessCode)try{const u=this.callback_(l,l.getResponse());oD(u)?s(u):s()}catch(u){o(u)}else if(l!==null){const u=XV();u.serverResponse=l.getErrorText(),this.errorCallback_?o(this.errorCallback_(l,u)):o(u)}else if(i.canceled){const u=this.appDelete_?m1():ZV();o(u)}else{const u=JV();o(u)}};this.canceled_?n(!1,new nl(!1,null,!0)):this.backoffId_=iD(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&sD(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class nl{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function cD(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function hD(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function fD(t,e){e&&(t["X-Firebase-GMPID"]=e)}function dD(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function pD(t,e,n,r,i,s,o=!0){const l=aD(t.urlParams),u=t.url+l,c=Object.assign({},t.headers);return fD(c,e),cD(c,n),hD(c,s),dD(c,r),new uD(u,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mD(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function gD(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu{constructor(e,n){this._service=e,n instanceof vn?this._location=n:this._location=vn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new uu(e,n)}get root(){const e=new vn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return gD(this._location.path)}get storage(){return this._service}get parent(){const e=mD(this._location.path);if(e===null)return null;const n=new vn(this._location.bucket,e);return new uu(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw nD(e)}}function Av(t,e){const n=e==null?void 0:e[GV];return n==null?null:vn.makeFromBucketSpec(n,t)}function yD(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:r1(i,t.app.options.projectId))}class vD{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=p1,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=QV,this._maxUploadRetryTime=YV,this._requests=new Set,i!=null?this._bucket=vn.makeFromBucketSpec(i,this._host):this._bucket=Av(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=vn.makeFromBucketSpec(this._url,e):this._bucket=Av(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Sv("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Sv("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new uu(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new rD(m1());{const o=pD(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const Iv="@firebase/storage",Pv="0.12.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g1="storage";function _D(t=h1(),e){t=On(t);const r=l1(t,g1).getImmediate({identifier:e}),i=t1("storage");return i&&wD(r,...i),r}function wD(t,e,n,r={}){yD(t,e,n,r)}function ED(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new vD(n,r,i,e,u1)}function TD(){Yo(new fs(g1,ED,"PUBLIC").setMultipleInstances(!0)),Rr(Iv,Pv,""),Rr(Iv,Pv,"esm2017")}TD();var Cv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var li,y1;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(T,g){function y(){}y.prototype=g.prototype,T.D=g.prototype,T.prototype=new y,T.prototype.constructor=T,T.C=function(w,C,x){for(var A=Array(arguments.length-2),Q=2;Q<arguments.length;Q++)A[Q-2]=arguments[Q];return g.prototype[C].apply(w,A)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(T,g,y){y||(y=0);var w=Array(16);if(typeof g=="string")for(var C=0;16>C;++C)w[C]=g.charCodeAt(y++)|g.charCodeAt(y++)<<8|g.charCodeAt(y++)<<16|g.charCodeAt(y++)<<24;else for(C=0;16>C;++C)w[C]=g[y++]|g[y++]<<8|g[y++]<<16|g[y++]<<24;g=T.g[0],y=T.g[1],C=T.g[2];var x=T.g[3],A=g+(x^y&(C^x))+w[0]+3614090360&4294967295;g=y+(A<<7&4294967295|A>>>25),A=x+(C^g&(y^C))+w[1]+3905402710&4294967295,x=g+(A<<12&4294967295|A>>>20),A=C+(y^x&(g^y))+w[2]+606105819&4294967295,C=x+(A<<17&4294967295|A>>>15),A=y+(g^C&(x^g))+w[3]+3250441966&4294967295,y=C+(A<<22&4294967295|A>>>10),A=g+(x^y&(C^x))+w[4]+4118548399&4294967295,g=y+(A<<7&4294967295|A>>>25),A=x+(C^g&(y^C))+w[5]+1200080426&4294967295,x=g+(A<<12&4294967295|A>>>20),A=C+(y^x&(g^y))+w[6]+2821735955&4294967295,C=x+(A<<17&4294967295|A>>>15),A=y+(g^C&(x^g))+w[7]+4249261313&4294967295,y=C+(A<<22&4294967295|A>>>10),A=g+(x^y&(C^x))+w[8]+1770035416&4294967295,g=y+(A<<7&4294967295|A>>>25),A=x+(C^g&(y^C))+w[9]+2336552879&4294967295,x=g+(A<<12&4294967295|A>>>20),A=C+(y^x&(g^y))+w[10]+4294925233&4294967295,C=x+(A<<17&4294967295|A>>>15),A=y+(g^C&(x^g))+w[11]+2304563134&4294967295,y=C+(A<<22&4294967295|A>>>10),A=g+(x^y&(C^x))+w[12]+1804603682&4294967295,g=y+(A<<7&4294967295|A>>>25),A=x+(C^g&(y^C))+w[13]+4254626195&4294967295,x=g+(A<<12&4294967295|A>>>20),A=C+(y^x&(g^y))+w[14]+2792965006&4294967295,C=x+(A<<17&4294967295|A>>>15),A=y+(g^C&(x^g))+w[15]+1236535329&4294967295,y=C+(A<<22&4294967295|A>>>10),A=g+(C^x&(y^C))+w[1]+4129170786&4294967295,g=y+(A<<5&4294967295|A>>>27),A=x+(y^C&(g^y))+w[6]+3225465664&4294967295,x=g+(A<<9&4294967295|A>>>23),A=C+(g^y&(x^g))+w[11]+643717713&4294967295,C=x+(A<<14&4294967295|A>>>18),A=y+(x^g&(C^x))+w[0]+3921069994&4294967295,y=C+(A<<20&4294967295|A>>>12),A=g+(C^x&(y^C))+w[5]+3593408605&4294967295,g=y+(A<<5&4294967295|A>>>27),A=x+(y^C&(g^y))+w[10]+38016083&4294967295,x=g+(A<<9&4294967295|A>>>23),A=C+(g^y&(x^g))+w[15]+3634488961&4294967295,C=x+(A<<14&4294967295|A>>>18),A=y+(x^g&(C^x))+w[4]+3889429448&4294967295,y=C+(A<<20&4294967295|A>>>12),A=g+(C^x&(y^C))+w[9]+568446438&4294967295,g=y+(A<<5&4294967295|A>>>27),A=x+(y^C&(g^y))+w[14]+3275163606&4294967295,x=g+(A<<9&4294967295|A>>>23),A=C+(g^y&(x^g))+w[3]+4107603335&4294967295,C=x+(A<<14&4294967295|A>>>18),A=y+(x^g&(C^x))+w[8]+1163531501&4294967295,y=C+(A<<20&4294967295|A>>>12),A=g+(C^x&(y^C))+w[13]+2850285829&4294967295,g=y+(A<<5&4294967295|A>>>27),A=x+(y^C&(g^y))+w[2]+4243563512&4294967295,x=g+(A<<9&4294967295|A>>>23),A=C+(g^y&(x^g))+w[7]+1735328473&4294967295,C=x+(A<<14&4294967295|A>>>18),A=y+(x^g&(C^x))+w[12]+2368359562&4294967295,y=C+(A<<20&4294967295|A>>>12),A=g+(y^C^x)+w[5]+4294588738&4294967295,g=y+(A<<4&4294967295|A>>>28),A=x+(g^y^C)+w[8]+2272392833&4294967295,x=g+(A<<11&4294967295|A>>>21),A=C+(x^g^y)+w[11]+1839030562&4294967295,C=x+(A<<16&4294967295|A>>>16),A=y+(C^x^g)+w[14]+4259657740&4294967295,y=C+(A<<23&4294967295|A>>>9),A=g+(y^C^x)+w[1]+2763975236&4294967295,g=y+(A<<4&4294967295|A>>>28),A=x+(g^y^C)+w[4]+1272893353&4294967295,x=g+(A<<11&4294967295|A>>>21),A=C+(x^g^y)+w[7]+4139469664&4294967295,C=x+(A<<16&4294967295|A>>>16),A=y+(C^x^g)+w[10]+3200236656&4294967295,y=C+(A<<23&4294967295|A>>>9),A=g+(y^C^x)+w[13]+681279174&4294967295,g=y+(A<<4&4294967295|A>>>28),A=x+(g^y^C)+w[0]+3936430074&4294967295,x=g+(A<<11&4294967295|A>>>21),A=C+(x^g^y)+w[3]+3572445317&4294967295,C=x+(A<<16&4294967295|A>>>16),A=y+(C^x^g)+w[6]+76029189&4294967295,y=C+(A<<23&4294967295|A>>>9),A=g+(y^C^x)+w[9]+3654602809&4294967295,g=y+(A<<4&4294967295|A>>>28),A=x+(g^y^C)+w[12]+3873151461&4294967295,x=g+(A<<11&4294967295|A>>>21),A=C+(x^g^y)+w[15]+530742520&4294967295,C=x+(A<<16&4294967295|A>>>16),A=y+(C^x^g)+w[2]+3299628645&4294967295,y=C+(A<<23&4294967295|A>>>9),A=g+(C^(y|~x))+w[0]+4096336452&4294967295,g=y+(A<<6&4294967295|A>>>26),A=x+(y^(g|~C))+w[7]+1126891415&4294967295,x=g+(A<<10&4294967295|A>>>22),A=C+(g^(x|~y))+w[14]+2878612391&4294967295,C=x+(A<<15&4294967295|A>>>17),A=y+(x^(C|~g))+w[5]+4237533241&4294967295,y=C+(A<<21&4294967295|A>>>11),A=g+(C^(y|~x))+w[12]+1700485571&4294967295,g=y+(A<<6&4294967295|A>>>26),A=x+(y^(g|~C))+w[3]+2399980690&4294967295,x=g+(A<<10&4294967295|A>>>22),A=C+(g^(x|~y))+w[10]+4293915773&4294967295,C=x+(A<<15&4294967295|A>>>17),A=y+(x^(C|~g))+w[1]+2240044497&4294967295,y=C+(A<<21&4294967295|A>>>11),A=g+(C^(y|~x))+w[8]+1873313359&4294967295,g=y+(A<<6&4294967295|A>>>26),A=x+(y^(g|~C))+w[15]+4264355552&4294967295,x=g+(A<<10&4294967295|A>>>22),A=C+(g^(x|~y))+w[6]+2734768916&4294967295,C=x+(A<<15&4294967295|A>>>17),A=y+(x^(C|~g))+w[13]+1309151649&4294967295,y=C+(A<<21&4294967295|A>>>11),A=g+(C^(y|~x))+w[4]+4149444226&4294967295,g=y+(A<<6&4294967295|A>>>26),A=x+(y^(g|~C))+w[11]+3174756917&4294967295,x=g+(A<<10&4294967295|A>>>22),A=C+(g^(x|~y))+w[2]+718787259&4294967295,C=x+(A<<15&4294967295|A>>>17),A=y+(x^(C|~g))+w[9]+3951481745&4294967295,T.g[0]=T.g[0]+g&4294967295,T.g[1]=T.g[1]+(C+(A<<21&4294967295|A>>>11))&4294967295,T.g[2]=T.g[2]+C&4294967295,T.g[3]=T.g[3]+x&4294967295}r.prototype.u=function(T,g){g===void 0&&(g=T.length);for(var y=g-this.blockSize,w=this.B,C=this.h,x=0;x<g;){if(C==0)for(;x<=y;)i(this,T,x),x+=this.blockSize;if(typeof T=="string"){for(;x<g;)if(w[C++]=T.charCodeAt(x++),C==this.blockSize){i(this,w),C=0;break}}else for(;x<g;)if(w[C++]=T[x++],C==this.blockSize){i(this,w),C=0;break}}this.h=C,this.o+=g},r.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var g=1;g<T.length-8;++g)T[g]=0;var y=8*this.o;for(g=T.length-8;g<T.length;++g)T[g]=y&255,y/=256;for(this.u(T),T=Array(16),g=y=0;4>g;++g)for(var w=0;32>w;w+=8)T[y++]=this.g[g]>>>w&255;return T};function s(T,g){var y=l;return Object.prototype.hasOwnProperty.call(y,T)?y[T]:y[T]=g(T)}function o(T,g){this.h=g;for(var y=[],w=!0,C=T.length-1;0<=C;C--){var x=T[C]|0;w&&x==g||(y[C]=x,w=!1)}this.g=y}var l={};function u(T){return-128<=T&&128>T?s(T,function(g){return new o([g|0],0>g?-1:0)}):new o([T|0],0>T?-1:0)}function c(T){if(isNaN(T)||!isFinite(T))return m;if(0>T)return V(c(-T));for(var g=[],y=1,w=0;T>=y;w++)g[w]=T/y|0,y*=4294967296;return new o(g,0)}function h(T,g){if(T.length==0)throw Error("number format error: empty string");if(g=g||10,2>g||36<g)throw Error("radix out of range: "+g);if(T.charAt(0)=="-")return V(h(T.substring(1),g));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var y=c(Math.pow(g,8)),w=m,C=0;C<T.length;C+=8){var x=Math.min(8,T.length-C),A=parseInt(T.substring(C,C+x),g);8>x?(x=c(Math.pow(g,x)),w=w.j(x).add(c(A))):(w=w.j(y),w=w.add(c(A)))}return w}var m=u(0),d=u(1),v=u(16777216);t=o.prototype,t.m=function(){if(k(this))return-V(this).m();for(var T=0,g=1,y=0;y<this.g.length;y++){var w=this.i(y);T+=(0<=w?w:4294967296+w)*g,g*=4294967296}return T},t.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(P(this))return"0";if(k(this))return"-"+V(this).toString(T);for(var g=c(Math.pow(T,6)),y=this,w="";;){var C=R(y,g).g;y=S(y,C.j(g));var x=((0<y.g.length?y.g[0]:y.h)>>>0).toString(T);if(y=C,P(y))return x+w;for(;6>x.length;)x="0"+x;w=x+w}},t.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function P(T){if(T.h!=0)return!1;for(var g=0;g<T.g.length;g++)if(T.g[g]!=0)return!1;return!0}function k(T){return T.h==-1}t.l=function(T){return T=S(this,T),k(T)?-1:P(T)?0:1};function V(T){for(var g=T.g.length,y=[],w=0;w<g;w++)y[w]=~T.g[w];return new o(y,~T.h).add(d)}t.abs=function(){return k(this)?V(this):this},t.add=function(T){for(var g=Math.max(this.g.length,T.g.length),y=[],w=0,C=0;C<=g;C++){var x=w+(this.i(C)&65535)+(T.i(C)&65535),A=(x>>>16)+(this.i(C)>>>16)+(T.i(C)>>>16);w=A>>>16,x&=65535,A&=65535,y[C]=A<<16|x}return new o(y,y[y.length-1]&-2147483648?-1:0)};function S(T,g){return T.add(V(g))}t.j=function(T){if(P(this)||P(T))return m;if(k(this))return k(T)?V(this).j(V(T)):V(V(this).j(T));if(k(T))return V(this.j(V(T)));if(0>this.l(v)&&0>T.l(v))return c(this.m()*T.m());for(var g=this.g.length+T.g.length,y=[],w=0;w<2*g;w++)y[w]=0;for(w=0;w<this.g.length;w++)for(var C=0;C<T.g.length;C++){var x=this.i(w)>>>16,A=this.i(w)&65535,Q=T.i(C)>>>16,ie=T.i(C)&65535;y[2*w+2*C]+=A*ie,E(y,2*w+2*C),y[2*w+2*C+1]+=x*ie,E(y,2*w+2*C+1),y[2*w+2*C+1]+=A*Q,E(y,2*w+2*C+1),y[2*w+2*C+2]+=x*Q,E(y,2*w+2*C+2)}for(w=0;w<g;w++)y[w]=y[2*w+1]<<16|y[2*w];for(w=g;w<2*g;w++)y[w]=0;return new o(y,0)};function E(T,g){for(;(T[g]&65535)!=T[g];)T[g+1]+=T[g]>>>16,T[g]&=65535,g++}function I(T,g){this.g=T,this.h=g}function R(T,g){if(P(g))throw Error("division by zero");if(P(T))return new I(m,m);if(k(T))return g=R(V(T),g),new I(V(g.g),V(g.h));if(k(g))return g=R(T,V(g)),new I(V(g.g),g.h);if(30<T.g.length){if(k(T)||k(g))throw Error("slowDivide_ only works with positive integers.");for(var y=d,w=g;0>=w.l(T);)y=L(y),w=L(w);var C=O(y,1),x=O(w,1);for(w=O(w,2),y=O(y,2);!P(w);){var A=x.add(w);0>=A.l(T)&&(C=C.add(y),x=A),w=O(w,1),y=O(y,1)}return g=S(T,C.j(g)),new I(C,g)}for(C=m;0<=T.l(g);){for(y=Math.max(1,Math.floor(T.m()/g.m())),w=Math.ceil(Math.log(y)/Math.LN2),w=48>=w?1:Math.pow(2,w-48),x=c(y),A=x.j(g);k(A)||0<A.l(T);)y-=w,x=c(y),A=x.j(g);P(x)&&(x=d),C=C.add(x),T=S(T,A)}return new I(C,T)}t.A=function(T){return R(this,T).h},t.and=function(T){for(var g=Math.max(this.g.length,T.g.length),y=[],w=0;w<g;w++)y[w]=this.i(w)&T.i(w);return new o(y,this.h&T.h)},t.or=function(T){for(var g=Math.max(this.g.length,T.g.length),y=[],w=0;w<g;w++)y[w]=this.i(w)|T.i(w);return new o(y,this.h|T.h)},t.xor=function(T){for(var g=Math.max(this.g.length,T.g.length),y=[],w=0;w<g;w++)y[w]=this.i(w)^T.i(w);return new o(y,this.h^T.h)};function L(T){for(var g=T.g.length+1,y=[],w=0;w<g;w++)y[w]=T.i(w)<<1|T.i(w-1)>>>31;return new o(y,T.h)}function O(T,g){var y=g>>5;g%=32;for(var w=T.g.length-y,C=[],x=0;x<w;x++)C[x]=0<g?T.i(x+y)>>>g|T.i(x+y+1)<<32-g:T.i(x+y);return new o(C,T.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,y1=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=h,li=o}).apply(typeof Cv<"u"?Cv:typeof self<"u"?self:typeof window<"u"?window:{});var rl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var v1,_1,io,w1,Tl,Ff,E1,T1,S1;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,f,p){return a==Array.prototype||a==Object.prototype||(a[f]=p.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof rl=="object"&&rl];for(var f=0;f<a.length;++f){var p=a[f];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var r=n(this);function i(a,f){if(f)e:{var p=r;a=a.split(".");for(var _=0;_<a.length-1;_++){var D=a[_];if(!(D in p))break e;p=p[D]}a=a[a.length-1],_=p[a],f=f(_),f!=_&&f!=null&&e(p,a,{configurable:!0,writable:!0,value:f})}}function s(a,f){a instanceof String&&(a+="");var p=0,_=!1,D={next:function(){if(!_&&p<a.length){var N=p++;return{value:f(N,a[N]),done:!1}}return _=!0,{done:!0,value:void 0}}};return D[Symbol.iterator]=function(){return D},D}i("Array.prototype.values",function(a){return a||function(){return s(this,function(f,p){return p})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function u(a){var f=typeof a;return f=f!="object"?f:a?Array.isArray(a)?"array":f:"null",f=="array"||f=="object"&&typeof a.length=="number"}function c(a){var f=typeof a;return f=="object"&&a!=null||f=="function"}function h(a,f,p){return a.call.apply(a.bind,arguments)}function m(a,f,p){if(!a)throw Error();if(2<arguments.length){var _=Array.prototype.slice.call(arguments,2);return function(){var D=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(D,_),a.apply(f,D)}}return function(){return a.apply(f,arguments)}}function d(a,f,p){return d=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:m,d.apply(null,arguments)}function v(a,f){var p=Array.prototype.slice.call(arguments,1);return function(){var _=p.slice();return _.push.apply(_,arguments),a.apply(this,_)}}function P(a,f){function p(){}p.prototype=f.prototype,a.aa=f.prototype,a.prototype=new p,a.prototype.constructor=a,a.Qb=function(_,D,N){for(var z=Array(arguments.length-2),Se=2;Se<arguments.length;Se++)z[Se-2]=arguments[Se];return f.prototype[D].apply(_,z)}}function k(a){const f=a.length;if(0<f){const p=Array(f);for(let _=0;_<f;_++)p[_]=a[_];return p}return[]}function V(a,f){for(let p=1;p<arguments.length;p++){const _=arguments[p];if(u(_)){const D=a.length||0,N=_.length||0;a.length=D+N;for(let z=0;z<N;z++)a[D+z]=_[z]}else a.push(_)}}class S{constructor(f,p){this.i=f,this.j=p,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function E(a){return/^[\s\xa0]*$/.test(a)}function I(){var a=l.navigator;return a&&(a=a.userAgent)?a:""}function R(a){return R[" "](a),a}R[" "]=function(){};var L=I().indexOf("Gecko")!=-1&&!(I().toLowerCase().indexOf("webkit")!=-1&&I().indexOf("Edge")==-1)&&!(I().indexOf("Trident")!=-1||I().indexOf("MSIE")!=-1)&&I().indexOf("Edge")==-1;function O(a,f,p){for(const _ in a)f.call(p,a[_],_,a)}function T(a,f){for(const p in a)f.call(void 0,a[p],p,a)}function g(a){const f={};for(const p in a)f[p]=a[p];return f}const y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(a,f){let p,_;for(let D=1;D<arguments.length;D++){_=arguments[D];for(p in _)a[p]=_[p];for(let N=0;N<y.length;N++)p=y[N],Object.prototype.hasOwnProperty.call(_,p)&&(a[p]=_[p])}}function C(a){var f=1;a=a.split(":");const p=[];for(;0<f&&a.length;)p.push(a.shift()),f--;return a.length&&p.push(a.join(":")),p}function x(a){l.setTimeout(()=>{throw a},0)}function A(){var a=U;let f=null;return a.g&&(f=a.g,a.g=a.g.next,a.g||(a.h=null),f.next=null),f}class Q{constructor(){this.h=this.g=null}add(f,p){const _=ie.get();_.set(f,p),this.h?this.h.next=_:this.g=_,this.h=_}}var ie=new S(()=>new se,a=>a.reset());class se{constructor(){this.next=this.g=this.h=null}set(f,p){this.h=f,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let W,F=!1,U=new Q,X=()=>{const a=l.Promise.resolve(void 0);W=()=>{a.then(oe)}};var oe=()=>{for(var a;a=A();){try{a.h.call(a.g)}catch(p){x(p)}var f=ie;f.j(a),100>f.h&&(f.h++,a.next=f.g,f.g=a)}F=!1};function j(){this.s=this.s,this.C=this.C}j.prototype.s=!1,j.prototype.ma=function(){this.s||(this.s=!0,this.N())},j.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ee(a,f){this.type=a,this.g=this.target=f,this.defaultPrevented=!1}ee.prototype.h=function(){this.defaultPrevented=!0};var Ie=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var a=!1,f=Object.defineProperty({},"passive",{get:function(){a=!0}});try{const p=()=>{};l.addEventListener("test",p,f),l.removeEventListener("test",p,f)}catch{}return a}();function de(a,f){if(ee.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var p=this.type=a.type,_=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=f,f=a.relatedTarget){if(L){e:{try{R(f.nodeName);var D=!0;break e}catch{}D=!1}D||(f=null)}}else p=="mouseover"?f=a.fromElement:p=="mouseout"&&(f=a.toElement);this.relatedTarget=f,_?(this.clientX=_.clientX!==void 0?_.clientX:_.pageX,this.clientY=_.clientY!==void 0?_.clientY:_.pageY,this.screenX=_.screenX||0,this.screenY=_.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:Te[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&de.aa.h.call(this)}}P(de,ee);var Te={2:"touch",3:"pen",4:"mouse"};de.prototype.h=function(){de.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var ve="closure_listenable_"+(1e6*Math.random()|0),Ke=0;function J(a,f,p,_,D){this.listener=a,this.proxy=null,this.src=f,this.type=p,this.capture=!!_,this.ha=D,this.key=++Ke,this.da=this.fa=!1}function ue(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function we(a){this.src=a,this.g={},this.h=0}we.prototype.add=function(a,f,p,_,D){var N=a.toString();a=this.g[N],a||(a=this.g[N]=[],this.h++);var z=ye(a,f,_,D);return-1<z?(f=a[z],p||(f.fa=!1)):(f=new J(f,this.src,N,!!_,D),f.fa=p,a.push(f)),f};function Oe(a,f){var p=f.type;if(p in a.g){var _=a.g[p],D=Array.prototype.indexOf.call(_,f,void 0),N;(N=0<=D)&&Array.prototype.splice.call(_,D,1),N&&(ue(f),a.g[p].length==0&&(delete a.g[p],a.h--))}}function ye(a,f,p,_){for(var D=0;D<a.length;++D){var N=a[D];if(!N.da&&N.listener==f&&N.capture==!!p&&N.ha==_)return D}return-1}var Ge="closure_lm_"+(1e6*Math.random()|0),xe={};function Ee(a,f,p,_,D){if(_&&_.once)return zt(a,f,p,_,D);if(Array.isArray(f)){for(var N=0;N<f.length;N++)Ee(a,f[N],p,_,D);return null}return p=An(p),a&&a[ve]?a.K(f,p,c(_)?!!_.capture:!!_,D):Dt(a,f,p,!1,_,D)}function Dt(a,f,p,_,D,N){if(!f)throw Error("Invalid event type");var z=c(D)?!!D.capture:!!D,Se=cn(a);if(Se||(a[Ge]=Se=new we(a)),p=Se.add(f,p,_,z,N),p.proxy)return p;if(_=Nt(),p.proxy=_,_.src=a,_.listener=p,a.addEventListener)Ie||(D=z),D===void 0&&(D=!1),a.addEventListener(f.toString(),_,D);else if(a.attachEvent)a.attachEvent(Pe(f.toString()),_);else if(a.addListener&&a.removeListener)a.addListener(_);else throw Error("addEventListener and attachEvent are unavailable.");return p}function Nt(){function a(p){return f.call(a.src,a.listener,p)}const f=ze;return a}function zt(a,f,p,_,D){if(Array.isArray(f)){for(var N=0;N<f.length;N++)zt(a,f[N],p,_,D);return null}return p=An(p),a&&a[ve]?a.L(f,p,c(_)?!!_.capture:!!_,D):Dt(a,f,p,!0,_,D)}function en(a,f,p,_,D){if(Array.isArray(f))for(var N=0;N<f.length;N++)en(a,f[N],p,_,D);else _=c(_)?!!_.capture:!!_,p=An(p),a&&a[ve]?(a=a.i,f=String(f).toString(),f in a.g&&(N=a.g[f],p=ye(N,p,_,D),-1<p&&(ue(N[p]),Array.prototype.splice.call(N,p,1),N.length==0&&(delete a.g[f],a.h--)))):a&&(a=cn(a))&&(f=a.g[f.toString()],a=-1,f&&(a=ye(f,p,_,D)),(p=-1<a?f[a]:null)&&pt(p))}function pt(a){if(typeof a!="number"&&a&&!a.da){var f=a.src;if(f&&f[ve])Oe(f.i,a);else{var p=a.type,_=a.proxy;f.removeEventListener?f.removeEventListener(p,_,a.capture):f.detachEvent?f.detachEvent(Pe(p),_):f.addListener&&f.removeListener&&f.removeListener(_),(p=cn(f))?(Oe(p,a),p.h==0&&(p.src=null,f[Ge]=null)):ue(a)}}}function Pe(a){return a in xe?xe[a]:xe[a]="on"+a}function ze(a,f){if(a.da)a=!0;else{f=new de(f,this);var p=a.listener,_=a.ha||a.src;a.fa&&pt(a),a=p.call(_,f)}return a}function cn(a){return a=a[Ge],a instanceof we?a:null}var me="__closure_events_fn_"+(1e9*Math.random()>>>0);function An(a){return typeof a=="function"?a:(a[me]||(a[me]=function(f){return a.handleEvent(f)}),a[me])}function Ce(){j.call(this),this.i=new we(this),this.M=this,this.F=null}P(Ce,j),Ce.prototype[ve]=!0,Ce.prototype.removeEventListener=function(a,f,p,_){en(this,a,f,p,_)};function Me(a,f){var p,_=a.F;if(_)for(p=[];_;_=_.F)p.push(_);if(a=a.M,_=f.type||f,typeof f=="string")f=new ee(f,a);else if(f instanceof ee)f.target=f.target||a;else{var D=f;f=new ee(_,a),w(f,D)}if(D=!0,p)for(var N=p.length-1;0<=N;N--){var z=f.g=p[N];D=$t(z,_,!0,f)&&D}if(z=f.g=a,D=$t(z,_,!0,f)&&D,D=$t(z,_,!1,f)&&D,p)for(N=0;N<p.length;N++)z=f.g=p[N],D=$t(z,_,!1,f)&&D}Ce.prototype.N=function(){if(Ce.aa.N.call(this),this.i){var a=this.i,f;for(f in a.g){for(var p=a.g[f],_=0;_<p.length;_++)ue(p[_]);delete a.g[f],a.h--}}this.F=null},Ce.prototype.K=function(a,f,p,_){return this.i.add(String(a),f,!1,p,_)},Ce.prototype.L=function(a,f,p,_){return this.i.add(String(a),f,!0,p,_)};function $t(a,f,p,_){if(f=a.i.g[String(f)],!f)return!0;f=f.concat();for(var D=!0,N=0;N<f.length;++N){var z=f[N];if(z&&!z.da&&z.capture==p){var Se=z.listener,ot=z.ha||z.src;z.fa&&Oe(a.i,z),D=Se.call(ot,_)!==!1&&D}}return D&&!_.defaultPrevented}function hn(a,f,p){if(typeof a=="function")p&&(a=d(a,p));else if(a&&typeof a.handleEvent=="function")a=d(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:l.setTimeout(a,f||0)}function fn(a){a.g=hn(()=>{a.g=null,a.i&&(a.i=!1,fn(a))},a.l);const f=a.h;a.h=null,a.m.apply(null,f)}class Lt extends j{constructor(f,p){super(),this.m=f,this.l=p,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:fn(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function In(a){j.call(this),this.h=a,this.g={}}P(In,j);var At=[];function Cs(a){O(a.g,function(f,p){this.g.hasOwnProperty(p)&&pt(f)},a),a.g={}}In.prototype.N=function(){In.aa.N.call(this),Cs(this)},In.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var $r=l.JSON.stringify,FT=l.JSON.parse,UT=class{stringify(a){return l.JSON.stringify(a,void 0)}parse(a){return l.JSON.parse(a,void 0)}};function oc(){}oc.prototype.h=null;function rm(a){return a.h||(a.h=a.i())}function im(){}var Rs={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ac(){ee.call(this,"d")}P(ac,ee);function lc(){ee.call(this,"c")}P(lc,ee);var Hr={},sm=null;function Ta(){return sm=sm||new Ce}Hr.La="serverreachability";function om(a){ee.call(this,Hr.La,a)}P(om,ee);function xs(a){const f=Ta();Me(f,new om(f))}Hr.STAT_EVENT="statevent";function am(a,f){ee.call(this,Hr.STAT_EVENT,a),this.stat=f}P(am,ee);function It(a){const f=Ta();Me(f,new am(f,a))}Hr.Ma="timingevent";function lm(a,f){ee.call(this,Hr.Ma,a),this.size=f}P(lm,ee);function ks(a,f){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){a()},f)}function Vs(){this.g=!0}Vs.prototype.xa=function(){this.g=!1};function BT(a,f,p,_,D,N){a.info(function(){if(a.g)if(N)for(var z="",Se=N.split("&"),ot=0;ot<Se.length;ot++){var pe=Se[ot].split("=");if(1<pe.length){var mt=pe[0];pe=pe[1];var gt=mt.split("_");z=2<=gt.length&&gt[1]=="type"?z+(mt+"="+pe+"&"):z+(mt+"=redacted&")}}else z=null;else z=N;return"XMLHTTP REQ ("+_+") [attempt "+D+"]: "+f+`
`+p+`
`+z})}function jT(a,f,p,_,D,N,z){a.info(function(){return"XMLHTTP RESP ("+_+") [ attempt "+D+"]: "+f+`
`+p+`
`+N+" "+z})}function Pi(a,f,p,_){a.info(function(){return"XMLHTTP TEXT ("+f+"): "+$T(a,p)+(_?" "+_:"")})}function zT(a,f){a.info(function(){return"TIMEOUT: "+f})}Vs.prototype.info=function(){};function $T(a,f){if(!a.g)return f;if(!f)return null;try{var p=JSON.parse(f);if(p){for(a=0;a<p.length;a++)if(Array.isArray(p[a])){var _=p[a];if(!(2>_.length)){var D=_[1];if(Array.isArray(D)&&!(1>D.length)){var N=D[0];if(N!="noop"&&N!="stop"&&N!="close")for(var z=1;z<D.length;z++)D[z]=""}}}}return $r(p)}catch{return f}}var Sa={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},um={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},uc;function Aa(){}P(Aa,oc),Aa.prototype.g=function(){return new XMLHttpRequest},Aa.prototype.i=function(){return{}},uc=new Aa;function rr(a,f,p,_){this.j=a,this.i=f,this.l=p,this.R=_||1,this.U=new In(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new cm}function cm(){this.i=null,this.g="",this.h=!1}var hm={},cc={};function hc(a,f,p){a.L=1,a.v=Ra(Un(f)),a.m=p,a.P=!0,fm(a,null)}function fm(a,f){a.F=Date.now(),Ia(a),a.A=Un(a.v);var p=a.A,_=a.R;Array.isArray(_)||(_=[String(_)]),Pm(p.i,"t",_),a.C=0,p=a.j.J,a.h=new cm,a.g=Hm(a.j,p?f:null,!a.m),0<a.O&&(a.M=new Lt(d(a.Y,a,a.g),a.O)),f=a.U,p=a.g,_=a.ca;var D="readystatechange";Array.isArray(D)||(D&&(At[0]=D.toString()),D=At);for(var N=0;N<D.length;N++){var z=Ee(p,D[N],_||f.handleEvent,!1,f.h||f);if(!z)break;f.g[z.key]=z}f=a.H?g(a.H):{},a.m?(a.u||(a.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,f)):(a.u="GET",a.g.ea(a.A,a.u,null,f)),xs(),BT(a.i,a.u,a.A,a.l,a.R,a.m)}rr.prototype.ca=function(a){a=a.target;const f=this.M;f&&Bn(a)==3?f.j():this.Y(a)},rr.prototype.Y=function(a){try{if(a==this.g)e:{const gt=Bn(this.g);var f=this.g.Ba();const xi=this.g.Z();if(!(3>gt)&&(gt!=3||this.g&&(this.h.h||this.g.oa()||Nm(this.g)))){this.J||gt!=4||f==7||(f==8||0>=xi?xs(3):xs(2)),fc(this);var p=this.g.Z();this.X=p;t:if(dm(this)){var _=Nm(this.g);a="";var D=_.length,N=Bn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Wr(this),Ds(this);var z="";break t}this.h.i=new l.TextDecoder}for(f=0;f<D;f++)this.h.h=!0,a+=this.h.i.decode(_[f],{stream:!(N&&f==D-1)});_.length=0,this.h.g+=a,this.C=0,z=this.h.g}else z=this.g.oa();if(this.o=p==200,jT(this.i,this.u,this.A,this.l,this.R,gt,p),this.o){if(this.T&&!this.K){t:{if(this.g){var Se,ot=this.g;if((Se=ot.g?ot.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!E(Se)){var pe=Se;break t}}pe=null}if(p=pe)Pi(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,dc(this,p);else{this.o=!1,this.s=3,It(12),Wr(this),Ds(this);break e}}if(this.P){p=!0;let dn;for(;!this.J&&this.C<z.length;)if(dn=HT(this,z),dn==cc){gt==4&&(this.s=4,It(14),p=!1),Pi(this.i,this.l,null,"[Incomplete Response]");break}else if(dn==hm){this.s=4,It(15),Pi(this.i,this.l,z,"[Invalid Chunk]"),p=!1;break}else Pi(this.i,this.l,dn,null),dc(this,dn);if(dm(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),gt!=4||z.length!=0||this.h.h||(this.s=1,It(16),p=!1),this.o=this.o&&p,!p)Pi(this.i,this.l,z,"[Invalid Chunked Response]"),Wr(this),Ds(this);else if(0<z.length&&!this.W){this.W=!0;var mt=this.j;mt.g==this&&mt.ba&&!mt.M&&(mt.j.info("Great, no buffering proxy detected. Bytes received: "+z.length),_c(mt),mt.M=!0,It(11))}}else Pi(this.i,this.l,z,null),dc(this,z);gt==4&&Wr(this),this.o&&!this.J&&(gt==4?Bm(this.j,this):(this.o=!1,Ia(this)))}else aS(this.g),p==400&&0<z.indexOf("Unknown SID")?(this.s=3,It(12)):(this.s=0,It(13)),Wr(this),Ds(this)}}}catch{}finally{}};function dm(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function HT(a,f){var p=a.C,_=f.indexOf(`
`,p);return _==-1?cc:(p=Number(f.substring(p,_)),isNaN(p)?hm:(_+=1,_+p>f.length?cc:(f=f.slice(_,_+p),a.C=_+p,f)))}rr.prototype.cancel=function(){this.J=!0,Wr(this)};function Ia(a){a.S=Date.now()+a.I,pm(a,a.I)}function pm(a,f){if(a.B!=null)throw Error("WatchDog timer not null");a.B=ks(d(a.ba,a),f)}function fc(a){a.B&&(l.clearTimeout(a.B),a.B=null)}rr.prototype.ba=function(){this.B=null;const a=Date.now();0<=a-this.S?(zT(this.i,this.A),this.L!=2&&(xs(),It(17)),Wr(this),this.s=2,Ds(this)):pm(this,this.S-a)};function Ds(a){a.j.G==0||a.J||Bm(a.j,a)}function Wr(a){fc(a);var f=a.M;f&&typeof f.ma=="function"&&f.ma(),a.M=null,Cs(a.U),a.g&&(f=a.g,a.g=null,f.abort(),f.ma())}function dc(a,f){try{var p=a.j;if(p.G!=0&&(p.g==a||pc(p.h,a))){if(!a.K&&pc(p.h,a)&&p.G==3){try{var _=p.Da.g.parse(f)}catch{_=null}if(Array.isArray(_)&&_.length==3){var D=_;if(D[0]==0){e:if(!p.u){if(p.g)if(p.g.F+3e3<a.F)Na(p),Va(p);else break e;vc(p),It(18)}}else p.za=D[1],0<p.za-p.T&&37500>D[2]&&p.F&&p.v==0&&!p.C&&(p.C=ks(d(p.Za,p),6e3));if(1>=ym(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else Kr(p,11)}else if((a.K||p.g==a)&&Na(p),!E(f))for(D=p.Da.g.parse(f),f=0;f<D.length;f++){let pe=D[f];if(p.T=pe[0],pe=pe[1],p.G==2)if(pe[0]=="c"){p.K=pe[1],p.ia=pe[2];const mt=pe[3];mt!=null&&(p.la=mt,p.j.info("VER="+p.la));const gt=pe[4];gt!=null&&(p.Aa=gt,p.j.info("SVER="+p.Aa));const xi=pe[5];xi!=null&&typeof xi=="number"&&0<xi&&(_=1.5*xi,p.L=_,p.j.info("backChannelRequestTimeoutMs_="+_)),_=p;const dn=a.g;if(dn){const Oa=dn.g?dn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Oa){var N=_.h;N.g||Oa.indexOf("spdy")==-1&&Oa.indexOf("quic")==-1&&Oa.indexOf("h2")==-1||(N.j=N.l,N.g=new Set,N.h&&(mc(N,N.h),N.h=null))}if(_.D){const wc=dn.g?dn.g.getResponseHeader("X-HTTP-Session-Id"):null;wc&&(_.ya=wc,ke(_.I,_.D,wc))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-a.F,p.j.info("Handshake RTT: "+p.R+"ms")),_=p;var z=a;if(_.qa=$m(_,_.J?_.ia:null,_.W),z.K){vm(_.h,z);var Se=z,ot=_.L;ot&&(Se.I=ot),Se.B&&(fc(Se),Ia(Se)),_.g=z}else Fm(_);0<p.i.length&&Da(p)}else pe[0]!="stop"&&pe[0]!="close"||Kr(p,7);else p.G==3&&(pe[0]=="stop"||pe[0]=="close"?pe[0]=="stop"?Kr(p,7):yc(p):pe[0]!="noop"&&p.l&&p.l.ta(pe),p.v=0)}}xs(4)}catch{}}var WT=class{constructor(a,f){this.g=a,this.map=f}};function mm(a){this.l=a||10,l.PerformanceNavigationTiming?(a=l.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function gm(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function ym(a){return a.h?1:a.g?a.g.size:0}function pc(a,f){return a.h?a.h==f:a.g?a.g.has(f):!1}function mc(a,f){a.g?a.g.add(f):a.h=f}function vm(a,f){a.h&&a.h==f?a.h=null:a.g&&a.g.has(f)&&a.g.delete(f)}mm.prototype.cancel=function(){if(this.i=_m(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const a of this.g.values())a.cancel();this.g.clear()}};function _m(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let f=a.i;for(const p of a.g.values())f=f.concat(p.D);return f}return k(a.i)}function qT(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(u(a)){for(var f=[],p=a.length,_=0;_<p;_++)f.push(a[_]);return f}f=[],p=0;for(_ in a)f[p++]=a[_];return f}function KT(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(u(a)||typeof a=="string"){var f=[];a=a.length;for(var p=0;p<a;p++)f.push(p);return f}f=[],p=0;for(const _ in a)f[p++]=_;return f}}}function wm(a,f){if(a.forEach&&typeof a.forEach=="function")a.forEach(f,void 0);else if(u(a)||typeof a=="string")Array.prototype.forEach.call(a,f,void 0);else for(var p=KT(a),_=qT(a),D=_.length,N=0;N<D;N++)f.call(void 0,_[N],p&&p[N],a)}var Em=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function GT(a,f){if(a){a=a.split("&");for(var p=0;p<a.length;p++){var _=a[p].indexOf("="),D=null;if(0<=_){var N=a[p].substring(0,_);D=a[p].substring(_+1)}else N=a[p];f(N,D?decodeURIComponent(D.replace(/\+/g," ")):"")}}}function qr(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof qr){this.h=a.h,Pa(this,a.j),this.o=a.o,this.g=a.g,Ca(this,a.s),this.l=a.l;var f=a.i,p=new Os;p.i=f.i,f.g&&(p.g=new Map(f.g),p.h=f.h),Tm(this,p),this.m=a.m}else a&&(f=String(a).match(Em))?(this.h=!1,Pa(this,f[1]||"",!0),this.o=Ns(f[2]||""),this.g=Ns(f[3]||"",!0),Ca(this,f[4]),this.l=Ns(f[5]||"",!0),Tm(this,f[6]||"",!0),this.m=Ns(f[7]||"")):(this.h=!1,this.i=new Os(null,this.h))}qr.prototype.toString=function(){var a=[],f=this.j;f&&a.push(Ls(f,Sm,!0),":");var p=this.g;return(p||f=="file")&&(a.push("//"),(f=this.o)&&a.push(Ls(f,Sm,!0),"@"),a.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&a.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&a.push("/"),a.push(Ls(p,p.charAt(0)=="/"?XT:YT,!0))),(p=this.i.toString())&&a.push("?",p),(p=this.m)&&a.push("#",Ls(p,ZT)),a.join("")};function Un(a){return new qr(a)}function Pa(a,f,p){a.j=p?Ns(f,!0):f,a.j&&(a.j=a.j.replace(/:$/,""))}function Ca(a,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);a.s=f}else a.s=null}function Tm(a,f,p){f instanceof Os?(a.i=f,eS(a.i,a.h)):(p||(f=Ls(f,JT)),a.i=new Os(f,a.h))}function ke(a,f,p){a.i.set(f,p)}function Ra(a){return ke(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function Ns(a,f){return a?f?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Ls(a,f,p){return typeof a=="string"?(a=encodeURI(a).replace(f,QT),p&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function QT(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var Sm=/[#\/\?@]/g,YT=/[#\?:]/g,XT=/[#\?]/g,JT=/[#\?@]/g,ZT=/#/g;function Os(a,f){this.h=this.g=null,this.i=a||null,this.j=!!f}function ir(a){a.g||(a.g=new Map,a.h=0,a.i&&GT(a.i,function(f,p){a.add(decodeURIComponent(f.replace(/\+/g," ")),p)}))}t=Os.prototype,t.add=function(a,f){ir(this),this.i=null,a=Ci(this,a);var p=this.g.get(a);return p||this.g.set(a,p=[]),p.push(f),this.h+=1,this};function Am(a,f){ir(a),f=Ci(a,f),a.g.has(f)&&(a.i=null,a.h-=a.g.get(f).length,a.g.delete(f))}function Im(a,f){return ir(a),f=Ci(a,f),a.g.has(f)}t.forEach=function(a,f){ir(this),this.g.forEach(function(p,_){p.forEach(function(D){a.call(f,D,_,this)},this)},this)},t.na=function(){ir(this);const a=Array.from(this.g.values()),f=Array.from(this.g.keys()),p=[];for(let _=0;_<f.length;_++){const D=a[_];for(let N=0;N<D.length;N++)p.push(f[_])}return p},t.V=function(a){ir(this);let f=[];if(typeof a=="string")Im(this,a)&&(f=f.concat(this.g.get(Ci(this,a))));else{a=Array.from(this.g.values());for(let p=0;p<a.length;p++)f=f.concat(a[p])}return f},t.set=function(a,f){return ir(this),this.i=null,a=Ci(this,a),Im(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[f]),this.h+=1,this},t.get=function(a,f){return a?(a=this.V(a),0<a.length?String(a[0]):f):f};function Pm(a,f,p){Am(a,f),0<p.length&&(a.i=null,a.g.set(Ci(a,f),k(p)),a.h+=p.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const a=[],f=Array.from(this.g.keys());for(var p=0;p<f.length;p++){var _=f[p];const N=encodeURIComponent(String(_)),z=this.V(_);for(_=0;_<z.length;_++){var D=N;z[_]!==""&&(D+="="+encodeURIComponent(String(z[_]))),a.push(D)}}return this.i=a.join("&")};function Ci(a,f){return f=String(f),a.j&&(f=f.toLowerCase()),f}function eS(a,f){f&&!a.j&&(ir(a),a.i=null,a.g.forEach(function(p,_){var D=_.toLowerCase();_!=D&&(Am(this,_),Pm(this,D,p))},a)),a.j=f}function tS(a,f){const p=new Vs;if(l.Image){const _=new Image;_.onload=v(sr,p,"TestLoadImage: loaded",!0,f,_),_.onerror=v(sr,p,"TestLoadImage: error",!1,f,_),_.onabort=v(sr,p,"TestLoadImage: abort",!1,f,_),_.ontimeout=v(sr,p,"TestLoadImage: timeout",!1,f,_),l.setTimeout(function(){_.ontimeout&&_.ontimeout()},1e4),_.src=a}else f(!1)}function nS(a,f){const p=new Vs,_=new AbortController,D=setTimeout(()=>{_.abort(),sr(p,"TestPingServer: timeout",!1,f)},1e4);fetch(a,{signal:_.signal}).then(N=>{clearTimeout(D),N.ok?sr(p,"TestPingServer: ok",!0,f):sr(p,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(D),sr(p,"TestPingServer: error",!1,f)})}function sr(a,f,p,_,D){try{D&&(D.onload=null,D.onerror=null,D.onabort=null,D.ontimeout=null),_(p)}catch{}}function rS(){this.g=new UT}function iS(a,f,p){const _=p||"";try{wm(a,function(D,N){let z=D;c(D)&&(z=$r(D)),f.push(_+N+"="+encodeURIComponent(z))})}catch(D){throw f.push(_+"type="+encodeURIComponent("_badmap")),D}}function Ms(a){this.l=a.Ub||null,this.j=a.eb||!1}P(Ms,oc),Ms.prototype.g=function(){return new xa(this.l,this.j)},Ms.prototype.i=function(a){return function(){return a}}({});function xa(a,f){Ce.call(this),this.D=a,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}P(xa,Ce),t=xa.prototype,t.open=function(a,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=f,this.readyState=1,Fs(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(f.body=a),(this.D||l).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,bs(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,Fs(this)),this.g&&(this.readyState=3,Fs(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Cm(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function Cm(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var f=a.value?a.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!a.done}))&&(this.response=this.responseText+=f)}a.done?bs(this):Fs(this),this.readyState==3&&Cm(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,bs(this))},t.Qa=function(a){this.g&&(this.response=a,bs(this))},t.ga=function(){this.g&&bs(this)};function bs(a){a.readyState=4,a.l=null,a.j=null,a.v=null,Fs(a)}t.setRequestHeader=function(a,f){this.u.append(a,f)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const a=[],f=this.h.entries();for(var p=f.next();!p.done;)p=p.value,a.push(p[0]+": "+p[1]),p=f.next();return a.join(`\r
`)};function Fs(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(xa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function Rm(a){let f="";return O(a,function(p,_){f+=_,f+=":",f+=p,f+=`\r
`}),f}function gc(a,f,p){e:{for(_ in p){var _=!1;break e}_=!0}_||(p=Rm(p),typeof a=="string"?p!=null&&encodeURIComponent(String(p)):ke(a,f,p))}function $e(a){Ce.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}P($e,Ce);var sS=/^https?$/i,oS=["POST","PUT"];t=$e.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,f,p,_){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);f=f?f.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():uc.g(),this.v=this.o?rm(this.o):rm(uc),this.g.onreadystatechange=d(this.Ea,this);try{this.B=!0,this.g.open(f,String(a),!0),this.B=!1}catch(N){xm(this,N);return}if(a=p||"",p=new Map(this.headers),_)if(Object.getPrototypeOf(_)===Object.prototype)for(var D in _)p.set(D,_[D]);else if(typeof _.keys=="function"&&typeof _.get=="function")for(const N of _.keys())p.set(N,_.get(N));else throw Error("Unknown input type for opt_headers: "+String(_));_=Array.from(p.keys()).find(N=>N.toLowerCase()=="content-type"),D=l.FormData&&a instanceof l.FormData,!(0<=Array.prototype.indexOf.call(oS,f,void 0))||_||D||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[N,z]of p)this.g.setRequestHeader(N,z);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Dm(this),this.u=!0,this.g.send(a),this.u=!1}catch(N){xm(this,N)}};function xm(a,f){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=f,a.m=5,km(a),ka(a)}function km(a){a.A||(a.A=!0,Me(a,"complete"),Me(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,Me(this,"complete"),Me(this,"abort"),ka(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ka(this,!0)),$e.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Vm(this):this.bb())},t.bb=function(){Vm(this)};function Vm(a){if(a.h&&typeof o<"u"&&(!a.v[1]||Bn(a)!=4||a.Z()!=2)){if(a.u&&Bn(a)==4)hn(a.Ea,0,a);else if(Me(a,"readystatechange"),Bn(a)==4){a.h=!1;try{const z=a.Z();e:switch(z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var p;if(!(p=f)){var _;if(_=z===0){var D=String(a.D).match(Em)[1]||null;!D&&l.self&&l.self.location&&(D=l.self.location.protocol.slice(0,-1)),_=!sS.test(D?D.toLowerCase():"")}p=_}if(p)Me(a,"complete"),Me(a,"success");else{a.m=6;try{var N=2<Bn(a)?a.g.statusText:""}catch{N=""}a.l=N+" ["+a.Z()+"]",km(a)}}finally{ka(a)}}}}function ka(a,f){if(a.g){Dm(a);const p=a.g,_=a.v[0]?()=>{}:null;a.g=null,a.v=null,f||Me(a,"ready");try{p.onreadystatechange=_}catch{}}}function Dm(a){a.I&&(l.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function Bn(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<Bn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var f=this.g.responseText;return a&&f.indexOf(a)==0&&(f=f.substring(a.length)),FT(f)}};function Nm(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function aS(a){const f={};a=(a.g&&2<=Bn(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let _=0;_<a.length;_++){if(E(a[_]))continue;var p=C(a[_]);const D=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const N=f[D]||[];f[D]=N,N.push(p)}T(f,function(_){return _.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Us(a,f,p){return p&&p.internalChannelParams&&p.internalChannelParams[a]||f}function Lm(a){this.Aa=0,this.i=[],this.j=new Vs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Us("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Us("baseRetryDelayMs",5e3,a),this.cb=Us("retryDelaySeedMs",1e4,a),this.Wa=Us("forwardChannelMaxRetries",2,a),this.wa=Us("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new mm(a&&a.concurrentRequestLimit),this.Da=new rS,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Lm.prototype,t.la=8,t.G=1,t.connect=function(a,f,p,_){It(0),this.W=a,this.H=f||{},p&&_!==void 0&&(this.H.OSID=p,this.H.OAID=_),this.F=this.X,this.I=$m(this,null,this.W),Da(this)};function yc(a){if(Om(a),a.G==3){var f=a.U++,p=Un(a.I);if(ke(p,"SID",a.K),ke(p,"RID",f),ke(p,"TYPE","terminate"),Bs(a,p),f=new rr(a,a.j,f),f.L=2,f.v=Ra(Un(p)),p=!1,l.navigator&&l.navigator.sendBeacon)try{p=l.navigator.sendBeacon(f.v.toString(),"")}catch{}!p&&l.Image&&(new Image().src=f.v,p=!0),p||(f.g=Hm(f.j,null),f.g.ea(f.v)),f.F=Date.now(),Ia(f)}zm(a)}function Va(a){a.g&&(_c(a),a.g.cancel(),a.g=null)}function Om(a){Va(a),a.u&&(l.clearTimeout(a.u),a.u=null),Na(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&l.clearTimeout(a.s),a.s=null)}function Da(a){if(!gm(a.h)&&!a.s){a.s=!0;var f=a.Ga;W||X(),F||(W(),F=!0),U.add(f,a),a.B=0}}function lS(a,f){return ym(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=f.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=ks(d(a.Ga,a,f),jm(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;const D=new rr(this,this.j,a);let N=this.o;if(this.S&&(N?(N=g(N),w(N,this.S)):N=this.S),this.m!==null||this.O||(D.H=N,N=null),this.P)e:{for(var f=0,p=0;p<this.i.length;p++){t:{var _=this.i[p];if("__data__"in _.map&&(_=_.map.__data__,typeof _=="string")){_=_.length;break t}_=void 0}if(_===void 0)break;if(f+=_,4096<f){f=p;break e}if(f===4096||p===this.i.length-1){f=p+1;break e}}f=1e3}else f=1e3;f=bm(this,D,f),p=Un(this.I),ke(p,"RID",a),ke(p,"CVER",22),this.D&&ke(p,"X-HTTP-Session-Id",this.D),Bs(this,p),N&&(this.O?f="headers="+encodeURIComponent(String(Rm(N)))+"&"+f:this.m&&gc(p,this.m,N)),mc(this.h,D),this.Ua&&ke(p,"TYPE","init"),this.P?(ke(p,"$req",f),ke(p,"SID","null"),D.T=!0,hc(D,p,null)):hc(D,p,f),this.G=2}}else this.G==3&&(a?Mm(this,a):this.i.length==0||gm(this.h)||Mm(this))};function Mm(a,f){var p;f?p=f.l:p=a.U++;const _=Un(a.I);ke(_,"SID",a.K),ke(_,"RID",p),ke(_,"AID",a.T),Bs(a,_),a.m&&a.o&&gc(_,a.m,a.o),p=new rr(a,a.j,p,a.B+1),a.m===null&&(p.H=a.o),f&&(a.i=f.D.concat(a.i)),f=bm(a,p,1e3),p.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),mc(a.h,p),hc(p,_,f)}function Bs(a,f){a.H&&O(a.H,function(p,_){ke(f,_,p)}),a.l&&wm({},function(p,_){ke(f,_,p)})}function bm(a,f,p){p=Math.min(a.i.length,p);var _=a.l?d(a.l.Na,a.l,a):null;e:{var D=a.i;let N=-1;for(;;){const z=["count="+p];N==-1?0<p?(N=D[0].g,z.push("ofs="+N)):N=0:z.push("ofs="+N);let Se=!0;for(let ot=0;ot<p;ot++){let pe=D[ot].g;const mt=D[ot].map;if(pe-=N,0>pe)N=Math.max(0,D[ot].g-100),Se=!1;else try{iS(mt,z,"req"+pe+"_")}catch{_&&_(mt)}}if(Se){_=z.join("&");break e}}}return a=a.i.splice(0,p),f.D=a,_}function Fm(a){if(!a.g&&!a.u){a.Y=1;var f=a.Fa;W||X(),F||(W(),F=!0),U.add(f,a),a.v=0}}function vc(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=ks(d(a.Fa,a),jm(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,Um(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=ks(d(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,It(10),Va(this),Um(this))};function _c(a){a.A!=null&&(l.clearTimeout(a.A),a.A=null)}function Um(a){a.g=new rr(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var f=Un(a.qa);ke(f,"RID","rpc"),ke(f,"SID",a.K),ke(f,"AID",a.T),ke(f,"CI",a.F?"0":"1"),!a.F&&a.ja&&ke(f,"TO",a.ja),ke(f,"TYPE","xmlhttp"),Bs(a,f),a.m&&a.o&&gc(f,a.m,a.o),a.L&&(a.g.I=a.L);var p=a.g;a=a.ia,p.L=1,p.v=Ra(Un(f)),p.m=null,p.P=!0,fm(p,a)}t.Za=function(){this.C!=null&&(this.C=null,Va(this),vc(this),It(19))};function Na(a){a.C!=null&&(l.clearTimeout(a.C),a.C=null)}function Bm(a,f){var p=null;if(a.g==f){Na(a),_c(a),a.g=null;var _=2}else if(pc(a.h,f))p=f.D,vm(a.h,f),_=1;else return;if(a.G!=0){if(f.o)if(_==1){p=f.m?f.m.length:0,f=Date.now()-f.F;var D=a.B;_=Ta(),Me(_,new lm(_,p)),Da(a)}else Fm(a);else if(D=f.s,D==3||D==0&&0<f.X||!(_==1&&lS(a,f)||_==2&&vc(a)))switch(p&&0<p.length&&(f=a.h,f.i=f.i.concat(p)),D){case 1:Kr(a,5);break;case 4:Kr(a,10);break;case 3:Kr(a,6);break;default:Kr(a,2)}}}function jm(a,f){let p=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(p*=2),p*f}function Kr(a,f){if(a.j.info("Error code "+f),f==2){var p=d(a.fb,a),_=a.Xa;const D=!_;_=new qr(_||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Pa(_,"https"),Ra(_),D?tS(_.toString(),p):nS(_.toString(),p)}else It(2);a.G=0,a.l&&a.l.sa(f),zm(a),Om(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),It(2)):(this.j.info("Failed to ping google.com"),It(1))};function zm(a){if(a.G=0,a.ka=[],a.l){const f=_m(a.h);(f.length!=0||a.i.length!=0)&&(V(a.ka,f),V(a.ka,a.i),a.h.i.length=0,k(a.i),a.i.length=0),a.l.ra()}}function $m(a,f,p){var _=p instanceof qr?Un(p):new qr(p);if(_.g!="")f&&(_.g=f+"."+_.g),Ca(_,_.s);else{var D=l.location;_=D.protocol,f=f?f+"."+D.hostname:D.hostname,D=+D.port;var N=new qr(null);_&&Pa(N,_),f&&(N.g=f),D&&Ca(N,D),p&&(N.l=p),_=N}return p=a.D,f=a.ya,p&&f&&ke(_,p,f),ke(_,"VER",a.la),Bs(a,_),_}function Hm(a,f,p){if(f&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return f=a.Ca&&!a.pa?new $e(new Ms({eb:p})):new $e(a.pa),f.Ha(a.J),f}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Wm(){}t=Wm.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function La(){}La.prototype.g=function(a,f){return new Ht(a,f)};function Ht(a,f){Ce.call(this),this.g=new Lm(f),this.l=a,this.h=f&&f.messageUrlParams||null,a=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(a?a["X-WebChannel-Content-Type"]=f.messageContentType:a={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(a?a["X-WebChannel-Client-Profile"]=f.va:a={"X-WebChannel-Client-Profile":f.va}),this.g.S=a,(a=f&&f.Sb)&&!E(a)&&(this.g.m=a),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!E(f)&&(this.g.D=f,a=this.h,a!==null&&f in a&&(a=this.h,f in a&&delete a[f])),this.j=new Ri(this)}P(Ht,Ce),Ht.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ht.prototype.close=function(){yc(this.g)},Ht.prototype.o=function(a){var f=this.g;if(typeof a=="string"){var p={};p.__data__=a,a=p}else this.u&&(p={},p.__data__=$r(a),a=p);f.i.push(new WT(f.Ya++,a)),f.G==3&&Da(f)},Ht.prototype.N=function(){this.g.l=null,delete this.j,yc(this.g),delete this.g,Ht.aa.N.call(this)};function qm(a){ac.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var f=a.__sm__;if(f){e:{for(const p in f){a=p;break e}a=void 0}(this.i=a)&&(a=this.i,f=f!==null&&a in f?f[a]:void 0),this.data=f}else this.data=a}P(qm,ac);function Km(){lc.call(this),this.status=1}P(Km,lc);function Ri(a){this.g=a}P(Ri,Wm),Ri.prototype.ua=function(){Me(this.g,"a")},Ri.prototype.ta=function(a){Me(this.g,new qm(a))},Ri.prototype.sa=function(a){Me(this.g,new Km)},Ri.prototype.ra=function(){Me(this.g,"b")},La.prototype.createWebChannel=La.prototype.g,Ht.prototype.send=Ht.prototype.o,Ht.prototype.open=Ht.prototype.m,Ht.prototype.close=Ht.prototype.close,S1=function(){return new La},T1=function(){return Ta()},E1=Hr,Ff={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Sa.NO_ERROR=0,Sa.TIMEOUT=8,Sa.HTTP_ERROR=6,Tl=Sa,um.COMPLETE="complete",w1=um,im.EventType=Rs,Rs.OPEN="a",Rs.CLOSE="b",Rs.ERROR="c",Rs.MESSAGE="d",Ce.prototype.listen=Ce.prototype.K,io=im,_1=Ms,$e.prototype.listenOnce=$e.prototype.L,$e.prototype.getLastError=$e.prototype.Ka,$e.prototype.getLastErrorCode=$e.prototype.Ba,$e.prototype.getStatus=$e.prototype.Z,$e.prototype.getResponseJson=$e.prototype.Oa,$e.prototype.getResponseText=$e.prototype.oa,$e.prototype.send=$e.prototype.ea,$e.prototype.setWithCredentials=$e.prototype.Ha,v1=$e}).apply(typeof rl<"u"?rl:typeof self<"u"?self:typeof window<"u"?window:{});const Rv="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}wt.UNAUTHENTICATED=new wt(null),wt.GOOGLE_CREDENTIALS=new wt("google-credentials-uid"),wt.FIRST_PARTY=new wt("first-party-uid"),wt.MOCK_USER=new wt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ss="10.12.5";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mi=new s1("@firebase/firestore");function Xs(){return mi.logLevel}function G(t,...e){if(mi.logLevel<=he.DEBUG){const n=e.map(Ip);mi.debug(`Firestore (${Ss}): ${t}`,...n)}}function er(t,...e){if(mi.logLevel<=he.ERROR){const n=e.map(Ip);mi.error(`Firestore (${Ss}): ${t}`,...n)}}function ds(t,...e){if(mi.logLevel<=he.WARN){const n=e.map(Ip);mi.warn(`Firestore (${Ss}): ${t}`,...n)}}function Ip(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function te(t="Unexpected state"){const e=`FIRESTORE (${Ss}) INTERNAL ASSERTION FAILED: `+t;throw er(e),new Error(e)}function Ae(t,e){t||te()}function re(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class K extends Si{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class SD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(wt.UNAUTHENTICATED))}shutdown(){}}class AD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class ID{constructor(e){this.t=e,this.currentUser=wt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let s=new xr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new xr,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const u=s;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},l=u=>{G("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(G("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new xr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(G("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ae(typeof r.accessToken=="string"),new A1(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ae(e===null||typeof e=="string"),new wt(e)}}class PD{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=wt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class CD{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new PD(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(wt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class RD{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class xD{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&G("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,G("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{G("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):G("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ae(typeof n.token=="string"),this.R=n.token,new RD(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kD(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=kD(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function ge(t,e){return t<e?-1:t>e?1:0}function ps(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new K(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new K(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new K(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new K(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return nt.fromMillis(Date.now())}static fromDate(e){return nt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new nt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ge(this.nanoseconds,e.nanoseconds):ge(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ne(e)}static min(){return new ne(new nt(0,0))}static max(){return new ne(new nt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(e,n,r){n===void 0?n=0:n>e.length&&te(),r===void 0?r=e.length-n:r>e.length-n&&te(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Jo.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Jo?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class De extends Jo{construct(e,n,r){return new De(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new K(M.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new De(n)}static emptyPath(){return new De([])}}const VD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ut extends Jo{construct(e,n,r){return new ut(e,n,r)}static isValidIdentifier(e){return VD.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ut.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new ut(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new K(M.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new K(M.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new K(M.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else l==="`"?(o=!o,i++):l!=="."||o?(r+=l,i++):(s(),i++)}if(s(),o)throw new K(M.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ut(n)}static emptyPath(){return new ut([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(e){this.path=e}static fromPath(e){return new Y(De.fromString(e))}static fromName(e){return new Y(De.fromString(e).popFirst(5))}static empty(){return new Y(De.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&De.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return De.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Y(new De(e.slice()))}}function DD(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ne.fromTimestamp(r===1e9?new nt(n+1,0):new nt(n,r));return new Or(i,Y.empty(),e)}function ND(t){return new Or(t.readTime,t.key,-1)}class Or{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Or(ne.min(),Y.empty(),-1)}static max(){return new Or(ne.max(),Y.empty(),-1)}}function LD(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Y.comparator(t.documentKey,e.documentKey),n!==0?n:ge(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class MD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function da(t){if(t.code!==M.FAILED_PRECONDITION||t.message!==OD)throw t;G("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&te(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new b((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof b?n:b.resolve(n)}catch(n){return b.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):b.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):b.reject(n)}static resolve(e){return new b((n,r)=>{n(e)})}static reject(e){return new b((n,r)=>{r(e)})}static waitFor(e){return new b((n,r)=>{let i=0,s=0,o=!1;e.forEach(l=>{++i,l.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=b.resolve(!1);for(const r of e)n=n.next(i=>i?b.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new b((r,i)=>{const s=e.length,o=new Array(s);let l=0;for(let u=0;u<s;u++){const c=u;n(e[c]).next(h=>{o[c]=h,++l,l===s&&r(o)},h=>i(h))}})}static doWhile(e,n){return new b((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function bD(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function pa(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Pp.oe=-1;function qu(t){return t==null}function cu(t){return t===0&&1/t==-1/0}function FD(t){return typeof t=="number"&&Number.isInteger(t)&&!cu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xv(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ai(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function P1(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(e,n){this.comparator=e,this.root=n||lt.EMPTY}insert(e,n){return new je(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,lt.BLACK,null,null))}remove(e){return new je(this.comparator,this.root.remove(e,this.comparator).copy(null,null,lt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new il(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new il(this.root,e,this.comparator,!1)}getReverseIterator(){return new il(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new il(this.root,e,this.comparator,!0)}}class il{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class lt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??lt.RED,this.left=i??lt.EMPTY,this.right=s??lt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new lt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return lt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return lt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,lt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,lt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw te();const e=this.left.check();if(e!==this.right.check())throw te();return e+(this.isRed()?0:1)}}lt.EMPTY=null,lt.RED=!0,lt.BLACK=!1;lt.EMPTY=new class{constructor(){this.size=0}get key(){throw te()}get value(){throw te()}get color(){throw te()}get left(){throw te()}get right(){throw te()}copy(e,n,r,i,s){return this}insert(e,n,r){return new lt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e){this.comparator=e,this.data=new je(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new kv(this.data.getIterator())}getIteratorFrom(e){return new kv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof ht)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new ht(this.comparator);return n.data=e,n}}class kv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.fields=e,e.sort(ut.comparator)}static empty(){return new Kt([])}unionWith(e){let n=new ht(ut.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Kt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ps(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new C1("Invalid base64 string: "+s):s}}(e);return new dt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new dt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ge(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}dt.EMPTY_BYTE_STRING=new dt("");const UD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Mr(t){if(Ae(!!t),typeof t=="string"){let e=0;const n=UD.exec(t);if(Ae(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Xe(t.seconds),nanos:Xe(t.nanos)}}function Xe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function gi(t){return typeof t=="string"?dt.fromBase64String(t):dt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cp(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Rp(t){const e=t.mapValue.fields.__previous_value__;return Cp(e)?Rp(e):e}function Zo(t){const e=Mr(t.mapValue.fields.__local_write_time__.timestampValue);return new nt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(e,n,r,i,s,o,l,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=c}}class ea{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new ea("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof ea&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function yi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Cp(t)?4:jD(t)?9007199254740991:10:te()}function bn(t,e){if(t===e)return!0;const n=yi(t);if(n!==yi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Zo(t).isEqual(Zo(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Mr(i.timestampValue),l=Mr(s.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return gi(i.bytesValue).isEqual(gi(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Xe(i.geoPointValue.latitude)===Xe(s.geoPointValue.latitude)&&Xe(i.geoPointValue.longitude)===Xe(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Xe(i.integerValue)===Xe(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Xe(i.doubleValue),l=Xe(s.doubleValue);return o===l?cu(o)===cu(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return ps(t.arrayValue.values||[],e.arrayValue.values||[],bn);case 10:return function(i,s){const o=i.mapValue.fields||{},l=s.mapValue.fields||{};if(xv(o)!==xv(l))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(l[u]===void 0||!bn(o[u],l[u])))return!1;return!0}(t,e);default:return te()}}function ta(t,e){return(t.values||[]).find(n=>bn(n,e))!==void 0}function ms(t,e){if(t===e)return 0;const n=yi(t),r=yi(e);if(n!==r)return ge(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ge(t.booleanValue,e.booleanValue);case 2:return function(s,o){const l=Xe(s.integerValue||s.doubleValue),u=Xe(o.integerValue||o.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(t,e);case 3:return Vv(t.timestampValue,e.timestampValue);case 4:return Vv(Zo(t),Zo(e));case 5:return ge(t.stringValue,e.stringValue);case 6:return function(s,o){const l=gi(s),u=gi(o);return l.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const l=s.split("/"),u=o.split("/");for(let c=0;c<l.length&&c<u.length;c++){const h=ge(l[c],u[c]);if(h!==0)return h}return ge(l.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const l=ge(Xe(s.latitude),Xe(o.latitude));return l!==0?l:ge(Xe(s.longitude),Xe(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const l=s.values||[],u=o.values||[];for(let c=0;c<l.length&&c<u.length;++c){const h=ms(l[c],u[c]);if(h)return h}return ge(l.length,u.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===sl.mapValue&&o===sl.mapValue)return 0;if(s===sl.mapValue)return 1;if(o===sl.mapValue)return-1;const l=s.fields||{},u=Object.keys(l),c=o.fields||{},h=Object.keys(c);u.sort(),h.sort();for(let m=0;m<u.length&&m<h.length;++m){const d=ge(u[m],h[m]);if(d!==0)return d;const v=ms(l[u[m]],c[h[m]]);if(v!==0)return v}return ge(u.length,h.length)}(t.mapValue,e.mapValue);default:throw te()}}function Vv(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ge(t,e);const n=Mr(t),r=Mr(e),i=ge(n.seconds,r.seconds);return i!==0?i:ge(n.nanos,r.nanos)}function gs(t){return Uf(t)}function Uf(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Mr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return gi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Y.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Uf(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Uf(n.fields[o])}`;return i+"}"}(t.mapValue):te()}function Dv(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Bf(t){return!!t&&"integerValue"in t}function xp(t){return!!t&&"arrayValue"in t}function Nv(t){return!!t&&"nullValue"in t}function Lv(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Sl(t){return!!t&&"mapValue"in t}function So(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ai(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=So(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=So(t.arrayValue.values[n]);return e}return Object.assign({},t)}function jD(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.value=e}static empty(){return new Mt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Sl(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=So(n)}setAll(e){let n=ut.emptyPath(),r={},i=[];e.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=l.popLast()}o?r[l.lastSegment()]=So(o):i.push(l.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Sl(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return bn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Sl(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ai(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Mt(So(this.value))}}function R1(t){const e=[];return Ai(t.fields,(n,r)=>{const i=new ut([n]);if(Sl(r)){const s=R1(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Kt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e,n,r,i,s,o,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=l}static newInvalidDocument(e){return new Tt(e,0,ne.min(),ne.min(),ne.min(),Mt.empty(),0)}static newFoundDocument(e,n,r,i){return new Tt(e,1,n,ne.min(),r,i,0)}static newNoDocument(e,n){return new Tt(e,2,n,ne.min(),ne.min(),Mt.empty(),0)}static newUnknownDocument(e,n){return new Tt(e,3,n,ne.min(),ne.min(),Mt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Mt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Mt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Tt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Tt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(e,n){this.position=e,this.inclusive=n}}function Ov(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=Y.comparator(Y.fromName(o.referenceValue),n.key):r=ms(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Mv(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!bn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(e,n="asc"){this.field=e,this.dir=n}}function zD(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{}class Ze extends x1{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new HD(e,n,r):n==="array-contains"?new KD(e,r):n==="in"?new GD(e,r):n==="not-in"?new QD(e,r):n==="array-contains-any"?new YD(e,r):new Ze(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new WD(e,r):new qD(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ms(n,this.value)):n!==null&&yi(this.value)===yi(n)&&this.matchesComparison(ms(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return te()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Sn extends x1{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Sn(e,n)}matches(e){return k1(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function k1(t){return t.op==="and"}function V1(t){return $D(t)&&k1(t)}function $D(t){for(const e of t.filters)if(e instanceof Sn)return!1;return!0}function jf(t){if(t instanceof Ze)return t.field.canonicalString()+t.op.toString()+gs(t.value);if(V1(t))return t.filters.map(e=>jf(e)).join(",");{const e=t.filters.map(n=>jf(n)).join(",");return`${t.op}(${e})`}}function D1(t,e){return t instanceof Ze?function(r,i){return i instanceof Ze&&r.op===i.op&&r.field.isEqual(i.field)&&bn(r.value,i.value)}(t,e):t instanceof Sn?function(r,i){return i instanceof Sn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,l)=>s&&D1(o,i.filters[l]),!0):!1}(t,e):void te()}function N1(t){return t instanceof Ze?function(n){return`${n.field.canonicalString()} ${n.op} ${gs(n.value)}`}(t):t instanceof Sn?function(n){return n.op.toString()+" {"+n.getFilters().map(N1).join(" ,")+"}"}(t):"Filter"}class HD extends Ze{constructor(e,n,r){super(e,n,r),this.key=Y.fromName(r.referenceValue)}matches(e){const n=Y.comparator(e.key,this.key);return this.matchesComparison(n)}}class WD extends Ze{constructor(e,n){super(e,"in",n),this.keys=L1("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class qD extends Ze{constructor(e,n){super(e,"not-in",n),this.keys=L1("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function L1(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Y.fromName(r.referenceValue))}class KD extends Ze{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return xp(n)&&ta(n.arrayValue,this.value)}}class GD extends Ze{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ta(this.value.arrayValue,n)}}class QD extends Ze{constructor(e,n){super(e,"not-in",n)}matches(e){if(ta(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!ta(this.value.arrayValue,n)}}class YD extends Ze{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!xp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ta(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{constructor(e,n=null,r=[],i=[],s=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=l,this.ue=null}}function bv(t,e=null,n=[],r=[],i=null,s=null,o=null){return new XD(t,e,n,r,i,s,o)}function kp(t){const e=re(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>jf(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),qu(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>gs(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>gs(r)).join(",")),e.ue=n}return e.ue}function Vp(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!zD(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!D1(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Mv(t.startAt,e.startAt)&&Mv(t.endAt,e.endAt)}function zf(t){return Y.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(e,n=null,r=[],i=[],s=null,o="F",l=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=l,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function JD(t,e,n,r,i,s,o,l){return new ma(t,e,n,r,i,s,o,l)}function O1(t){return new ma(t)}function Fv(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function M1(t){return t.collectionGroup!==null}function Ao(t){const e=re(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new ht(ut.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(l=l.add(c.field))})}),l})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new fu(s,r))}),n.has(ut.keyField().canonicalString())||e.ce.push(new fu(ut.keyField(),r))}return e.ce}function Nn(t){const e=re(t);return e.le||(e.le=ZD(e,Ao(t))),e.le}function ZD(t,e){if(t.limitType==="F")return bv(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new fu(i.field,s)});const n=t.endAt?new hu(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new hu(t.startAt.position,t.startAt.inclusive):null;return bv(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function $f(t,e){const n=t.filters.concat([e]);return new ma(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Hf(t,e,n){return new ma(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ku(t,e){return Vp(Nn(t),Nn(e))&&t.limitType===e.limitType}function b1(t){return`${kp(Nn(t))}|lt:${t.limitType}`}function Di(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>N1(i)).join(", ")}]`),qu(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>gs(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>gs(i)).join(",")),`Target(${r})`}(Nn(t))}; limitType=${t.limitType})`}function Gu(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Y.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Ao(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,l,u){const c=Ov(o,l,u);return o.inclusive?c<=0:c<0}(r.startAt,Ao(r),i)||r.endAt&&!function(o,l,u){const c=Ov(o,l,u);return o.inclusive?c>=0:c>0}(r.endAt,Ao(r),i))}(t,e)}function e2(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function F1(t){return(e,n)=>{let r=!1;for(const i of Ao(t)){const s=t2(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function t2(t,e,n){const r=t.field.isKeyField()?Y.comparator(e.key,n.key):function(s,o,l){const u=o.data.field(s),c=l.data.field(s);return u!==null&&c!==null?ms(u,c):te()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return te()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ai(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return P1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n2=new je(Y.comparator);function tr(){return n2}const U1=new je(Y.comparator);function so(...t){let e=U1;for(const n of t)e=e.insert(n.key,n);return e}function B1(t){let e=U1;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function si(){return Io()}function j1(){return Io()}function Io(){return new As(t=>t.toString(),(t,e)=>t.isEqual(e))}const r2=new je(Y.comparator),i2=new ht(Y.comparator);function ae(...t){let e=i2;for(const n of t)e=e.add(n);return e}const s2=new ht(ge);function o2(){return s2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z1(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:cu(e)?"-0":e}}function $1(t){return{integerValue:""+t}}function a2(t,e){return FD(e)?$1(e):z1(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu{constructor(){this._=void 0}}function l2(t,e,n){return t instanceof du?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Cp(s)&&(s=Rp(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof na?W1(t,e):t instanceof ra?q1(t,e):function(i,s){const o=H1(i,s),l=Uv(o)+Uv(i.Pe);return Bf(o)&&Bf(i.Pe)?$1(l):z1(i.serializer,l)}(t,e)}function u2(t,e,n){return t instanceof na?W1(t,e):t instanceof ra?q1(t,e):n}function H1(t,e){return t instanceof pu?function(r){return Bf(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class du extends Qu{}class na extends Qu{constructor(e){super(),this.elements=e}}function W1(t,e){const n=K1(e);for(const r of t.elements)n.some(i=>bn(i,r))||n.push(r);return{arrayValue:{values:n}}}class ra extends Qu{constructor(e){super(),this.elements=e}}function q1(t,e){let n=K1(e);for(const r of t.elements)n=n.filter(i=>!bn(i,r));return{arrayValue:{values:n}}}class pu extends Qu{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function Uv(t){return Xe(t.integerValue||t.doubleValue)}function K1(t){return xp(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function c2(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof na&&i instanceof na||r instanceof ra&&i instanceof ra?ps(r.elements,i.elements,bn):r instanceof pu&&i instanceof pu?bn(r.Pe,i.Pe):r instanceof du&&i instanceof du}(t.transform,e.transform)}class h2{constructor(e,n){this.version=e,this.transformResults=n}}class En{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new En}static exists(e){return new En(void 0,e)}static updateTime(e){return new En(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Al(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Yu{}function G1(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Dp(t.key,En.none()):new ga(t.key,t.data,En.none());{const n=t.data,r=Mt.empty();let i=new ht(ut.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new zr(t.key,r,new Kt(i.toArray()),En.none())}}function f2(t,e,n){t instanceof ga?function(i,s,o){const l=i.value.clone(),u=jv(i.fieldTransforms,s,o.transformResults);l.setAll(u),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):t instanceof zr?function(i,s,o){if(!Al(i.precondition,s))return void s.convertToUnknownDocument(o.version);const l=jv(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(Q1(i)),u.setAll(l),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Po(t,e,n,r){return t instanceof ga?function(s,o,l,u){if(!Al(s.precondition,o))return l;const c=s.value.clone(),h=zv(s.fieldTransforms,u,o);return c.setAll(h),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof zr?function(s,o,l,u){if(!Al(s.precondition,o))return l;const c=zv(s.fieldTransforms,u,o),h=o.data;return h.setAll(Q1(s)),h.setAll(c),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(m=>m.field))}(t,e,n,r):function(s,o,l){return Al(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,n)}function d2(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=H1(r.transform,i||null);s!=null&&(n===null&&(n=Mt.empty()),n.set(r.field,s))}return n||null}function Bv(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ps(r,i,(s,o)=>c2(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ga extends Yu{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class zr extends Yu{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function Q1(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function jv(t,e,n){const r=new Map;Ae(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,l=e.data.field(s.field);r.set(s.field,u2(o,l,n[i]))}return r}function zv(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,l2(s,o,e))}return r}class Dp extends Yu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class p2 extends Yu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&f2(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Po(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Po(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=j1();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let l=this.applyToLocalView(o,s.mutatedFields);l=n.has(i.key)?null:l;const u=G1(o,l);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(ne.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ae())}isEqual(e){return this.batchId===e.batchId&&ps(this.mutations,e.mutations,(n,r)=>Bv(n,r))&&ps(this.baseMutations,e.baseMutations,(n,r)=>Bv(n,r))}}class Np{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ae(e.mutations.length===r.length);let i=function(){return r2}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Np(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qe,ce;function v2(t){switch(t){default:return te();case M.CANCELLED:case M.UNKNOWN:case M.DEADLINE_EXCEEDED:case M.RESOURCE_EXHAUSTED:case M.INTERNAL:case M.UNAVAILABLE:case M.UNAUTHENTICATED:return!1;case M.INVALID_ARGUMENT:case M.NOT_FOUND:case M.ALREADY_EXISTS:case M.PERMISSION_DENIED:case M.FAILED_PRECONDITION:case M.ABORTED:case M.OUT_OF_RANGE:case M.UNIMPLEMENTED:case M.DATA_LOSS:return!0}}function Y1(t){if(t===void 0)return er("GRPC error has no .code"),M.UNKNOWN;switch(t){case Qe.OK:return M.OK;case Qe.CANCELLED:return M.CANCELLED;case Qe.UNKNOWN:return M.UNKNOWN;case Qe.DEADLINE_EXCEEDED:return M.DEADLINE_EXCEEDED;case Qe.RESOURCE_EXHAUSTED:return M.RESOURCE_EXHAUSTED;case Qe.INTERNAL:return M.INTERNAL;case Qe.UNAVAILABLE:return M.UNAVAILABLE;case Qe.UNAUTHENTICATED:return M.UNAUTHENTICATED;case Qe.INVALID_ARGUMENT:return M.INVALID_ARGUMENT;case Qe.NOT_FOUND:return M.NOT_FOUND;case Qe.ALREADY_EXISTS:return M.ALREADY_EXISTS;case Qe.PERMISSION_DENIED:return M.PERMISSION_DENIED;case Qe.FAILED_PRECONDITION:return M.FAILED_PRECONDITION;case Qe.ABORTED:return M.ABORTED;case Qe.OUT_OF_RANGE:return M.OUT_OF_RANGE;case Qe.UNIMPLEMENTED:return M.UNIMPLEMENTED;case Qe.DATA_LOSS:return M.DATA_LOSS;default:return te()}}(ce=Qe||(Qe={}))[ce.OK=0]="OK",ce[ce.CANCELLED=1]="CANCELLED",ce[ce.UNKNOWN=2]="UNKNOWN",ce[ce.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ce[ce.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ce[ce.NOT_FOUND=5]="NOT_FOUND",ce[ce.ALREADY_EXISTS=6]="ALREADY_EXISTS",ce[ce.PERMISSION_DENIED=7]="PERMISSION_DENIED",ce[ce.UNAUTHENTICATED=16]="UNAUTHENTICATED",ce[ce.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ce[ce.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ce[ce.ABORTED=10]="ABORTED",ce[ce.OUT_OF_RANGE=11]="OUT_OF_RANGE",ce[ce.UNIMPLEMENTED=12]="UNIMPLEMENTED",ce[ce.INTERNAL=13]="INTERNAL",ce[ce.UNAVAILABLE=14]="UNAVAILABLE",ce[ce.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _2(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w2=new li([4294967295,4294967295],0);function $v(t){const e=_2().encode(t),n=new y1;return n.update(e),new Uint8Array(n.digest())}function Hv(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new li([n,r],0),new li([i,s],0)]}class Lp{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new oo(`Invalid padding: ${n}`);if(r<0)throw new oo(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new oo(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new oo(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=li.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(li.fromNumber(r)));return i.compare(w2)===1&&(i=new li([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=$v(e),[r,i]=Hv(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Lp(s,i,n);return r.forEach(l=>o.insert(l)),o}insert(e){if(this.Ie===0)return;const n=$v(e),[r,i]=Hv(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class oo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,ya.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Xu(ne.min(),i,new je(ge),tr(),ae())}}class ya{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new ya(r,n,ae(),ae(),ae())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class X1{constructor(e,n){this.targetId=e,this.me=n}}class J1{constructor(e,n,r=dt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Wv{constructor(){this.fe=0,this.ge=Kv(),this.pe=dt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=ae(),n=ae(),r=ae();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:te()}}),new ya(this.pe,this.ye,e,n,r)}ve(){this.we=!1,this.ge=Kv()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ae(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class E2{constructor(e){this.Le=e,this.Be=new Map,this.ke=tr(),this.qe=qv(),this.Qe=new je(ge)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.ve(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:te()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(zf(s))if(r===0){const o=new Y(s.path);this.Ue(n,o,Tt.newNoDocument(o,ne.min()))}else Ae(r===1);else{const o=this.Ye(n);if(o!==r){const l=this.Ze(e),u=l?this.Xe(l,e,o):1;if(u!==0){this.je(n);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,l;try{o=gi(r).toUint8Array()}catch(u){if(u instanceof C1)return ds("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new Lp(o,i,s)}catch(u){return ds(u instanceof oo?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.Ie===0?null:l}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),l=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(l)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const l=this.Je(o);if(l){if(s.current&&zf(l.target)){const u=new Y(l.target.path);this.ke.get(u)!==null||this.it(o,u)||this.Ue(o,u,Tt.newNoDocument(u,e))}s.be&&(n.set(o,s.Ce()),s.ve())}});let r=ae();this.qe.forEach((s,o)=>{let l=!0;o.forEachWhile(u=>{const c=this.Je(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new Xu(e,n,this.Qe,this.ke,r);return this.ke=tr(),this.qe=qv(),this.Qe=new je(ge),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Wv,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new ht(ge),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||G("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Wv),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function qv(){return new je(Y.comparator)}function Kv(){return new je(Y.comparator)}const T2=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),S2=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),A2=(()=>({and:"AND",or:"OR"}))();class I2{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Wf(t,e){return t.useProto3Json||qu(e)?e:{value:e}}function mu(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Z1(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function P2(t,e){return mu(t,e.toTimestamp())}function Ln(t){return Ae(!!t),ne.fromTimestamp(function(n){const r=Mr(n);return new nt(r.seconds,r.nanos)}(t))}function Op(t,e){return qf(t,e).canonicalString()}function qf(t,e){const n=function(i){return new De(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function eT(t){const e=De.fromString(t);return Ae(sT(e)),e}function Kf(t,e){return Op(t.databaseId,e.path)}function fh(t,e){const n=eT(e);if(n.get(1)!==t.databaseId.projectId)throw new K(M.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new K(M.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Y(nT(n))}function tT(t,e){return Op(t.databaseId,e)}function C2(t){const e=eT(t);return e.length===4?De.emptyPath():nT(e)}function Gf(t){return new De(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function nT(t){return Ae(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Gv(t,e,n){return{name:Kf(t,e),fields:n.value.mapValue.fields}}function R2(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:te()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,h){return c.useProto3Json?(Ae(h===void 0||typeof h=="string"),dt.fromBase64String(h||"")):(Ae(h===void 0||h instanceof Buffer||h instanceof Uint8Array),dt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(c){const h=c.code===void 0?M.UNKNOWN:Y1(c.code);return new K(h,c.message||"")}(o);n=new J1(r,i,s,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=fh(t,r.document.name),s=Ln(r.document.updateTime),o=r.document.createTime?Ln(r.document.createTime):ne.min(),l=new Mt({mapValue:{fields:r.document.fields}}),u=Tt.newFoundDocument(i,s,o,l),c=r.targetIds||[],h=r.removedTargetIds||[];n=new Il(c,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=fh(t,r.document),s=r.readTime?Ln(r.readTime):ne.min(),o=Tt.newNoDocument(i,s),l=r.removedTargetIds||[];n=new Il([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=fh(t,r.document),s=r.removedTargetIds||[];n=new Il([],s,i,null)}else{if(!("filter"in e))return te();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new y2(i,s),l=r.targetId;n=new X1(l,o)}}return n}function x2(t,e){let n;if(e instanceof ga)n={update:Gv(t,e.key,e.value)};else if(e instanceof Dp)n={delete:Kf(t,e.key)};else if(e instanceof zr)n={update:Gv(t,e.key,e.data),updateMask:F2(e.fieldMask)};else{if(!(e instanceof p2))return te();n={verify:Kf(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const l=o.transform;if(l instanceof du)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof na)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof ra)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof pu)return{fieldPath:o.field.canonicalString(),increment:l.Pe};throw te()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:P2(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:te()}(t,e.precondition)),n}function k2(t,e){return t&&t.length>0?(Ae(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Ln(i.updateTime):Ln(s);return o.isEqual(ne.min())&&(o=Ln(s)),new h2(o,i.transformResults||[])}(n,e))):[]}function V2(t,e){return{documents:[tT(t,e.path)]}}function D2(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=tT(t,i);const s=function(c){if(c.length!==0)return iT(Sn.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(h=>function(d){return{field:Ni(d.field),direction:O2(d.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=Wf(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:i}}function N2(t){let e=C2(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ae(r===1);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];n.where&&(s=function(m){const d=rT(m);return d instanceof Sn&&V1(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=function(m){return m.map(d=>function(P){return new fu(Li(P.field),function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(P.direction))}(d))}(n.orderBy));let l=null;n.limit&&(l=function(m){let d;return d=typeof m=="object"?m.value:m,qu(d)?null:d}(n.limit));let u=null;n.startAt&&(u=function(m){const d=!!m.before,v=m.values||[];return new hu(v,d)}(n.startAt));let c=null;return n.endAt&&(c=function(m){const d=!m.before,v=m.values||[];return new hu(v,d)}(n.endAt)),JD(e,i,o,s,l,"F",u,c)}function L2(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return te()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function rT(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Li(n.unaryFilter.field);return Ze.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Li(n.unaryFilter.field);return Ze.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Li(n.unaryFilter.field);return Ze.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Li(n.unaryFilter.field);return Ze.create(o,"!=",{nullValue:"NULL_VALUE"});default:return te()}}(t):t.fieldFilter!==void 0?function(n){return Ze.create(Li(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return te()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Sn.create(n.compositeFilter.filters.map(r=>rT(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return te()}}(n.compositeFilter.op))}(t):te()}function O2(t){return T2[t]}function M2(t){return S2[t]}function b2(t){return A2[t]}function Ni(t){return{fieldPath:t.canonicalString()}}function Li(t){return ut.fromServerFormat(t.fieldPath)}function iT(t){return t instanceof Ze?function(n){if(n.op==="=="){if(Lv(n.value))return{unaryFilter:{field:Ni(n.field),op:"IS_NAN"}};if(Nv(n.value))return{unaryFilter:{field:Ni(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Lv(n.value))return{unaryFilter:{field:Ni(n.field),op:"IS_NOT_NAN"}};if(Nv(n.value))return{unaryFilter:{field:Ni(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ni(n.field),op:M2(n.op),value:n.value}}}(t):t instanceof Sn?function(n){const r=n.getFilters().map(i=>iT(i));return r.length===1?r[0]:{compositeFilter:{op:b2(n.op),filters:r}}}(t):te()}function F2(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function sT(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(e,n,r,i,s=ne.min(),o=ne.min(),l=dt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(e){return new mr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new mr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new mr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new mr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{constructor(e){this.ct=e}}function B2(t){const e=N2({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Hf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{constructor(){this.an=new z2}addToCollectionParentIndex(e,n){return this.an.add(n),b.resolve()}getCollectionParents(e,n){return b.resolve(this.an.getEntries(n))}addFieldIndex(e,n){return b.resolve()}deleteFieldIndex(e,n){return b.resolve()}deleteAllFieldIndexes(e){return b.resolve()}createTargetIndexes(e,n){return b.resolve()}getDocumentsMatchingTarget(e,n){return b.resolve(null)}getIndexType(e,n){return b.resolve(0)}getFieldIndexes(e,n){return b.resolve([])}getNextCollectionGroupToUpdate(e){return b.resolve(null)}getMinOffset(e,n){return b.resolve(Or.min())}getMinOffsetFromCollectionGroup(e,n){return b.resolve(Or.min())}updateCollectionGroup(e,n,r){return b.resolve()}updateIndexEntries(e,n){return b.resolve()}}class z2{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new ht(De.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ht(De.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static Ln(){return new ys(0)}static Bn(){return new ys(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{constructor(){this.changes=new As(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Tt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?b.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Po(r.mutation,i,Kt.empty(),nt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ae()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ae()){const i=si();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=so();return s.forEach((l,u)=>{o=o.insert(l,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=si();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ae()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,l)=>{n.set(o,l)})})}computeViews(e,n,r,i){let s=tr();const o=Io(),l=function(){return Io()}();return n.forEach((u,c)=>{const h=r.get(c.key);i.has(c.key)&&(h===void 0||h.mutation instanceof zr)?s=s.insert(c.key,c):h!==void 0?(o.set(c.key,h.mutation.getFieldMask()),Po(h.mutation,c,h.mutation.getFieldMask(),nt.now())):o.set(c.key,Kt.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,h)=>o.set(c,h)),n.forEach((c,h)=>{var m;return l.set(c,new H2(h,(m=o.get(c))!==null&&m!==void 0?m:null))}),l))}recalculateAndSaveOverlays(e,n){const r=Io();let i=new je((o,l)=>o-l),s=ae();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const l of o)l.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let h=r.get(u)||Kt.empty();h=l.applyToLocalView(c,h),r.set(u,h);const m=(i.get(l.batchId)||ae()).add(u);i=i.insert(l.batchId,m)})}).next(()=>{const o=[],l=i.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),c=u.key,h=u.value,m=j1();h.forEach(d=>{if(!s.has(d)){const v=G1(n.get(d),r.get(d));v!==null&&m.set(d,v),s=s.add(d)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,m))}return b.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return Y.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):M1(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):b.resolve(si());let l=-1,u=s;return o.next(c=>b.forEach(c,(h,m)=>(l<m.largestBatchId&&(l=m.largestBatchId),s.get(h)?b.resolve():this.remoteDocumentCache.getEntry(e,h).next(d=>{u=u.insert(h,d)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,ae())).next(h=>({batchId:l,changes:B1(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Y(n)).next(r=>{let i=so();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=so();return this.indexManager.getCollectionParents(e,s).next(l=>b.forEach(l,u=>{const c=function(m,d){return new ma(d,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(h=>{h.forEach((m,d)=>{o=o.insert(m,d)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,c)=>{const h=c.getKey();o.get(h)===null&&(o=o.insert(h,Tt.newInvalidDocument(h)))});let l=so();return o.forEach((u,c)=>{const h=s.get(u);h!==void 0&&Po(h.mutation,c,Kt.empty(),nt.now()),Gu(n,c)&&(l=l.insert(u,c))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{constructor(e){this.serializer=e,this.lr=new Map,this.hr=new Map}getBundleMetadata(e,n){return b.resolve(this.lr.get(n))}saveBundleMetadata(e,n){return this.lr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Ln(i.createTime)}}(n)),b.resolve()}getNamedQuery(e,n){return b.resolve(this.hr.get(n))}saveNamedQuery(e,n){return this.hr.set(n.name,function(i){return{name:i.name,query:B2(i.bundledQuery),readTime:Ln(i.readTime)}}(n)),b.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(){this.overlays=new je(Y.comparator),this.Pr=new Map}getOverlay(e,n){return b.resolve(this.overlays.get(n))}getOverlays(e,n){const r=si();return b.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),b.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Pr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Pr.delete(r)),b.resolve()}getOverlaysForCollection(e,n,r){const i=si(),s=n.length+1,o=new Y(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const u=l.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return b.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new je((c,h)=>c-h);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let h=s.get(c.largestBatchId);h===null&&(h=si(),s=s.insert(c.largestBatchId,h)),h.set(c.getKey(),c)}}const l=si(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,h)=>l.set(c,h)),!(l.size()>=i)););return b.resolve(l)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Pr.get(i.largestBatchId).delete(r.key);this.Pr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new g2(n,r));let s=this.Pr.get(n);s===void 0&&(s=ae(),this.Pr.set(n,s)),this.Pr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G2{constructor(){this.sessionToken=dt.EMPTY_BYTE_STRING}getSessionToken(e){return b.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,b.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp{constructor(){this.Ir=new ht(rt.Tr),this.Er=new ht(rt.dr)}isEmpty(){return this.Ir.isEmpty()}addReference(e,n){const r=new rt(e,n);this.Ir=this.Ir.add(r),this.Er=this.Er.add(r)}Ar(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Rr(new rt(e,n))}Vr(e,n){e.forEach(r=>this.removeReference(r,n))}mr(e){const n=new Y(new De([])),r=new rt(n,e),i=new rt(n,e+1),s=[];return this.Er.forEachInRange([r,i],o=>{this.Rr(o),s.push(o.key)}),s}gr(){this.Ir.forEach(e=>this.Rr(e))}Rr(e){this.Ir=this.Ir.delete(e),this.Er=this.Er.delete(e)}pr(e){const n=new Y(new De([])),r=new rt(n,e),i=new rt(n,e+1);let s=ae();return this.Er.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new rt(e,0),r=this.Ir.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class rt{constructor(e,n){this.key=e,this.yr=n}static Tr(e,n){return Y.comparator(e.key,n.key)||ge(e.yr,n.yr)}static dr(e,n){return ge(e.yr,n.yr)||Y.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.wr=1,this.Sr=new ht(rt.Tr)}checkEmpty(e){return b.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.wr;this.wr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new m2(s,n,r,i);this.mutationQueue.push(o);for(const l of i)this.Sr=this.Sr.add(new rt(l.key,s)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return b.resolve(o)}lookupMutationBatch(e,n){return b.resolve(this.br(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Dr(r),s=i<0?0:i;return b.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return b.resolve(this.mutationQueue.length===0?-1:this.wr-1)}getAllMutationBatches(e){return b.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new rt(n,0),i=new rt(n,Number.POSITIVE_INFINITY),s=[];return this.Sr.forEachInRange([r,i],o=>{const l=this.br(o.yr);s.push(l)}),b.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ht(ge);return n.forEach(i=>{const s=new rt(i,0),o=new rt(i,Number.POSITIVE_INFINITY);this.Sr.forEachInRange([s,o],l=>{r=r.add(l.yr)})}),b.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Y.isDocumentKey(s)||(s=s.child(""));const o=new rt(new Y(s),0);let l=new ht(ge);return this.Sr.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(l=l.add(u.yr)),!0)},o),b.resolve(this.Cr(l))}Cr(e){const n=[];return e.forEach(r=>{const i=this.br(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ae(this.vr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Sr;return b.forEach(n.mutations,i=>{const s=new rt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Sr=r})}xn(e){}containsKey(e,n){const r=new rt(n,0),i=this.Sr.firstAfterOrEqual(r);return b.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,b.resolve()}vr(e,n){return this.Dr(e)}Dr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}br(e){const n=this.Dr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y2{constructor(e){this.Fr=e,this.docs=function(){return new je(Y.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Fr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return b.resolve(r?r.document.mutableCopy():Tt.newInvalidDocument(n))}getEntries(e,n){let r=tr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Tt.newInvalidDocument(i))}),b.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=tr();const o=n.path,l=new Y(o.child("")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:c,value:{document:h}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||LD(ND(h),r)<=0||(i.has(h.key)||Gu(n,h))&&(s=s.insert(h.key,h.mutableCopy()))}return b.resolve(s)}getAllFromCollectionGroup(e,n,r,i){te()}Mr(e,n){return b.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new X2(this)}getSize(e){return b.resolve(this.size)}}class X2 extends $2{constructor(e){super(),this.ur=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ur.addEntry(e,i)):this.ur.removeEntry(r)}),b.waitFor(n)}getFromCache(e,n){return this.ur.getEntry(e,n)}getAllFromCache(e,n){return this.ur.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(e){this.persistence=e,this.Or=new As(n=>kp(n),Vp),this.lastRemoteSnapshotVersion=ne.min(),this.highestTargetId=0,this.Nr=0,this.Lr=new Mp,this.targetCount=0,this.Br=ys.Ln()}forEachTarget(e,n){return this.Or.forEach((r,i)=>n(i)),b.resolve()}getLastRemoteSnapshotVersion(e){return b.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return b.resolve(this.Nr)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),b.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Nr&&(this.Nr=n),b.resolve()}Qn(e){this.Or.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Br=new ys(n),this.highestTargetId=n),e.sequenceNumber>this.Nr&&(this.Nr=e.sequenceNumber)}addTargetData(e,n){return this.Qn(n),this.targetCount+=1,b.resolve()}updateTargetData(e,n){return this.Qn(n),b.resolve()}removeTargetData(e,n){return this.Or.delete(n.target),this.Lr.mr(n.targetId),this.targetCount-=1,b.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Or.forEach((o,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.Or.delete(o),s.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),b.waitFor(s).next(()=>i)}getTargetCount(e){return b.resolve(this.targetCount)}getTargetData(e,n){const r=this.Or.get(n)||null;return b.resolve(r)}addMatchingKeys(e,n,r){return this.Lr.Ar(n,r),b.resolve()}removeMatchingKeys(e,n,r){this.Lr.Vr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),b.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Lr.mr(n),b.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Lr.pr(n);return b.resolve(r)}containsKey(e,n){return b.resolve(this.Lr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(e,n){this.kr={},this.overlays={},this.qr=new Pp(0),this.Qr=!1,this.Qr=!0,this.Kr=new G2,this.referenceDelegate=e(this),this.$r=new J2(this),this.indexManager=new j2,this.remoteDocumentCache=function(i){return new Y2(i)}(r=>this.referenceDelegate.Ur(r)),this.serializer=new U2(n),this.Wr=new q2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Qr=!1,Promise.resolve()}get started(){return this.Qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new K2,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.kr[e.toKey()];return r||(r=new Q2(n,this.referenceDelegate),this.kr[e.toKey()]=r),r}getGlobalsCache(){return this.Kr}getTargetCache(){return this.$r}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Wr}runTransaction(e,n,r){G("MemoryPersistence","Starting transaction:",e);const i=new eN(this.qr.next());return this.referenceDelegate.Gr(),r(i).next(s=>this.referenceDelegate.zr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}jr(e,n){return b.or(Object.values(this.kr).map(r=>()=>r.containsKey(e,n)))}}class eN extends MD{constructor(e){super(),this.currentSequenceNumber=e}}class bp{constructor(e){this.persistence=e,this.Hr=new Mp,this.Jr=null}static Yr(e){return new bp(e)}get Zr(){if(this.Jr)return this.Jr;throw te()}addReference(e,n,r){return this.Hr.addReference(r,n),this.Zr.delete(r.toString()),b.resolve()}removeReference(e,n,r){return this.Hr.removeReference(r,n),this.Zr.add(r.toString()),b.resolve()}markPotentiallyOrphaned(e,n){return this.Zr.add(n.toString()),b.resolve()}removeTarget(e,n){this.Hr.mr(n.targetId).forEach(i=>this.Zr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Zr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Gr(){this.Jr=new Set}zr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return b.forEach(this.Zr,r=>{const i=Y.fromPath(r);return this.Xr(e,i).next(s=>{s||n.removeEntry(i,ne.min())})}).next(()=>(this.Jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Xr(e,n).next(r=>{r?this.Zr.delete(n.toString()):this.Zr.add(n.toString())})}Ur(e){return 0}Xr(e,n){return b.or([()=>b.resolve(this.Hr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.jr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Ki=r,this.$i=i}static Ui(e,n){let r=ae(),i=ae();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Fp(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(){this.Wi=!1,this.Gi=!1,this.zi=100,this.ji=function(){return Lk()?8:bD(Dk())>0?6:4}()}initialize(e,n){this.Hi=e,this.indexManager=n,this.Wi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Ji(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Yi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new tN;return this.Zi(e,n,o).next(l=>{if(s.result=l,this.Gi)return this.Xi(e,n,o,l.size)})}).next(()=>s.result)}Xi(e,n,r,i){return r.documentReadCount<this.zi?(Xs()<=he.DEBUG&&G("QueryEngine","SDK will not create cache indexes for query:",Di(n),"since it only creates cache indexes for collection contains","more than or equal to",this.zi,"documents"),b.resolve()):(Xs()<=he.DEBUG&&G("QueryEngine","Query:",Di(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ji*i?(Xs()<=he.DEBUG&&G("QueryEngine","The SDK decides to create cache indexes for query:",Di(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Nn(n))):b.resolve())}Ji(e,n){if(Fv(n))return b.resolve(null);let r=Nn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Hf(n,null,"F"),r=Nn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ae(...s);return this.Hi.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.es(n,l);return this.ts(n,c,o,u.readTime)?this.Ji(e,Hf(n,null,"F")):this.ns(e,c,n,u)}))})))}Yi(e,n,r,i){return Fv(n)||i.isEqual(ne.min())?b.resolve(null):this.Hi.getDocuments(e,r).next(s=>{const o=this.es(n,s);return this.ts(n,o,r,i)?b.resolve(null):(Xs()<=he.DEBUG&&G("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Di(n)),this.ns(e,o,n,DD(i,-1)).next(l=>l))})}es(e,n){let r=new ht(F1(e));return n.forEach((i,s)=>{Gu(e,s)&&(r=r.add(s))}),r}ts(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Zi(e,n,r){return Xs()<=he.DEBUG&&G("QueryEngine","Using full collection scan to execute query:",Di(n)),this.Hi.getDocumentsMatchingQuery(e,n,Or.min(),r)}ns(e,n,r,i){return this.Hi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{constructor(e,n,r,i){this.persistence=e,this.rs=n,this.serializer=i,this.ss=new je(ge),this.os=new As(s=>kp(s),Vp),this._s=new Map,this.us=e.getRemoteDocumentCache(),this.$r=e.getTargetCache(),this.Wr=e.getBundleCache(),this.cs(r)}cs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new W2(this.us,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.us.setIndexManager(this.indexManager),this.rs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ss))}}function iN(t,e,n,r){return new rN(t,e,n,r)}async function oT(t,e){const n=re(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.cs(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],l=[];let u=ae();for(const c of i){o.push(c.batchId);for(const h of c.mutations)u=u.add(h.key)}for(const c of s){l.push(c.batchId);for(const h of c.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(c=>({ls:c,removedBatchIds:o,addedBatchIds:l}))})})}function sN(t,e){const n=re(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.us.newChangeBuffer({trackRemovals:!0});return function(l,u,c,h){const m=c.batch,d=m.keys();let v=b.resolve();return d.forEach(P=>{v=v.next(()=>h.getEntry(u,P)).next(k=>{const V=c.docVersions.get(P);Ae(V!==null),k.version.compareTo(V)<0&&(m.applyToRemoteDocument(k,c),k.isValidDocument()&&(k.setReadTime(c.commitVersion),h.addEntry(k)))})}),v.next(()=>l.mutationQueue.removeMutationBatch(u,m))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let u=ae();for(let c=0;c<l.mutationResults.length;++c)l.mutationResults[c].transformResults.length>0&&(u=u.add(l.batch.mutations[c].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function aT(t){const e=re(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.$r.getLastRemoteSnapshotVersion(n))}function oN(t,e){const n=re(t),r=e.snapshotVersion;let i=n.ss;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.us.newChangeBuffer({trackRemovals:!0});i=n.ss;const l=[];e.targetChanges.forEach((h,m)=>{const d=i.get(m);if(!d)return;l.push(n.$r.removeMatchingKeys(s,h.removedDocuments,m).next(()=>n.$r.addMatchingKeys(s,h.addedDocuments,m)));let v=d.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(m)!==null?v=v.withResumeToken(dt.EMPTY_BYTE_STRING,ne.min()).withLastLimboFreeSnapshotVersion(ne.min()):h.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(h.resumeToken,r)),i=i.insert(m,v),function(k,V,S){return k.resumeToken.approximateByteSize()===0||V.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=3e8?!0:S.addedDocuments.size+S.modifiedDocuments.size+S.removedDocuments.size>0}(d,v,h)&&l.push(n.$r.updateTargetData(s,v))});let u=tr(),c=ae();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,h))}),l.push(aN(s,o,e.documentUpdates).next(h=>{u=h.hs,c=h.Ps})),!r.isEqual(ne.min())){const h=n.$r.getLastRemoteSnapshotVersion(s).next(m=>n.$r.setTargetsMetadata(s,s.currentSequenceNumber,r));l.push(h)}return b.waitFor(l).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(n.ss=i,s))}function aN(t,e,n){let r=ae(),i=ae();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=tr();return n.forEach((l,u)=>{const c=s.get(l);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(l)),u.isNoDocument()&&u.version.isEqual(ne.min())?(e.removeEntry(l,u.readTime),o=o.insert(l,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(l,u)):G("LocalStore","Ignoring outdated watch update for ",l,". Current version:",c.version," Watch version:",u.version)}),{hs:o,Ps:i}})}function lN(t,e){const n=re(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function uN(t,e){const n=re(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.$r.getTargetData(r,e).next(s=>s?(i=s,b.resolve(i)):n.$r.allocateTargetId(r).next(o=>(i=new mr(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.$r.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ss.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ss=n.ss.insert(r.targetId,r),n.os.set(e,r.targetId)),r})}async function Qf(t,e,n){const r=re(t),i=r.ss.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!pa(o))throw o;G("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ss=r.ss.remove(e),r.os.delete(i.target)}function Qv(t,e,n){const r=re(t);let i=ne.min(),s=ae();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,c,h){const m=re(u),d=m.os.get(h);return d!==void 0?b.resolve(m.ss.get(d)):m.$r.getTargetData(c,h)}(r,o,Nn(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.$r.getMatchingKeysForTargetId(o,l.targetId).next(u=>{s=u})}).next(()=>r.rs.getDocumentsMatchingQuery(o,e,n?i:ne.min(),n?s:ae())).next(l=>(cN(r,e2(e),l),{documents:l,Is:s})))}function cN(t,e,n){let r=t._s.get(e)||ne.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t._s.set(e,r)}class Yv{constructor(){this.activeTargetIds=o2()}Vs(e){this.activeTargetIds=this.activeTargetIds.add(e)}fs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Rs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class hN{constructor(){this.io=new Yv,this.so={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.io.Vs(e),this.so[e]||"not-current"}updateQueryState(e,n,r){this.so[e]=n}removeLocalQueryTarget(e){this.io.fs(e)}isLocalQueryTarget(e){return this.io.activeTargetIds.has(e)}clearQueryState(e){delete this.so[e]}getAllActiveQueryTargets(){return this.io.activeTargetIds}isActiveQueryTarget(e){return this.io.activeTargetIds.has(e)}start(){return this.io=new Yv,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fN{oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xv{constructor(){this._o=()=>this.ao(),this.uo=()=>this.co(),this.lo=[],this.ho()}oo(e){this.lo.push(e)}shutdown(){window.removeEventListener("online",this._o),window.removeEventListener("offline",this.uo)}ho(){window.addEventListener("online",this._o),window.addEventListener("offline",this.uo)}ao(){G("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.lo)e(0)}co(){G("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.lo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ol=null;function dh(){return ol===null?ol=function(){return 268435456+Math.round(2147483648*Math.random())}():ol++,"0x"+ol.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pN{constructor(e){this.Po=e.Po,this.Io=e.Io}To(e){this.Eo=e}Ao(e){this.Ro=e}Vo(e){this.mo=e}onMessage(e){this.fo=e}close(){this.Io()}send(e){this.Po(e)}po(){this.Eo()}yo(){this.Ro()}wo(e){this.mo(e)}So(e){this.fo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _t="WebChannelConnection";class mN extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.bo=r+"://"+n.host,this.Do=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get vo(){return!1}Fo(n,r,i,s,o){const l=dh(),u=this.Mo(n,r.toUriEncodedString());G("RestConnection",`Sending RPC '${n}' ${l}:`,u,i);const c={"google-cloud-resource-prefix":this.Do,"x-goog-request-params":this.Co};return this.xo(c,s,o),this.Oo(n,u,c,i).then(h=>(G("RestConnection",`Received RPC '${n}' ${l}: `,h),h),h=>{throw ds("RestConnection",`RPC '${n}' ${l} failed with error: `,h,"url: ",u,"request:",i),h})}No(n,r,i,s,o,l){return this.Fo(n,r,i,s,o)}xo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ss}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}Mo(n,r){const i=dN[n];return`${this.bo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Oo(e,n,r,i){const s=dh();return new Promise((o,l)=>{const u=new v1;u.setWithCredentials(!0),u.listenOnce(w1.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Tl.NO_ERROR:const h=u.getResponseJson();G(_t,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(h)),o(h);break;case Tl.TIMEOUT:G(_t,`RPC '${e}' ${s} timed out`),l(new K(M.DEADLINE_EXCEEDED,"Request time out"));break;case Tl.HTTP_ERROR:const m=u.getStatus();if(G(_t,`RPC '${e}' ${s} failed with status:`,m,"response text:",u.getResponseText()),m>0){let d=u.getResponseJson();Array.isArray(d)&&(d=d[0]);const v=d==null?void 0:d.error;if(v&&v.status&&v.message){const P=function(V){const S=V.toLowerCase().replace(/_/g,"-");return Object.values(M).indexOf(S)>=0?S:M.UNKNOWN}(v.status);l(new K(P,v.message))}else l(new K(M.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new K(M.UNAVAILABLE,"Connection failed."));break;default:te()}}finally{G(_t,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);G(_t,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",c,r,15)})}Lo(e,n,r){const i=dh(),s=[this.bo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=S1(),l=T1(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.xmlHttpFactory=new _1({})),this.xo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const h=s.join("");G(_t,`Creating RPC '${e}' stream ${i}: ${h}`,u);const m=o.createWebChannel(h,u);let d=!1,v=!1;const P=new pN({Po:V=>{v?G(_t,`Not sending because RPC '${e}' stream ${i} is closed:`,V):(d||(G(_t,`Opening RPC '${e}' stream ${i} transport.`),m.open(),d=!0),G(_t,`RPC '${e}' stream ${i} sending:`,V),m.send(V))},Io:()=>m.close()}),k=(V,S,E)=>{V.listen(S,I=>{try{E(I)}catch(R){setTimeout(()=>{throw R},0)}})};return k(m,io.EventType.OPEN,()=>{v||(G(_t,`RPC '${e}' stream ${i} transport opened.`),P.po())}),k(m,io.EventType.CLOSE,()=>{v||(v=!0,G(_t,`RPC '${e}' stream ${i} transport closed`),P.wo())}),k(m,io.EventType.ERROR,V=>{v||(v=!0,ds(_t,`RPC '${e}' stream ${i} transport errored:`,V),P.wo(new K(M.UNAVAILABLE,"The operation could not be completed")))}),k(m,io.EventType.MESSAGE,V=>{var S;if(!v){const E=V.data[0];Ae(!!E);const I=E,R=I.error||((S=I[0])===null||S===void 0?void 0:S.error);if(R){G(_t,`RPC '${e}' stream ${i} received error:`,R);const L=R.status;let O=function(y){const w=Qe[y];if(w!==void 0)return Y1(w)}(L),T=R.message;O===void 0&&(O=M.INTERNAL,T="Unknown error status: "+L+" with message "+R.message),v=!0,P.wo(new K(O,T)),m.close()}else G(_t,`RPC '${e}' stream ${i} received:`,E),P.So(E)}}),k(l,E1.STAT_EVENT,V=>{V.stat===Ff.PROXY?G(_t,`RPC '${e}' stream ${i} detected buffering proxy`):V.stat===Ff.NOPROXY&&G(_t,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{P.yo()},0),P}}function ph(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ju(t){return new I2(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ai=e,this.timerId=n,this.Bo=r,this.ko=i,this.qo=s,this.Qo=0,this.Ko=null,this.$o=Date.now(),this.reset()}reset(){this.Qo=0}Uo(){this.Qo=this.qo}Wo(e){this.cancel();const n=Math.floor(this.Qo+this.Go()),r=Math.max(0,Date.now()-this.$o),i=Math.max(0,n-r);i>0&&G("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Qo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Ko=this.ai.enqueueAfterDelay(this.timerId,i,()=>(this.$o=Date.now(),e())),this.Qo*=this.ko,this.Qo<this.Bo&&(this.Qo=this.Bo),this.Qo>this.qo&&(this.Qo=this.qo)}zo(){this.Ko!==null&&(this.Ko.skipDelay(),this.Ko=null)}cancel(){this.Ko!==null&&(this.Ko.cancel(),this.Ko=null)}Go(){return(Math.random()-.5)*this.Qo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT{constructor(e,n,r,i,s,o,l,u){this.ai=e,this.jo=r,this.Ho=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.Jo=0,this.Yo=null,this.Zo=null,this.stream=null,this.Xo=0,this.e_=new lT(e,n)}t_(){return this.state===1||this.state===5||this.n_()}n_(){return this.state===2||this.state===3}start(){this.Xo=0,this.state!==4?this.auth():this.r_()}async stop(){this.t_()&&await this.close(0)}i_(){this.state=0,this.e_.reset()}s_(){this.n_()&&this.Yo===null&&(this.Yo=this.ai.enqueueAfterDelay(this.jo,6e4,()=>this.o_()))}__(e){this.a_(),this.stream.send(e)}async o_(){if(this.n_())return this.close(0)}a_(){this.Yo&&(this.Yo.cancel(),this.Yo=null)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}async close(e,n){this.a_(),this.u_(),this.e_.cancel(),this.Jo++,e!==4?this.e_.reset():n&&n.code===M.RESOURCE_EXHAUSTED?(er(n.toString()),er("Using maximum backoff delay to prevent overloading the backend."),this.e_.Uo()):n&&n.code===M.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.c_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Vo(n)}c_(){}auth(){this.state=1;const e=this.l_(this.Jo),n=this.Jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Jo===n&&this.h_(r,i)},r=>{e(()=>{const i=new K(M.UNKNOWN,"Fetching auth token failed: "+r.message);return this.P_(i)})})}h_(e,n){const r=this.l_(this.Jo);this.stream=this.I_(e,n),this.stream.To(()=>{r(()=>this.listener.To())}),this.stream.Ao(()=>{r(()=>(this.state=2,this.Zo=this.ai.enqueueAfterDelay(this.Ho,1e4,()=>(this.n_()&&(this.state=3),Promise.resolve())),this.listener.Ao()))}),this.stream.Vo(i=>{r(()=>this.P_(i))}),this.stream.onMessage(i=>{r(()=>++this.Xo==1?this.T_(i):this.onNext(i))})}r_(){this.state=5,this.e_.Wo(async()=>{this.state=0,this.start()})}P_(e){return G("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}l_(e){return n=>{this.ai.enqueueAndForget(()=>this.Jo===e?n():(G("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class gN extends uT{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}I_(e,n){return this.connection.Lo("Listen",e,n)}T_(e){return this.onNext(e)}onNext(e){this.e_.reset();const n=R2(this.serializer,e),r=function(s){if(!("targetChange"in s))return ne.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?ne.min():o.readTime?Ln(o.readTime):ne.min()}(e);return this.listener.E_(n,r)}d_(e){const n={};n.database=Gf(this.serializer),n.addTarget=function(s,o){let l;const u=o.target;if(l=zf(u)?{documents:V2(s,u)}:{query:D2(s,u)._t},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=Z1(s,o.resumeToken);const c=Wf(s,o.expectedCount);c!==null&&(l.expectedCount=c)}else if(o.snapshotVersion.compareTo(ne.min())>0){l.readTime=mu(s,o.snapshotVersion.toTimestamp());const c=Wf(s,o.expectedCount);c!==null&&(l.expectedCount=c)}return l}(this.serializer,e);const r=L2(this.serializer,e);r&&(n.labels=r),this.__(n)}A_(e){const n={};n.database=Gf(this.serializer),n.removeTarget=e,this.__(n)}}class yN extends uT{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get R_(){return this.Xo>0}start(){this.lastStreamToken=void 0,super.start()}c_(){this.R_&&this.V_([])}I_(e,n){return this.connection.Lo("Write",e,n)}T_(e){return Ae(!!e.streamToken),this.lastStreamToken=e.streamToken,Ae(!e.writeResults||e.writeResults.length===0),this.listener.m_()}onNext(e){Ae(!!e.streamToken),this.lastStreamToken=e.streamToken,this.e_.reset();const n=k2(e.writeResults,e.commitTime),r=Ln(e.commitTime);return this.listener.f_(r,n)}g_(){const e={};e.database=Gf(this.serializer),this.__(e)}V_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>x2(this.serializer,r))};this.__(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vN extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.p_=!1}y_(){if(this.p_)throw new K(M.FAILED_PRECONDITION,"The client has already been terminated.")}Fo(e,n,r,i){return this.y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Fo(e,qf(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new K(M.UNKNOWN,s.toString())})}No(e,n,r,i,s){return this.y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.No(e,qf(n,r),i,o,l,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new K(M.UNKNOWN,o.toString())})}terminate(){this.p_=!0,this.connection.terminate()}}class _N{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.w_=0,this.S_=null,this.b_=!0}D_(){this.w_===0&&(this.C_("Unknown"),this.S_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.S_=null,this.v_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}F_(e){this.state==="Online"?this.C_("Unknown"):(this.w_++,this.w_>=1&&(this.M_(),this.v_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.M_(),this.w_=0,e==="Online"&&(this.b_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}v_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.b_?(er(n),this.b_=!1):G("OnlineStateTracker",n)}M_(){this.S_!==null&&(this.S_.cancel(),this.S_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wN{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.x_=[],this.O_=new Map,this.N_=new Set,this.L_=[],this.B_=s,this.B_.oo(o=>{r.enqueueAndForget(async()=>{Ii(this)&&(G("RemoteStore","Restarting streams for network reachability change."),await async function(u){const c=re(u);c.N_.add(4),await va(c),c.k_.set("Unknown"),c.N_.delete(4),await Zu(c)}(this))})}),this.k_=new _N(r,i)}}async function Zu(t){if(Ii(t))for(const e of t.L_)await e(!0)}async function va(t){for(const e of t.L_)await e(!1)}function cT(t,e){const n=re(t);n.O_.has(e.targetId)||(n.O_.set(e.targetId,e),zp(n)?jp(n):Is(n).n_()&&Bp(n,e))}function Up(t,e){const n=re(t),r=Is(n);n.O_.delete(e),r.n_()&&hT(n,e),n.O_.size===0&&(r.n_()?r.s_():Ii(n)&&n.k_.set("Unknown"))}function Bp(t,e){if(t.q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ne.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Is(t).d_(e)}function hT(t,e){t.q_.xe(e),Is(t).A_(e)}function jp(t){t.q_=new E2({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.O_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Is(t).start(),t.k_.D_()}function zp(t){return Ii(t)&&!Is(t).t_()&&t.O_.size>0}function Ii(t){return re(t).N_.size===0}function fT(t){t.q_=void 0}async function EN(t){t.k_.set("Online")}async function TN(t){t.O_.forEach((e,n)=>{Bp(t,e)})}async function SN(t,e){fT(t),zp(t)?(t.k_.F_(e),jp(t)):t.k_.set("Unknown")}async function AN(t,e,n){if(t.k_.set("Online"),e instanceof J1&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const l of s.targetIds)i.O_.has(l)&&(await i.remoteSyncer.rejectListen(l,o),i.O_.delete(l),i.q_.removeTarget(l))}(t,e)}catch(r){G("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await gu(t,r)}else if(e instanceof Il?t.q_.Ke(e):e instanceof X1?t.q_.He(e):t.q_.We(e),!n.isEqual(ne.min()))try{const r=await aT(t.localStore);n.compareTo(r)>=0&&await function(s,o){const l=s.q_.rt(o);return l.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const h=s.O_.get(c);h&&s.O_.set(c,h.withResumeToken(u.resumeToken,o))}}),l.targetMismatches.forEach((u,c)=>{const h=s.O_.get(u);if(!h)return;s.O_.set(u,h.withResumeToken(dt.EMPTY_BYTE_STRING,h.snapshotVersion)),hT(s,u);const m=new mr(h.target,u,c,h.sequenceNumber);Bp(s,m)}),s.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){G("RemoteStore","Failed to raise snapshot:",r),await gu(t,r)}}async function gu(t,e,n){if(!pa(e))throw e;t.N_.add(1),await va(t),t.k_.set("Offline"),n||(n=()=>aT(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{G("RemoteStore","Retrying IndexedDB access"),await n(),t.N_.delete(1),await Zu(t)})}function dT(t,e){return e().catch(n=>gu(t,n,e))}async function ec(t){const e=re(t),n=br(e);let r=e.x_.length>0?e.x_[e.x_.length-1].batchId:-1;for(;IN(e);)try{const i=await lN(e.localStore,r);if(i===null){e.x_.length===0&&n.s_();break}r=i.batchId,PN(e,i)}catch(i){await gu(e,i)}pT(e)&&mT(e)}function IN(t){return Ii(t)&&t.x_.length<10}function PN(t,e){t.x_.push(e);const n=br(t);n.n_()&&n.R_&&n.V_(e.mutations)}function pT(t){return Ii(t)&&!br(t).t_()&&t.x_.length>0}function mT(t){br(t).start()}async function CN(t){br(t).g_()}async function RN(t){const e=br(t);for(const n of t.x_)e.V_(n.mutations)}async function xN(t,e,n){const r=t.x_.shift(),i=Np.from(r,e,n);await dT(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await ec(t)}async function kN(t,e){e&&br(t).R_&&await async function(r,i){if(function(o){return v2(o)&&o!==M.ABORTED}(i.code)){const s=r.x_.shift();br(r).i_(),await dT(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await ec(r)}}(t,e),pT(t)&&mT(t)}async function Jv(t,e){const n=re(t);n.asyncQueue.verifyOperationInProgress(),G("RemoteStore","RemoteStore received new credentials");const r=Ii(n);n.N_.add(3),await va(n),r&&n.k_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.N_.delete(3),await Zu(n)}async function VN(t,e){const n=re(t);e?(n.N_.delete(2),await Zu(n)):e||(n.N_.add(2),await va(n),n.k_.set("Unknown"))}function Is(t){return t.Q_||(t.Q_=function(n,r,i){const s=re(n);return s.y_(),new gN(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{To:EN.bind(null,t),Ao:TN.bind(null,t),Vo:SN.bind(null,t),E_:AN.bind(null,t)}),t.L_.push(async e=>{e?(t.Q_.i_(),zp(t)?jp(t):t.k_.set("Unknown")):(await t.Q_.stop(),fT(t))})),t.Q_}function br(t){return t.K_||(t.K_=function(n,r,i){const s=re(n);return s.y_(),new yN(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{To:()=>Promise.resolve(),Ao:CN.bind(null,t),Vo:kN.bind(null,t),m_:RN.bind(null,t),f_:xN.bind(null,t)}),t.L_.push(async e=>{e?(t.K_.i_(),await ec(t)):(await t.K_.stop(),t.x_.length>0&&(G("RemoteStore",`Stopping write stream with ${t.x_.length} pending writes`),t.x_=[]))})),t.K_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $p{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new xr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,l=new $p(e,n,o,i,s);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new K(M.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Hp(t,e){if(er("AsyncQueue",`${e}: ${t}`),pa(t))return new K(M.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Y.comparator(n.key,r.key):(n,r)=>Y.comparator(n.key,r.key),this.keyedMap=so(),this.sortedSet=new je(this.comparator)}static emptySet(e){return new ns(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ns)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ns;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zv{constructor(){this.U_=new je(Y.comparator)}track(e){const n=e.doc.key,r=this.U_.get(n);r?e.type!==0&&r.type===3?this.U_=this.U_.insert(n,e):e.type===3&&r.type!==1?this.U_=this.U_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.U_=this.U_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.U_=this.U_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.U_=this.U_.remove(n):e.type===1&&r.type===2?this.U_=this.U_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.U_=this.U_.insert(n,{type:2,doc:e.doc}):te():this.U_=this.U_.insert(n,e)}W_(){const e=[];return this.U_.inorderTraversal((n,r)=>{e.push(r)}),e}}class vs{constructor(e,n,r,i,s,o,l,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(l=>{o.push({type:0,doc:l})}),new vs(e,n,ns.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ku(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{constructor(){this.G_=void 0,this.z_=[]}j_(){return this.z_.some(e=>e.H_())}}class NN{constructor(){this.queries=e_(),this.onlineState="Unknown",this.J_=new Set}terminate(){(function(n,r){const i=re(n),s=i.queries;i.queries=e_(),s.forEach((o,l)=>{for(const u of l.z_)u.onError(r)})})(this,new K(M.ABORTED,"Firestore shutting down"))}}function e_(){return new As(t=>b1(t),Ku)}async function LN(t,e){const n=re(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.j_()&&e.H_()&&(r=2):(s=new DN,r=e.H_()?0:1);try{switch(r){case 0:s.G_=await n.onListen(i,!0);break;case 1:s.G_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const l=Hp(o,`Initialization of query '${Di(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,s),s.z_.push(e),e.Y_(n.onlineState),s.G_&&e.Z_(s.G_)&&Wp(n)}async function ON(t,e){const n=re(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.z_.indexOf(e);o>=0&&(s.z_.splice(o,1),s.z_.length===0?i=e.H_()?0:1:!s.j_()&&e.H_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function MN(t,e){const n=re(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const l of o.z_)l.Z_(i)&&(r=!0);o.G_=i}}r&&Wp(n)}function bN(t,e,n){const r=re(t),i=r.queries.get(e);if(i)for(const s of i.z_)s.onError(n);r.queries.delete(e)}function Wp(t){t.J_.forEach(e=>{e.next()})}var Yf,t_;(t_=Yf||(Yf={})).X_="default",t_.Cache="cache";class FN{constructor(e,n,r){this.query=e,this.ea=n,this.ta=!1,this.na=null,this.onlineState="Unknown",this.options=r||{}}Z_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new vs(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ta?this.ra(e)&&(this.ea.next(e),n=!0):this.ia(e,this.onlineState)&&(this.sa(e),n=!0),this.na=e,n}onError(e){this.ea.error(e)}Y_(e){this.onlineState=e;let n=!1;return this.na&&!this.ta&&this.ia(this.na,e)&&(this.sa(this.na),n=!0),n}ia(e,n){if(!e.fromCache||!this.H_())return!0;const r=n!=="Offline";return(!this.options.oa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ra(e){if(e.docChanges.length>0)return!0;const n=this.na&&this.na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}sa(e){e=vs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ta=!0,this.ea.next(e)}H_(){return this.options.source!==Yf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gT{constructor(e){this.key=e}}class yT{constructor(e){this.key=e}}class UN{constructor(e,n){this.query=e,this.Ia=n,this.Ta=null,this.hasCachedResults=!1,this.current=!1,this.Ea=ae(),this.mutatedKeys=ae(),this.da=F1(e),this.Aa=new ns(this.da)}get Ra(){return this.Ia}Va(e,n){const r=n?n.ma:new Zv,i=n?n.Aa:this.Aa;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,l=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,m)=>{const d=i.get(h),v=Gu(this.query,m)?m:null,P=!!d&&this.mutatedKeys.has(d.key),k=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let V=!1;d&&v?d.data.isEqual(v.data)?P!==k&&(r.track({type:3,doc:v}),V=!0):this.fa(d,v)||(r.track({type:2,doc:v}),V=!0,(u&&this.da(v,u)>0||c&&this.da(v,c)<0)&&(l=!0)):!d&&v?(r.track({type:0,doc:v}),V=!0):d&&!v&&(r.track({type:1,doc:d}),V=!0,(u||c)&&(l=!0)),V&&(v?(o=o.add(v),s=k?s.add(h):s.delete(h)):(o=o.delete(h),s=s.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{Aa:o,ma:r,ts:l,mutatedKeys:s}}fa(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Aa;this.Aa=e.Aa,this.mutatedKeys=e.mutatedKeys;const o=e.ma.W_();o.sort((h,m)=>function(v,P){const k=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return te()}};return k(v)-k(P)}(h.type,m.type)||this.da(h.doc,m.doc)),this.ga(r),i=i!=null&&i;const l=n&&!i?this.pa():[],u=this.Ea.size===0&&this.current&&!i?1:0,c=u!==this.Ta;return this.Ta=u,o.length!==0||c?{snapshot:new vs(this.query,e.Aa,s,o,e.mutatedKeys,u===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),ya:l}:{ya:l}}Y_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Aa:this.Aa,ma:new Zv,mutatedKeys:this.mutatedKeys,ts:!1},!1)):{ya:[]}}wa(e){return!this.Ia.has(e)&&!!this.Aa.has(e)&&!this.Aa.get(e).hasLocalMutations}ga(e){e&&(e.addedDocuments.forEach(n=>this.Ia=this.Ia.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ia=this.Ia.delete(n)),this.current=e.current)}pa(){if(!this.current)return[];const e=this.Ea;this.Ea=ae(),this.Aa.forEach(r=>{this.wa(r.key)&&(this.Ea=this.Ea.add(r.key))});const n=[];return e.forEach(r=>{this.Ea.has(r)||n.push(new yT(r))}),this.Ea.forEach(r=>{e.has(r)||n.push(new gT(r))}),n}Sa(e){this.Ia=e.Is,this.Ea=ae();const n=this.Va(e.documents);return this.applyChanges(n,!0)}ba(){return vs.fromInitialDocuments(this.query,this.Aa,this.mutatedKeys,this.Ta===0,this.hasCachedResults)}}class BN{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class jN{constructor(e){this.key=e,this.Da=!1}}class zN{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.va=new As(l=>b1(l),Ku),this.Fa=new Map,this.Ma=new Set,this.xa=new je(Y.comparator),this.Oa=new Map,this.Na=new Mp,this.La={},this.Ba=new Map,this.ka=ys.Bn(),this.onlineState="Unknown",this.qa=void 0}get isPrimaryClient(){return this.qa===!0}}async function $N(t,e,n=!0){const r=ST(t);let i;const s=r.va.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.ba()):i=await vT(r,e,n,!0),i}async function HN(t,e){const n=ST(t);await vT(n,e,!0,!1)}async function vT(t,e,n,r){const i=await uN(t.localStore,Nn(e)),s=i.targetId,o=n?t.sharedClientState.addLocalQueryTarget(s):"not-current";let l;return r&&(l=await WN(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&cT(t.remoteStore,i),l}async function WN(t,e,n,r,i){t.Qa=(m,d,v)=>async function(k,V,S,E){let I=V.view.Va(S);I.ts&&(I=await Qv(k.localStore,V.query,!1).then(({documents:T})=>V.view.Va(T,I)));const R=E&&E.targetChanges.get(V.targetId),L=E&&E.targetMismatches.get(V.targetId)!=null,O=V.view.applyChanges(I,k.isPrimaryClient,R,L);return r_(k,V.targetId,O.ya),O.snapshot}(t,m,d,v);const s=await Qv(t.localStore,e,!0),o=new UN(e,s.Is),l=o.Va(s.documents),u=ya.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(l,t.isPrimaryClient,u);r_(t,n,c.ya);const h=new BN(e,n,o);return t.va.set(e,h),t.Fa.has(n)?t.Fa.get(n).push(e):t.Fa.set(n,[e]),c.snapshot}async function qN(t,e,n){const r=re(t),i=r.va.get(e),s=r.Fa.get(i.targetId);if(s.length>1)return r.Fa.set(i.targetId,s.filter(o=>!Ku(o,e))),void r.va.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Qf(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Up(r.remoteStore,i.targetId),Xf(r,i.targetId)}).catch(da)):(Xf(r,i.targetId),await Qf(r.localStore,i.targetId,!0))}async function KN(t,e){const n=re(t),r=n.va.get(e),i=n.Fa.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Up(n.remoteStore,r.targetId))}async function GN(t,e,n){const r=tL(t);try{const i=await function(o,l){const u=re(o),c=nt.now(),h=l.reduce((v,P)=>v.add(P.key),ae());let m,d;return u.persistence.runTransaction("Locally write mutations","readwrite",v=>{let P=tr(),k=ae();return u.us.getEntries(v,h).next(V=>{P=V,P.forEach((S,E)=>{E.isValidDocument()||(k=k.add(S))})}).next(()=>u.localDocuments.getOverlayedDocuments(v,P)).next(V=>{m=V;const S=[];for(const E of l){const I=d2(E,m.get(E.key).overlayedDocument);I!=null&&S.push(new zr(E.key,I,R1(I.value.mapValue),En.exists(!0)))}return u.mutationQueue.addMutationBatch(v,c,S,l)}).next(V=>{d=V;const S=V.applyToLocalDocumentSet(m,k);return u.documentOverlayCache.saveOverlays(v,V.batchId,S)})}).then(()=>({batchId:d.batchId,changes:B1(m)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,l,u){let c=o.La[o.currentUser.toKey()];c||(c=new je(ge)),c=c.insert(l,u),o.La[o.currentUser.toKey()]=c}(r,i.batchId,n),await _a(r,i.changes),await ec(r.remoteStore)}catch(i){const s=Hp(i,"Failed to persist write");n.reject(s)}}async function _T(t,e){const n=re(t);try{const r=await oN(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Oa.get(s);o&&(Ae(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Da=!0:i.modifiedDocuments.size>0?Ae(o.Da):i.removedDocuments.size>0&&(Ae(o.Da),o.Da=!1))}),await _a(n,r,e)}catch(r){await da(r)}}function n_(t,e,n){const r=re(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.va.forEach((s,o)=>{const l=o.view.Y_(e);l.snapshot&&i.push(l.snapshot)}),function(o,l){const u=re(o);u.onlineState=l;let c=!1;u.queries.forEach((h,m)=>{for(const d of m.z_)d.Y_(l)&&(c=!0)}),c&&Wp(u)}(r.eventManager,e),i.length&&r.Ca.E_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function QN(t,e,n){const r=re(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Oa.get(e),s=i&&i.key;if(s){let o=new je(Y.comparator);o=o.insert(s,Tt.newNoDocument(s,ne.min()));const l=ae().add(s),u=new Xu(ne.min(),new Map,new je(ge),o,l);await _T(r,u),r.xa=r.xa.remove(s),r.Oa.delete(e),qp(r)}else await Qf(r.localStore,e,!1).then(()=>Xf(r,e,n)).catch(da)}async function YN(t,e){const n=re(t),r=e.batch.batchId;try{const i=await sN(n.localStore,e);ET(n,r,null),wT(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await _a(n,i)}catch(i){await da(i)}}async function XN(t,e,n){const r=re(t);try{const i=await function(o,l){const u=re(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let h;return u.mutationQueue.lookupMutationBatch(c,l).next(m=>(Ae(m!==null),h=m.keys(),u.mutationQueue.removeMutationBatch(c,m))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,h,l)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,h)).next(()=>u.localDocuments.getDocuments(c,h))})}(r.localStore,e);ET(r,e,n),wT(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await _a(r,i)}catch(i){await da(i)}}function wT(t,e){(t.Ba.get(e)||[]).forEach(n=>{n.resolve()}),t.Ba.delete(e)}function ET(t,e,n){const r=re(t);let i=r.La[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.La[r.currentUser.toKey()]=i}}function Xf(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Fa.get(e))t.va.delete(r),n&&t.Ca.Ka(r,n);t.Fa.delete(e),t.isPrimaryClient&&t.Na.mr(e).forEach(r=>{t.Na.containsKey(r)||TT(t,r)})}function TT(t,e){t.Ma.delete(e.path.canonicalString());const n=t.xa.get(e);n!==null&&(Up(t.remoteStore,n),t.xa=t.xa.remove(e),t.Oa.delete(n),qp(t))}function r_(t,e,n){for(const r of n)r instanceof gT?(t.Na.addReference(r.key,e),JN(t,r)):r instanceof yT?(G("SyncEngine","Document no longer in limbo: "+r.key),t.Na.removeReference(r.key,e),t.Na.containsKey(r.key)||TT(t,r.key)):te()}function JN(t,e){const n=e.key,r=n.path.canonicalString();t.xa.get(n)||t.Ma.has(r)||(G("SyncEngine","New document in limbo: "+n),t.Ma.add(r),qp(t))}function qp(t){for(;t.Ma.size>0&&t.xa.size<t.maxConcurrentLimboResolutions;){const e=t.Ma.values().next().value;t.Ma.delete(e);const n=new Y(De.fromString(e)),r=t.ka.next();t.Oa.set(r,new jN(n)),t.xa=t.xa.insert(n,r),cT(t.remoteStore,new mr(Nn(O1(n.path)),r,"TargetPurposeLimboResolution",Pp.oe))}}async function _a(t,e,n){const r=re(t),i=[],s=[],o=[];r.va.isEmpty()||(r.va.forEach((l,u)=>{o.push(r.Qa(u,e,n).then(c=>{var h;if((c||n)&&r.isPrimaryClient){const m=c?!c.fromCache:(h=n==null?void 0:n.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,m?"current":"not-current")}if(c){i.push(c);const m=Fp.Ui(u.targetId,c);s.push(m)}}))}),await Promise.all(o),r.Ca.E_(i),await async function(u,c){const h=re(u);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>b.forEach(c,d=>b.forEach(d.Ki,v=>h.persistence.referenceDelegate.addReference(m,d.targetId,v)).next(()=>b.forEach(d.$i,v=>h.persistence.referenceDelegate.removeReference(m,d.targetId,v)))))}catch(m){if(!pa(m))throw m;G("LocalStore","Failed to update sequence numbers: "+m)}for(const m of c){const d=m.targetId;if(!m.fromCache){const v=h.ss.get(d),P=v.snapshotVersion,k=v.withLastLimboFreeSnapshotVersion(P);h.ss=h.ss.insert(d,k)}}}(r.localStore,s))}async function ZN(t,e){const n=re(t);if(!n.currentUser.isEqual(e)){G("SyncEngine","User change. New user:",e.toKey());const r=await oT(n.localStore,e);n.currentUser=e,function(s,o){s.Ba.forEach(l=>{l.forEach(u=>{u.reject(new K(M.CANCELLED,o))})}),s.Ba.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await _a(n,r.ls)}}function eL(t,e){const n=re(t),r=n.Oa.get(e);if(r&&r.Da)return ae().add(r.key);{let i=ae();const s=n.Fa.get(e);if(!s)return i;for(const o of s){const l=n.va.get(o);i=i.unionWith(l.view.Ra)}return i}}function ST(t){const e=re(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=_T.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=eL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=QN.bind(null,e),e.Ca.E_=MN.bind(null,e.eventManager),e.Ca.Ka=bN.bind(null,e.eventManager),e}function tL(t){const e=re(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=YN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=XN.bind(null,e),e}class i_{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Ju(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return iN(this.persistence,new nN,e.initialUser,this.serializer)}createPersistence(e){return new Z2(bp.Yr,this.serializer)}createSharedClientState(e){return new hN}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class nL{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>n_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=ZN.bind(null,this.syncEngine),await VN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new NN}()}createDatastore(e){const n=Ju(e.databaseInfo.databaseId),r=function(s){return new mN(s)}(e.databaseInfo);return function(s,o,l,u){return new vN(s,o,l,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,l){return new wN(r,i,s,o,l)}(this.localStore,this.datastore,e.asyncQueue,n=>n_(this.syncEngine,n,0),function(){return Xv.D()?new Xv:new fN}())}createSyncEngine(e,n){return function(i,s,o,l,u,c,h){const m=new zN(i,s,o,l,u,c);return h&&(m.qa=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=re(i);G("RemoteStore","RemoteStore shutting down."),s.N_.add(5),await va(s),s.B_.shutdown(),s.k_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rL{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Wa(this.observer.next,e)}error(e){this.observer.error?this.Wa(this.observer.error,e):er("Uncaught Error in snapshot listener:",e.toString())}Ga(){this.muted=!0}Wa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iL{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=wt.UNAUTHENTICATED,this.clientId=I1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{G("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(G("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new K(M.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new xr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Hp(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function mh(t,e){t.asyncQueue.verifyOperationInProgress(),G("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await oT(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function s_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await oL(t);G("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Jv(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>Jv(e.remoteStore,i)),t._onlineComponents=e}function sL(t){return t.name==="FirebaseError"?t.code===M.FAILED_PRECONDITION||t.code===M.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function oL(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){G("FirestoreClient","Using user provided OfflineComponentProvider");try{await mh(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!sL(n))throw n;ds("Error using user provided cache. Falling back to memory cache: "+n),await mh(t,new i_)}}else G("FirestoreClient","Using default OfflineComponentProvider"),await mh(t,new i_);return t._offlineComponents}async function AT(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(G("FirestoreClient","Using user provided OnlineComponentProvider"),await s_(t,t._uninitializedComponentsProvider._online)):(G("FirestoreClient","Using default OnlineComponentProvider"),await s_(t,new nL))),t._onlineComponents}function aL(t){return AT(t).then(e=>e.syncEngine)}async function lL(t){const e=await AT(t),n=e.eventManager;return n.onListen=$N.bind(null,e.syncEngine),n.onUnlisten=qN.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=HN.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=KN.bind(null,e.syncEngine),n}function uL(t,e,n={}){const r=new xr;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,l,u,c){const h=new rL({next:d=>{o.enqueueAndForget(()=>ON(s,m)),d.fromCache&&u.source==="server"?c.reject(new K(M.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(d)},error:d=>c.reject(d)}),m=new FN(l,h,{includeMetadataChanges:!0,oa:!0});return LN(s,m)}(await lL(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IT(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PT(t,e,n){if(!n)throw new K(M.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function cL(t,e,n,r){if(e===!0&&r===!0)throw new K(M.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function a_(t){if(!Y.isDocumentKey(t))throw new K(M.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function l_(t){if(Y.isDocumentKey(t))throw new K(M.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function tc(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":te()}function vi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new K(M.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=tc(t);throw new K(M.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u_{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new K(M.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new K(M.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}cL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=IT((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new K(M.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new K(M.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new K(M.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class nc{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new u_({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new K(M.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new K(M.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new u_(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new SD;switch(r.type){case"firstParty":return new CD(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new K(M.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=o_.get(n);r&&(G("ComponentProvider","Removing Datastore"),o_.delete(n),r.terminate())}(this),Promise.resolve()}}function hL(t,e,n,r={}){var i;const s=(t=vi(t,nc))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&ds("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let l,u;if(typeof r.mockUserToken=="string")l=r.mockUserToken,u=wt.MOCK_USER;else{l=r1(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new K(M.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new wt(c)}t._authCredentials=new AD(new A1(l,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ps(this.firestore,e,this._query)}}class Qt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new kr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Qt(this.firestore,e,this._key)}}class kr extends Ps{constructor(e,n,r){super(e,n,O1(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Qt(this.firestore,null,new Y(e))}withConverter(e){return new kr(this.firestore,e,this._path)}}function Js(t,e,...n){if(t=On(t),PT("collection","path",e),t instanceof nc){const r=De.fromString(e,...n);return l_(r),new kr(t,null,r)}{if(!(t instanceof Qt||t instanceof kr))throw new K(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(De.fromString(e,...n));return l_(r),new kr(t.firestore,null,r)}}function ia(t,e,...n){if(t=On(t),arguments.length===1&&(e=I1.newId()),PT("doc","path",e),t instanceof nc){const r=De.fromString(e,...n);return a_(r),new Qt(t,null,new Y(r))}{if(!(t instanceof Qt||t instanceof kr))throw new K(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(De.fromString(e,...n));return a_(r),new Qt(t.firestore,t instanceof kr?t.converter:null,new Y(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fL{constructor(){this._u=Promise.resolve(),this.au=[],this.uu=!1,this.cu=[],this.lu=null,this.hu=!1,this.Pu=!1,this.Iu=[],this.e_=new lT(this,"async_queue_retry"),this.Tu=()=>{const n=ph();n&&G("AsyncQueue","Visibility state changed to "+n.visibilityState),this.e_.zo()};const e=ph();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Tu)}get isShuttingDown(){return this.uu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Eu(),this.du(e)}enterRestrictedMode(e){if(!this.uu){this.uu=!0,this.Pu=e||!1;const n=ph();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Tu)}}enqueue(e){if(this.Eu(),this.uu)return new Promise(()=>{});const n=new xr;return this.du(()=>this.uu&&this.Pu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.au.push(e),this.Au()))}async Au(){if(this.au.length!==0){try{await this.au[0](),this.au.shift(),this.e_.reset()}catch(e){if(!pa(e))throw e;G("AsyncQueue","Operation failed with retryable error: "+e)}this.au.length>0&&this.e_.Wo(()=>this.Au())}}du(e){const n=this._u.then(()=>(this.hu=!0,e().catch(r=>{this.lu=r,this.hu=!1;const i=function(o){let l=o.message||"";return o.stack&&(l=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),l}(r);throw er("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.hu=!1,r))));return this._u=n,n}enqueueAfterDelay(e,n,r){this.Eu(),this.Iu.indexOf(e)>-1&&(n=0);const i=$p.createAndSchedule(this,e,n,r,s=>this.Ru(s));return this.cu.push(i),i}Eu(){this.lu&&te()}verifyOperationInProgress(){}async Vu(){let e;do e=this._u,await e;while(e!==this._u)}mu(e){for(const n of this.cu)if(n.timerId===e)return!0;return!1}fu(e){return this.Vu().then(()=>{this.cu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.cu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Vu()})}gu(e){this.Iu.push(e)}Ru(e){const n=this.cu.indexOf(e);this.cu.splice(n,1)}}class wa extends nc{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new fL}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||RT(this),this._firestoreClient.terminate()}}function dL(t,e){const n=typeof t=="object"?t:h1(),r=typeof t=="string"?t:e||"(default)",i=l1(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=t1("firestore");s&&hL(i,...s)}return i}function CT(t){return t._firestoreClient||RT(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function RT(t){var e,n,r;const i=t._freezeSettings(),s=function(l,u,c,h){return new BD(l,u,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,IT(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new iL(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(e){this._byteString=e}static fromBase64String(e){try{return new _s(dt.fromBase64String(e))}catch(n){throw new K(M.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new _s(dt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new K(M.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ut(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new K(M.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new K(M.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ge(this._lat,e._lat)||ge(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pL=/^__.*__$/;class mL{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new zr(e,this.data,this.fieldMask,n,this.fieldTransforms):new ga(e,this.data,n,this.fieldTransforms)}}class xT{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new zr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function kT(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw te()}}class Qp{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.pu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get yu(){return this.settings.yu}wu(e){return new Qp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Su(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.wu({path:r,bu:!1});return i.Du(e),i}Cu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.wu({path:r,bu:!1});return i.pu(),i}vu(e){return this.wu({path:void 0,bu:!0})}Fu(e){return yu(e,this.settings.methodName,this.settings.Mu||!1,this.path,this.settings.xu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Du(this.path.get(e))}Du(e){if(e.length===0)throw this.Fu("Document fields must not be empty");if(kT(this.yu)&&pL.test(e))throw this.Fu('Document fields cannot begin and end with "__"')}}class gL{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Ju(e)}Ou(e,n,r,i=!1){return new Qp({yu:e,methodName:n,xu:r,path:ut.emptyPath(),bu:!1,Mu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Yp(t){const e=t._freezeSettings(),n=Ju(t._databaseId);return new gL(t._databaseId,!!e.ignoreUndefinedProperties,n)}function yL(t,e,n,r,i,s={}){const o=t.Ou(s.merge||s.mergeFields?2:0,e,n,i);Xp("Data must be an object, but it was:",o,r);const l=VT(r,o);let u,c;if(s.merge)u=new Kt(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const h=[];for(const m of s.mergeFields){const d=Jf(e,m,n);if(!o.contains(d))throw new K(M.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);NT(h,d)||h.push(d)}u=new Kt(h),c=o.fieldTransforms.filter(m=>u.covers(m.field))}else u=null,c=o.fieldTransforms;return new mL(new Mt(l),u,c)}class ic extends Kp{_toFieldTransform(e){if(e.yu!==2)throw e.yu===1?e.Fu(`${this._methodName}() can only appear at the top level of your update data`):e.Fu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ic}}function vL(t,e,n,r){const i=t.Ou(1,e,n);Xp("Data must be an object, but it was:",i,r);const s=[],o=Mt.empty();Ai(r,(u,c)=>{const h=Jp(e,u,n);c=On(c);const m=i.Cu(h);if(c instanceof ic)s.push(h);else{const d=Ea(c,m);d!=null&&(s.push(h),o.set(h,d))}});const l=new Kt(s);return new xT(o,l,i.fieldTransforms)}function _L(t,e,n,r,i,s){const o=t.Ou(1,e,n),l=[Jf(e,r,n)],u=[i];if(s.length%2!=0)throw new K(M.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<s.length;d+=2)l.push(Jf(e,s[d])),u.push(s[d+1]);const c=[],h=Mt.empty();for(let d=l.length-1;d>=0;--d)if(!NT(c,l[d])){const v=l[d];let P=u[d];P=On(P);const k=o.Cu(v);if(P instanceof ic)c.push(v);else{const V=Ea(P,k);V!=null&&(c.push(v),h.set(v,V))}}const m=new Kt(c);return new xT(h,m,o.fieldTransforms)}function wL(t,e,n,r=!1){return Ea(n,t.Ou(r?4:3,e))}function Ea(t,e){if(DT(t=On(t)))return Xp("Unsupported field value:",e,t),VT(t,e);if(t instanceof Kp)return function(r,i){if(!kT(i.yu))throw i.Fu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Fu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.bu&&e.yu!==4)throw e.Fu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const l of r){let u=Ea(l,i.vu(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=On(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return a2(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=nt.fromDate(r);return{timestampValue:mu(i.serializer,s)}}if(r instanceof nt){const s=new nt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:mu(i.serializer,s)}}if(r instanceof Gp)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof _s)return{bytesValue:Z1(i.serializer,r._byteString)};if(r instanceof Qt){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Fu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Op(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Fu(`Unsupported field value: ${tc(r)}`)}(t,e)}function VT(t,e){const n={};return P1(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ai(t,(r,i)=>{const s=Ea(i,e.Su(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function DT(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof nt||t instanceof Gp||t instanceof _s||t instanceof Qt||t instanceof Kp)}function Xp(t,e,n){if(!DT(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=tc(n);throw r==="an object"?e.Fu(t+" a custom object"):e.Fu(t+" "+r)}}function Jf(t,e,n){if((e=On(e))instanceof rc)return e._internalPath;if(typeof e=="string")return Jp(t,e);throw yu("Field path arguments must be of type string or ",t,!1,void 0,n)}const EL=new RegExp("[~\\*/\\[\\]]");function Jp(t,e,n){if(e.search(EL)>=0)throw yu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new rc(...e.split("."))._internalPath}catch{throw yu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function yu(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new K(M.INVALID_ARGUMENT,l+t+u)}function NT(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Qt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new TL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Zp("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class TL extends LT{data(){return super.data()}}function Zp(t,e){return typeof e=="string"?Jp(t,e):e instanceof rc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SL(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new K(M.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class em{}class AL extends em{}function c_(t,e,...n){let r=[];e instanceof em&&r.push(e),r=r.concat(n),function(s){const o=s.filter(u=>u instanceof tm).length,l=s.filter(u=>u instanceof sc).length;if(o>1||o>0&&l>0)throw new K(M.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class sc extends AL{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new sc(e,n,r)}_apply(e){const n=this._parse(e);return OT(e._query,n),new Ps(e.firestore,e.converter,$f(e._query,n))}_parse(e){const n=Yp(e.firestore);return function(s,o,l,u,c,h,m){let d;if(c.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new K(M.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){f_(m,h);const v=[];for(const P of m)v.push(h_(u,s,P));d={arrayValue:{values:v}}}else d=h_(u,s,m)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||f_(m,h),d=wL(l,o,m,h==="in"||h==="not-in");return Ze.create(c,h,d)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function IL(t,e,n){const r=e,i=Zp("where",t);return sc._create(i,r,n)}class tm extends em{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new tm(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Sn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const l=s.getFlattenedFilters();for(const u of l)OT(o,u),o=$f(o,u)}(e._query,n),new Ps(e.firestore,e.converter,$f(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function h_(t,e,n){if(typeof(n=On(n))=="string"){if(n==="")throw new K(M.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!M1(e)&&n.indexOf("/")!==-1)throw new K(M.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(De.fromString(n));if(!Y.isDocumentKey(r))throw new K(M.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Dv(t,new Y(r))}if(n instanceof Qt)return Dv(t,n._key);throw new K(M.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${tc(n)}.`)}function f_(t,e){if(!Array.isArray(t)||t.length===0)throw new K(M.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function OT(t,e){const n=function(i,s){for(const o of i)for(const l of o.getFlattenedFilters())if(s.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new K(M.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new K(M.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class PL{convertValue(e,n="none"){switch(yi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Xe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(gi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw te()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ai(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new Gp(Xe(e.latitude),Xe(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Rp(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Zo(e));default:return null}}convertTimestamp(e){const n=Mr(e);return new nt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=De.fromString(e);Ae(sT(r));const i=new ea(r.get(1),r.get(3)),s=new Y(r.popFirst(5));return i.isEqual(n)||er(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CL(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class RL extends LT{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Pl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Zp("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Pl extends RL{data(e={}){return super.data(e)}}class xL{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new al(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Pl(this._firestore,this._userDataWriter,r.key,r,new al(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new K(M.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(l=>{const u=new Pl(i._firestore,i._userDataWriter,l.doc.key,l.doc,new al(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>s||l.type!==3).map(l=>{const u=new Pl(i._firestore,i._userDataWriter,l.doc.key,l.doc,new al(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,h=-1;return l.type!==0&&(c=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),h=o.indexOf(l.doc.key)),{type:kL(l.type),doc:u,oldIndex:c,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function kL(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return te()}}class VL extends PL{constructor(e){super(),this.firestore=e}convertBytes(e){return new _s(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Qt(this.firestore,null,n)}}function d_(t){t=vi(t,Ps);const e=vi(t.firestore,wa),n=CT(e),r=new VL(e);return SL(t._query),uL(n,t._query).then(i=>new xL(e,r,t,i))}function Zf(t,e,n,...r){t=vi(t,Qt);const i=vi(t.firestore,wa),s=Yp(i);let o;return o=typeof(e=On(e))=="string"||e instanceof rc?_L(s,"updateDoc",t._key,e,n,r):vL(s,"updateDoc",t._key,e),nm(i,[o.toMutation(t._key,En.exists(!0))])}function DL(t){return nm(vi(t.firestore,wa),[new Dp(t._key,En.none())])}function p_(t,e){const n=vi(t.firestore,wa),r=ia(t),i=CL(t.converter,e);return nm(n,[yL(Yp(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,En.exists(!1))]).then(()=>r)}function nm(t,e){return function(r,i){const s=new xr;return r.asyncQueue.enqueueAndForget(async()=>GN(await aL(r),i,s)),s.promise}(CT(t),e)}(function(e,n=!0){(function(i){Ss=i})(u1),Yo(new fs("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),l=new wa(new ID(r.getProvider("auth-internal")),new xD(r.getProvider("app-check-internal")),function(c,h){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new K(M.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ea(c.options.projectId,h)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),Rr(Rv,"4.6.5",e),Rr(Rv,"4.6.5","esm2017")})();const NL={apiKey:"AIzaSyA8r6x1n156WyZTmh4sfLJ_hpkPxoRMKxI",authDomain:"tracking-site-platform.firebaseapp.com",projectId:"tracking-site-platform",storageBucket:"tracking-site-platform.appspot.com",messagingSenderId:"476683781382",appId:"1:476683781382:web:08a195a36cf68f65a48a87"},LL=c1(NL);_D();const zn=dL(LL);var MT={exports:{}};/* @license
Papa Parse
v5.4.1
https://github.com/mholt/PapaParse
License: MIT
*/(function(t,e){(function(n,r){t.exports=r()})(Vi,function n(){var r=typeof self<"u"?self:typeof window<"u"?window:r!==void 0?r:{},i=!r.document&&!!r.postMessage,s=r.IS_PAPA_WORKER||!1,o={},l=0,u={parse:function(g,y){var w=(y=y||{}).dynamicTyping||!1;if(T(w)&&(y.dynamicTypingFunction=w,w={}),y.dynamicTyping=w,y.transform=!!T(y.transform)&&y.transform,y.worker&&u.WORKERS_SUPPORTED){var C=function(){if(!u.WORKERS_SUPPORTED)return!1;var A=(ie=r.URL||r.webkitURL||null,se=n.toString(),u.BLOB_URL||(u.BLOB_URL=ie.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",se,")();"],{type:"text/javascript"})))),Q=new r.Worker(A),ie,se;return Q.onmessage=E,Q.id=l++,o[Q.id]=Q}();return C.userStep=y.step,C.userChunk=y.chunk,C.userComplete=y.complete,C.userError=y.error,y.step=T(y.step),y.chunk=T(y.chunk),y.complete=T(y.complete),y.error=T(y.error),delete y.worker,void C.postMessage({input:g,config:y,workerId:C.id})}var x=null;return u.NODE_STREAM_INPUT,typeof g=="string"?(g=function(A){return A.charCodeAt(0)===65279?A.slice(1):A}(g),x=y.download?new m(y):new v(y)):g.readable===!0&&T(g.read)&&T(g.on)?x=new P(y):(r.File&&g instanceof File||g instanceof Object)&&(x=new d(y)),x.stream(g)},unparse:function(g,y){var w=!1,C=!0,x=",",A=`\r
`,Q='"',ie=Q+Q,se=!1,W=null,F=!1;(function(){if(typeof y=="object"){if(typeof y.delimiter!="string"||u.BAD_DELIMITERS.filter(function(j){return y.delimiter.indexOf(j)!==-1}).length||(x=y.delimiter),(typeof y.quotes=="boolean"||typeof y.quotes=="function"||Array.isArray(y.quotes))&&(w=y.quotes),typeof y.skipEmptyLines!="boolean"&&typeof y.skipEmptyLines!="string"||(se=y.skipEmptyLines),typeof y.newline=="string"&&(A=y.newline),typeof y.quoteChar=="string"&&(Q=y.quoteChar),typeof y.header=="boolean"&&(C=y.header),Array.isArray(y.columns)){if(y.columns.length===0)throw new Error("Option columns is empty");W=y.columns}y.escapeChar!==void 0&&(ie=y.escapeChar+Q),(typeof y.escapeFormulae=="boolean"||y.escapeFormulae instanceof RegExp)&&(F=y.escapeFormulae instanceof RegExp?y.escapeFormulae:/^[=+\-@\t\r].*$/)}})();var U=new RegExp(V(Q),"g");if(typeof g=="string"&&(g=JSON.parse(g)),Array.isArray(g)){if(!g.length||Array.isArray(g[0]))return X(null,g,se);if(typeof g[0]=="object")return X(W||Object.keys(g[0]),g,se)}else if(typeof g=="object")return typeof g.data=="string"&&(g.data=JSON.parse(g.data)),Array.isArray(g.data)&&(g.fields||(g.fields=g.meta&&g.meta.fields||W),g.fields||(g.fields=Array.isArray(g.data[0])?g.fields:typeof g.data[0]=="object"?Object.keys(g.data[0]):[]),Array.isArray(g.data[0])||typeof g.data[0]=="object"||(g.data=[g.data])),X(g.fields||[],g.data||[],se);throw new Error("Unable to serialize unrecognized input");function X(j,ee,Ie){var de="";typeof j=="string"&&(j=JSON.parse(j)),typeof ee=="string"&&(ee=JSON.parse(ee));var Te=Array.isArray(j)&&0<j.length,ve=!Array.isArray(ee[0]);if(Te&&C){for(var Ke=0;Ke<j.length;Ke++)0<Ke&&(de+=x),de+=oe(j[Ke],Ke);0<ee.length&&(de+=A)}for(var J=0;J<ee.length;J++){var ue=Te?j.length:ee[J].length,we=!1,Oe=Te?Object.keys(ee[J]).length===0:ee[J].length===0;if(Ie&&!Te&&(we=Ie==="greedy"?ee[J].join("").trim()==="":ee[J].length===1&&ee[J][0].length===0),Ie==="greedy"&&Te){for(var ye=[],Ge=0;Ge<ue;Ge++){var xe=ve?j[Ge]:Ge;ye.push(ee[J][xe])}we=ye.join("").trim()===""}if(!we){for(var Ee=0;Ee<ue;Ee++){0<Ee&&!Oe&&(de+=x);var Dt=Te&&ve?j[Ee]:Ee;de+=oe(ee[J][Dt],Ee)}J<ee.length-1&&(!Ie||0<ue&&!Oe)&&(de+=A)}}return de}function oe(j,ee){if(j==null)return"";if(j.constructor===Date)return JSON.stringify(j).slice(1,25);var Ie=!1;F&&typeof j=="string"&&F.test(j)&&(j="'"+j,Ie=!0);var de=j.toString().replace(U,ie);return(Ie=Ie||w===!0||typeof w=="function"&&w(j,ee)||Array.isArray(w)&&w[ee]||function(Te,ve){for(var Ke=0;Ke<ve.length;Ke++)if(-1<Te.indexOf(ve[Ke]))return!0;return!1}(de,u.BAD_DELIMITERS)||-1<de.indexOf(x)||de.charAt(0)===" "||de.charAt(de.length-1)===" ")?Q+de+Q:de}}};if(u.RECORD_SEP=String.fromCharCode(30),u.UNIT_SEP=String.fromCharCode(31),u.BYTE_ORDER_MARK="\uFEFF",u.BAD_DELIMITERS=["\r",`
`,'"',u.BYTE_ORDER_MARK],u.WORKERS_SUPPORTED=!i&&!!r.Worker,u.NODE_STREAM_INPUT=1,u.LocalChunkSize=10485760,u.RemoteChunkSize=5242880,u.DefaultDelimiter=",",u.Parser=S,u.ParserHandle=k,u.NetworkStreamer=m,u.FileStreamer=d,u.StringStreamer=v,u.ReadableStreamStreamer=P,r.jQuery){var c=r.jQuery;c.fn.parse=function(g){var y=g.config||{},w=[];return this.each(function(A){if(!(c(this).prop("tagName").toUpperCase()==="INPUT"&&c(this).attr("type").toLowerCase()==="file"&&r.FileReader)||!this.files||this.files.length===0)return!0;for(var Q=0;Q<this.files.length;Q++)w.push({file:this.files[Q],inputElem:this,instanceConfig:c.extend({},y)})}),C(),this;function C(){if(w.length!==0){var A,Q,ie,se,W=w[0];if(T(g.before)){var F=g.before(W.file,W.inputElem);if(typeof F=="object"){if(F.action==="abort")return A="AbortError",Q=W.file,ie=W.inputElem,se=F.reason,void(T(g.error)&&g.error({name:A},Q,ie,se));if(F.action==="skip")return void x();typeof F.config=="object"&&(W.instanceConfig=c.extend(W.instanceConfig,F.config))}else if(F==="skip")return void x()}var U=W.instanceConfig.complete;W.instanceConfig.complete=function(X){T(U)&&U(X,W.file,W.inputElem),x()},u.parse(W.file,W.instanceConfig)}else T(g.complete)&&g.complete()}function x(){w.splice(0,1),C()}}}function h(g){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(y){var w=L(y);w.chunkSize=parseInt(w.chunkSize),y.step||y.chunk||(w.chunkSize=null),this._handle=new k(w),(this._handle.streamer=this)._config=w}.call(this,g),this.parseChunk=function(y,w){if(this.isFirstChunk&&T(this._config.beforeFirstChunk)){var C=this._config.beforeFirstChunk(y);C!==void 0&&(y=C)}this.isFirstChunk=!1,this._halted=!1;var x=this._partialLine+y;this._partialLine="";var A=this._handle.parse(x,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var Q=A.meta.cursor;this._finished||(this._partialLine=x.substring(Q-this._baseIndex),this._baseIndex=Q),A&&A.data&&(this._rowCount+=A.data.length);var ie=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(s)r.postMessage({results:A,workerId:u.WORKER_ID,finished:ie});else if(T(this._config.chunk)&&!w){if(this._config.chunk(A,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);A=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(A.data),this._completeResults.errors=this._completeResults.errors.concat(A.errors),this._completeResults.meta=A.meta),this._completed||!ie||!T(this._config.complete)||A&&A.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),ie||A&&A.meta.paused||this._nextChunk(),A}this._halted=!0},this._sendError=function(y){T(this._config.error)?this._config.error(y):s&&this._config.error&&r.postMessage({workerId:u.WORKER_ID,error:y,finished:!1})}}function m(g){var y;(g=g||{}).chunkSize||(g.chunkSize=u.RemoteChunkSize),h.call(this,g),this._nextChunk=i?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(w){this._input=w,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(y=new XMLHttpRequest,this._config.withCredentials&&(y.withCredentials=this._config.withCredentials),i||(y.onload=O(this._chunkLoaded,this),y.onerror=O(this._chunkError,this)),y.open(this._config.downloadRequestBody?"POST":"GET",this._input,!i),this._config.downloadRequestHeaders){var w=this._config.downloadRequestHeaders;for(var C in w)y.setRequestHeader(C,w[C])}if(this._config.chunkSize){var x=this._start+this._config.chunkSize-1;y.setRequestHeader("Range","bytes="+this._start+"-"+x)}try{y.send(this._config.downloadRequestBody)}catch(A){this._chunkError(A.message)}i&&y.status===0&&this._chunkError()}},this._chunkLoaded=function(){y.readyState===4&&(y.status<200||400<=y.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:y.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(w){var C=w.getResponseHeader("Content-Range");return C===null?-1:parseInt(C.substring(C.lastIndexOf("/")+1))}(y),this.parseChunk(y.responseText)))},this._chunkError=function(w){var C=y.statusText||w;this._sendError(new Error(C))}}function d(g){var y,w;(g=g||{}).chunkSize||(g.chunkSize=u.LocalChunkSize),h.call(this,g);var C=typeof FileReader<"u";this.stream=function(x){this._input=x,w=x.slice||x.webkitSlice||x.mozSlice,C?((y=new FileReader).onload=O(this._chunkLoaded,this),y.onerror=O(this._chunkError,this)):y=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var x=this._input;if(this._config.chunkSize){var A=Math.min(this._start+this._config.chunkSize,this._input.size);x=w.call(x,this._start,A)}var Q=y.readAsText(x,this._config.encoding);C||this._chunkLoaded({target:{result:Q}})},this._chunkLoaded=function(x){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(x.target.result)},this._chunkError=function(){this._sendError(y.error)}}function v(g){var y;h.call(this,g=g||{}),this.stream=function(w){return y=w,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var w,C=this._config.chunkSize;return C?(w=y.substring(0,C),y=y.substring(C)):(w=y,y=""),this._finished=!y,this.parseChunk(w)}}}function P(g){h.call(this,g=g||{});var y=[],w=!0,C=!1;this.pause=function(){h.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){h.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(x){this._input=x,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){C&&y.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),y.length?this.parseChunk(y.shift()):w=!0},this._streamData=O(function(x){try{y.push(typeof x=="string"?x:x.toString(this._config.encoding)),w&&(w=!1,this._checkIsFinished(),this.parseChunk(y.shift()))}catch(A){this._streamError(A)}},this),this._streamError=O(function(x){this._streamCleanUp(),this._sendError(x)},this),this._streamEnd=O(function(){this._streamCleanUp(),C=!0,this._streamData("")},this),this._streamCleanUp=O(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function k(g){var y,w,C,x=Math.pow(2,53),A=-x,Q=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,ie=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,se=this,W=0,F=0,U=!1,X=!1,oe=[],j={data:[],errors:[],meta:{}};if(T(g.step)){var ee=g.step;g.step=function(J){if(j=J,Te())de();else{if(de(),j.data.length===0)return;W+=J.data.length,g.preview&&W>g.preview?w.abort():(j.data=j.data[0],ee(j,se))}}}function Ie(J){return g.skipEmptyLines==="greedy"?J.join("").trim()==="":J.length===1&&J[0].length===0}function de(){return j&&C&&(Ke("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+u.DefaultDelimiter+"'"),C=!1),g.skipEmptyLines&&(j.data=j.data.filter(function(J){return!Ie(J)})),Te()&&function(){if(!j)return;function J(we,Oe){T(g.transformHeader)&&(we=g.transformHeader(we,Oe)),oe.push(we)}if(Array.isArray(j.data[0])){for(var ue=0;Te()&&ue<j.data.length;ue++)j.data[ue].forEach(J);j.data.splice(0,1)}else j.data.forEach(J)}(),function(){if(!j||!g.header&&!g.dynamicTyping&&!g.transform)return j;function J(we,Oe){var ye,Ge=g.header?{}:[];for(ye=0;ye<we.length;ye++){var xe=ye,Ee=we[ye];g.header&&(xe=ye>=oe.length?"__parsed_extra":oe[ye]),g.transform&&(Ee=g.transform(Ee,xe)),Ee=ve(xe,Ee),xe==="__parsed_extra"?(Ge[xe]=Ge[xe]||[],Ge[xe].push(Ee)):Ge[xe]=Ee}return g.header&&(ye>oe.length?Ke("FieldMismatch","TooManyFields","Too many fields: expected "+oe.length+" fields but parsed "+ye,F+Oe):ye<oe.length&&Ke("FieldMismatch","TooFewFields","Too few fields: expected "+oe.length+" fields but parsed "+ye,F+Oe)),Ge}var ue=1;return!j.data.length||Array.isArray(j.data[0])?(j.data=j.data.map(J),ue=j.data.length):j.data=J(j.data,0),g.header&&j.meta&&(j.meta.fields=oe),F+=ue,j}()}function Te(){return g.header&&oe.length===0}function ve(J,ue){return we=J,g.dynamicTypingFunction&&g.dynamicTyping[we]===void 0&&(g.dynamicTyping[we]=g.dynamicTypingFunction(we)),(g.dynamicTyping[we]||g.dynamicTyping)===!0?ue==="true"||ue==="TRUE"||ue!=="false"&&ue!=="FALSE"&&(function(Oe){if(Q.test(Oe)){var ye=parseFloat(Oe);if(A<ye&&ye<x)return!0}return!1}(ue)?parseFloat(ue):ie.test(ue)?new Date(ue):ue===""?null:ue):ue;var we}function Ke(J,ue,we,Oe){var ye={type:J,code:ue,message:we};Oe!==void 0&&(ye.row=Oe),j.errors.push(ye)}this.parse=function(J,ue,we){var Oe=g.quoteChar||'"';if(g.newline||(g.newline=function(xe,Ee){xe=xe.substring(0,1048576);var Dt=new RegExp(V(Ee)+"([^]*?)"+V(Ee),"gm"),Nt=(xe=xe.replace(Dt,"")).split("\r"),zt=xe.split(`
`),en=1<zt.length&&zt[0].length<Nt[0].length;if(Nt.length===1||en)return`
`;for(var pt=0,Pe=0;Pe<Nt.length;Pe++)Nt[Pe][0]===`
`&&pt++;return pt>=Nt.length/2?`\r
`:"\r"}(J,Oe)),C=!1,g.delimiter)T(g.delimiter)&&(g.delimiter=g.delimiter(J),j.meta.delimiter=g.delimiter);else{var ye=function(xe,Ee,Dt,Nt,zt){var en,pt,Pe,ze;zt=zt||[",","	","|",";",u.RECORD_SEP,u.UNIT_SEP];for(var cn=0;cn<zt.length;cn++){var me=zt[cn],An=0,Ce=0,Me=0;Pe=void 0;for(var $t=new S({comments:Nt,delimiter:me,newline:Ee,preview:10}).parse(xe),hn=0;hn<$t.data.length;hn++)if(Dt&&Ie($t.data[hn]))Me++;else{var fn=$t.data[hn].length;Ce+=fn,Pe!==void 0?0<fn&&(An+=Math.abs(fn-Pe),Pe=fn):Pe=fn}0<$t.data.length&&(Ce/=$t.data.length-Me),(pt===void 0||An<=pt)&&(ze===void 0||ze<Ce)&&1.99<Ce&&(pt=An,en=me,ze=Ce)}return{successful:!!(g.delimiter=en),bestDelimiter:en}}(J,g.newline,g.skipEmptyLines,g.comments,g.delimitersToGuess);ye.successful?g.delimiter=ye.bestDelimiter:(C=!0,g.delimiter=u.DefaultDelimiter),j.meta.delimiter=g.delimiter}var Ge=L(g);return g.preview&&g.header&&Ge.preview++,y=J,w=new S(Ge),j=w.parse(y,ue,we),de(),U?{meta:{paused:!0}}:j||{meta:{paused:!1}}},this.paused=function(){return U},this.pause=function(){U=!0,w.abort(),y=T(g.chunk)?"":y.substring(w.getCharIndex())},this.resume=function(){se.streamer._halted?(U=!1,se.streamer.parseChunk(y,!0)):setTimeout(se.resume,3)},this.aborted=function(){return X},this.abort=function(){X=!0,w.abort(),j.meta.aborted=!0,T(g.complete)&&g.complete(j),y=""}}function V(g){return g.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function S(g){var y,w=(g=g||{}).delimiter,C=g.newline,x=g.comments,A=g.step,Q=g.preview,ie=g.fastMode,se=y=g.quoteChar===void 0||g.quoteChar===null?'"':g.quoteChar;if(g.escapeChar!==void 0&&(se=g.escapeChar),(typeof w!="string"||-1<u.BAD_DELIMITERS.indexOf(w))&&(w=","),x===w)throw new Error("Comment character same as delimiter");x===!0?x="#":(typeof x!="string"||-1<u.BAD_DELIMITERS.indexOf(x))&&(x=!1),C!==`
`&&C!=="\r"&&C!==`\r
`&&(C=`
`);var W=0,F=!1;this.parse=function(U,X,oe){if(typeof U!="string")throw new Error("Input must be a string");var j=U.length,ee=w.length,Ie=C.length,de=x.length,Te=T(A),ve=[],Ke=[],J=[],ue=W=0;if(!U)return Lt();if(g.header&&!X){var we=U.split(C)[0].split(w),Oe=[],ye={},Ge=!1;for(var xe in we){var Ee=we[xe];T(g.transformHeader)&&(Ee=g.transformHeader(Ee,xe));var Dt=Ee,Nt=ye[Ee]||0;for(0<Nt&&(Ge=!0,Dt=Ee+"_"+Nt),ye[Ee]=Nt+1;Oe.includes(Dt);)Dt=Dt+"_"+Nt;Oe.push(Dt)}if(Ge){var zt=U.split(C);zt[0]=Oe.join(w),U=zt.join(C)}}if(ie||ie!==!1&&U.indexOf(y)===-1){for(var en=U.split(C),pt=0;pt<en.length;pt++){if(J=en[pt],W+=J.length,pt!==en.length-1)W+=C.length;else if(oe)return Lt();if(!x||J.substring(0,de)!==x){if(Te){if(ve=[],Me(J.split(w)),In(),F)return Lt()}else Me(J.split(w));if(Q&&Q<=pt)return ve=ve.slice(0,Q),Lt(!0)}}return Lt()}for(var Pe=U.indexOf(w,W),ze=U.indexOf(C,W),cn=new RegExp(V(se)+V(y),"g"),me=U.indexOf(y,W);;)if(U[W]!==y)if(x&&J.length===0&&U.substring(W,W+de)===x){if(ze===-1)return Lt();W=ze+Ie,ze=U.indexOf(C,W),Pe=U.indexOf(w,W)}else if(Pe!==-1&&(Pe<ze||ze===-1))J.push(U.substring(W,Pe)),W=Pe+ee,Pe=U.indexOf(w,W);else{if(ze===-1)break;if(J.push(U.substring(W,ze)),fn(ze+Ie),Te&&(In(),F))return Lt();if(Q&&ve.length>=Q)return Lt(!0)}else for(me=W,W++;;){if((me=U.indexOf(y,me+1))===-1)return oe||Ke.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:ve.length,index:W}),hn();if(me===j-1)return hn(U.substring(W,me).replace(cn,y));if(y!==se||U[me+1]!==se){if(y===se||me===0||U[me-1]!==se){Pe!==-1&&Pe<me+1&&(Pe=U.indexOf(w,me+1)),ze!==-1&&ze<me+1&&(ze=U.indexOf(C,me+1));var An=$t(ze===-1?Pe:Math.min(Pe,ze));if(U.substr(me+1+An,ee)===w){J.push(U.substring(W,me).replace(cn,y)),U[W=me+1+An+ee]!==y&&(me=U.indexOf(y,W)),Pe=U.indexOf(w,W),ze=U.indexOf(C,W);break}var Ce=$t(ze);if(U.substring(me+1+Ce,me+1+Ce+Ie)===C){if(J.push(U.substring(W,me).replace(cn,y)),fn(me+1+Ce+Ie),Pe=U.indexOf(w,W),me=U.indexOf(y,W),Te&&(In(),F))return Lt();if(Q&&ve.length>=Q)return Lt(!0);break}Ke.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:ve.length,index:W}),me++}}else me++}return hn();function Me(At){ve.push(At),ue=W}function $t(At){var Cs=0;if(At!==-1){var $r=U.substring(me+1,At);$r&&$r.trim()===""&&(Cs=$r.length)}return Cs}function hn(At){return oe||(At===void 0&&(At=U.substring(W)),J.push(At),W=j,Me(J),Te&&In()),Lt()}function fn(At){W=At,Me(J),J=[],ze=U.indexOf(C,W)}function Lt(At){return{data:ve,errors:Ke,meta:{delimiter:w,linebreak:C,aborted:F,truncated:!!At,cursor:ue+(X||0)}}}function In(){A(Lt()),ve=[],Ke=[]}},this.abort=function(){F=!0},this.getCharIndex=function(){return W}}function E(g){var y=g.data,w=o[y.workerId],C=!1;if(y.error)w.userError(y.error,y.file);else if(y.results&&y.results.data){var x={abort:function(){C=!0,I(y.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:R,resume:R};if(T(w.userStep)){for(var A=0;A<y.results.data.length&&(w.userStep({data:y.results.data[A],errors:y.results.errors,meta:y.results.meta},x),!C);A++);delete y.results}else T(w.userChunk)&&(w.userChunk(y.results,x,y.file),delete y.results)}y.finished&&!C&&I(y.workerId,y.results)}function I(g,y){var w=o[g];T(w.userComplete)&&w.userComplete(y),w.terminate(),delete o[g]}function R(){throw new Error("Not implemented.")}function L(g){if(typeof g!="object"||g===null)return g;var y=Array.isArray(g)?[]:{};for(var w in g)y[w]=L(g[w]);return y}function O(g,y){return function(){g.apply(y,arguments)}}function T(g){return typeof g=="function"}return s&&(r.onmessage=function(g){var y=g.data;if(u.WORKER_ID===void 0&&y&&(u.WORKER_ID=y.workerId),typeof y.input=="string")r.postMessage({workerId:u.WORKER_ID,results:u.parse(y.input,y.config),finished:!0});else if(r.File&&y.input instanceof File||y.input instanceof Object){var w=u.parse(y.input,y.config);w&&r.postMessage({workerId:u.WORKER_ID,results:w,finished:!0})}}),(m.prototype=Object.create(h.prototype)).constructor=m,(d.prototype=Object.create(h.prototype)).constructor=d,(v.prototype=Object.create(v.prototype)).constructor=v,(P.prototype=Object.create(h.prototype)).constructor=P,u})})(MT);var OL=MT.exports;const m_=v_(OL);var bT={exports:{}};(function(t,e){(function(n,r){r()})(Vi,function(){function n(c,h){return typeof h>"u"?h={autoBom:!1}:typeof h!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),h={autoBom:!h}),h.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(c.type)?new Blob(["\uFEFF",c],{type:c.type}):c}function r(c,h,m){var d=new XMLHttpRequest;d.open("GET",c),d.responseType="blob",d.onload=function(){u(d.response,h,m)},d.onerror=function(){console.error("could not download file")},d.send()}function i(c){var h=new XMLHttpRequest;h.open("HEAD",c,!1);try{h.send()}catch{}return 200<=h.status&&299>=h.status}function s(c){try{c.dispatchEvent(new MouseEvent("click"))}catch{var h=document.createEvent("MouseEvents");h.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),c.dispatchEvent(h)}}var o=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof Vi=="object"&&Vi.global===Vi?Vi:void 0,l=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),u=o.saveAs||(typeof window!="object"||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!l?function(c,h,m){var d=o.URL||o.webkitURL,v=document.createElement("a");h=h||c.name||"download",v.download=h,v.rel="noopener",typeof c=="string"?(v.href=c,v.origin===location.origin?s(v):i(v.href)?r(c,h,m):s(v,v.target="_blank")):(v.href=d.createObjectURL(c),setTimeout(function(){d.revokeObjectURL(v.href)},4e4),setTimeout(function(){s(v)},0))}:"msSaveOrOpenBlob"in navigator?function(c,h,m){if(h=h||c.name||"download",typeof c!="string")navigator.msSaveOrOpenBlob(n(c,m),h);else if(i(c))r(c,h,m);else{var d=document.createElement("a");d.href=c,d.target="_blank",setTimeout(function(){s(d)})}}:function(c,h,m,d){if(d=d||open("","_blank"),d&&(d.document.title=d.document.body.innerText="downloading..."),typeof c=="string")return r(c,h,m);var v=c.type==="application/octet-stream",P=/constructor/i.test(o.HTMLElement)||o.safari,k=/CriOS\/[\d]+/.test(navigator.userAgent);if((k||v&&P||l)&&typeof FileReader<"u"){var V=new FileReader;V.onloadend=function(){var I=V.result;I=k?I:I.replace(/^data:[^;]*;/,"data:attachment/file;"),d?d.location.href=I:location=I,d=null},V.readAsDataURL(c)}else{var S=o.URL||o.webkitURL,E=S.createObjectURL(c);d?d.location=E:location.href=E,d=null,setTimeout(function(){S.revokeObjectURL(E)},4e4)}});o.saveAs=u.saveAs=u,t.exports=u})})(bT);var ML=bT.exports;const g_=({id:t,title:e,seasons:n,total_episodes:r,watched_episodes:i,status:s,person:o,handleDelete:l,refreshCards:u,isEditing:c,setIsEditing:h,handleSaveClick:m})=>{const[d,v]=$.useState({title:e,seasons:n,total_episodes:r,watched_episodes:i,status:s,person:o});$.useEffect(()=>{v({title:e,seasons:n,total_episodes:r,watched_episodes:i,status:s,person:o})},[e,n,r,i,s,o]),$.useEffect(()=>{const{total_episodes:R,watched_episodes:L}=d,O=R?(L/R*100).toFixed(2):0;v(T=>({...T,percentage:O}))},[d.total_episodes,d.watched_episodes]);const P=R=>{const{name:L,value:O}=R.target;v({...d,[L]:O})},k=async R=>{const{value:L}=R.target;v({...d,status:L});try{const O=ia(zn,"series",t);await Zf(O,{status:L}),console.log("Status updated successfully!")}catch(O){console.error("Error updating status: ",O)}},V=async()=>{const R=Math.min(parseInt(d.watched_episodes,10)+1,parseInt(d.total_episodes,10));v({...d,watched_episodes:R});try{const L=ia(zn,"series",t);await Zf(L,{watched_episodes:R}),console.log("Watched episodes updated successfully!")}catch(L){console.error("Error updating watched episodes: ",L)}},S=()=>{h(t)},E=async()=>{await m(t,d),h(null)},I=async()=>{await l(t),u()};return He("tr",{className:"border-table border-gray-200",children:[c===t?He(yh,{children:[H("td",{className:"px-4 py-2 border-table",children:H("input",{type:"text",name:"title",value:d.title,onChange:P,className:"w-full px-2 py-1 border rounded-lg bg-purple"})}),H("td",{className:"px-4 py-2 border-table",children:H("input",{type:"text",name:"seasons",value:d.seasons,onChange:P,className:"w-full px-2 py-1 border rounded-lg bg-purple"})}),H("td",{className:"px-4 py-2 border-table",children:H("input",{type:"number",name:"total_episodes",value:d.total_episodes,onChange:P,className:"w-full px-2 py-1 border rounded-lg bg-purple"})}),He("td",{className:"px-4 py-2 flex items-center",children:[H("input",{type:"number",name:"watched_episodes",value:d.watched_episodes,onChange:P,className:"w-full px-2 py-1 border rounded-lg bg-purple"}),H("button",{onClick:V,className:"ml-2 bg-purple text-white px-2 py-1 rounded-lg shadow hover:bg-purple-800",children:"+"})]}),He("td",{className:"px-4 py-2 border-table text-center",children:[d.percentage,"%"]}),H("td",{className:"px-4 py-2 border-table",children:He("select",{name:"status",value:d.status,onChange:k,className:"w-full px-2 py-1 border rounded-lg bg-purple",children:[H("option",{value:"Completed",children:"Completed"}),H("option",{value:"On Hold",children:"On Hold"}),H("option",{value:"Watching",children:"Watching"}),H("option",{value:"Dropped",children:"Dropped"}),H("option",{value:"Plan to watch",children:"Plan to watch"})]})}),H("td",{className:"px-4 py-2 border-table",children:H("input",{type:"text",name:"person",value:d.person,onChange:P,className:"w-full px-2 py-1 border rounded-lg bg-purple"})})]}):He(yh,{children:[H("td",{className:"px-4 py-2 border-table text-center",children:e}),H("td",{className:"px-4 py-2 border-table text-center",children:n}),H("td",{className:"px-4 py-2 border-table text-center",children:r}),He("td",{className:"px-4 py-2 items-center text-center border-table",children:[d.watched_episodes,H("button",{onClick:V,className:"ml-2 bg-purple text-white px-2 py-1 rounded-lg shadow hover:bg-purple-800",children:"+"})]}),He("td",{className:"px-4 py-2 border-table text-center",children:[d.percentage,"%"]}),H("td",{className:"px-4 py-2 border-table text-center",children:He("select",{name:"status",value:d.status,onChange:k,className:"w-full px-2 py-1 border rounded-lg bg-purple text-center",children:[H("option",{value:"Completed",children:"Completed"}),H("option",{value:"On Hold",children:"On Hold"}),H("option",{value:"Watching",children:"Watching"}),H("option",{value:"Dropped",children:"Dropped"}),H("option",{value:"Plan to watch",children:"Plan to watch"})]})}),H("td",{className:"px-4 py-2 border-table text-center",children:o})]}),H("td",{className:"border-table",children:He("span",{className:"px-4 py-2 flex space-x-2 ",children:[c===t?H("button",{onClick:E,className:"bg-green-500 text-white px-3 py-1 rounded-lg shadow hover:bg-green-600",children:"Save"}):H("button",{onClick:S,className:"bg-purple text-white px-3 py-1 rounded-lg shadow hover:bg-purple-800",children:"Edit"}),H("button",{onClick:I,className:"bg-red-500 text-white px-3 py-1 rounded-lg shadow hover:bg-red-600",children:"Delete"})]})})]})},bL=()=>{const[t,e]=$.useState([]),[n,r]=$.useState(!1),[i,s]=$.useState(null),[o,l]=$.useState(null),[u,c]=$.useState(""),[h,m]=$.useState("asc"),d=async()=>{r(!0);try{let R;u?R=c_(Js(zn,"series"),IL("status","==",u)):R=c_(Js(zn,"series"));let O=(await d_(R)).docs.map(T=>({id:T.id,...T.data()}));h==="asc"?(O=O.sort((T,g)=>T.title.localeCompare(g.title)),m("asc")):h==="desc"&&(O=O.sort((T,g)=>g.title.localeCompare(T.title)),m("desc")),e(O),r(!1)}catch(R){console.error("Error fetching cards: ",R),r(!1)}},v=()=>{const R={id:null,title:"",seasons:"",total_episodes:"",watched_episodes:"",status:"Plan to watch",person:""};Tp(end),l(R),s(null)},P=async(R,L)=>{try{if(R){const O=ia(zn,"series",R);await Zf(O,L),console.log("Document updated with ID: ",R)}else await p_(Js(zn,"series"),L),console.log("Document added!"),l(null);d()}catch(O){console.error("Error saving document: ",O)}},k=async R=>{try{await DL(ia(zn,"series",R)),console.log("Document deleted with ID: ",R),d()}catch(L){console.error("Error deleting document: ",L)}},V=R=>{c(R.target.value)},S=async R=>{const L=R.target.files[0];L&&m_.parse(L,{header:!0,complete:async O=>{const T=O.data;try{for(const g of T)await p_(Js(zn,"series"),g);console.log("Data imported successfully!"),d()}catch(g){console.error("Error importing data: ",g)}},error:O=>{console.error("Error parsing CSV file: ",O)}})},E=async()=>{try{const L=(await d_(Js(zn,"series"))).docs.map(g=>g.data()),O=m_.unparse(L),T=new Blob([O],{type:"text/csv;charset=utf-8;"});ML.saveAs(T,"series_data.csv"),console.log("Data exported successfully!")}catch(R){console.error("Error exporting data: ",R)}},I=()=>{m(h==="asc"?"desc":"asc"),d()};return $.useEffect(()=>{d()},[u,h]),He(yh,{children:[He("div",{className:"flex justify-between items-center mb-4",children:[H("a",{href:"#end",children:H("button",{onClick:v,className:"bg-purple text-white font-bold py-2 px-4 rounded-lg shadow-lg hover:bg-purple-800",children:"Add"})}),H("form",{className:"",children:H("div",{children:He("select",{id:"statusFilter",value:u,onChange:V,className:"w-full px-3 py-2 border rounded-lg shadow-sm bg-purple",style:{width:"300px"},children:[H("option",{value:"",children:"All"}),H("option",{value:"Completed",children:"Completed"}),H("option",{value:"On Hold",children:"On Hold"}),H("option",{value:"Watching",children:"Watching"}),H("option",{value:"Dropped",children:"Dropped"}),H("option",{value:"Plan to watch",children:"Plan to watch"})]})})}),He("div",{children:[H("input",{type:"file",accept:".csv",onChange:S,className:"hidden",id:"upload-csv"}),H("label",{htmlFor:"upload-csv",className:"bg-green-500 text-white font-bold py-2 px-4 rounded-lg shadow-lg hover:bg-green-600 cursor-pointer",children:"Import CSV"}),H("button",{onClick:E,className:"ml-2 bg-orange-500 text-white font-bold py-2 px-4 rounded-lg shadow-lg hover:bg-orange-600",children:"Export CSV"})]})]}),n?H("p",{children:"Loading..."}):He("table",{className:"min-w-full",children:[H("thead",{className:"bg-thead",children:He("tr",{className:"bg-table",children:[He("th",{className:"py-2 px-4 border-top-left-rad",children:["Title",H("button",{onClick:I,children:h==="asc"?"▲":"▼"})]}),H("th",{className:"py-2 px-4 ",children:"Seasons"}),H("th",{className:"py-2 px-4 ",children:"Total Episodes"}),H("th",{className:"py-2 px-4 ",children:"Watched Episodes"}),H("th",{className:"py-2 px-4 ",children:"Percentage"}),H("th",{className:"py-2 px-4 ",children:"Status"}),H("th",{className:"py-2 px-4 ",children:"Person"}),H("th",{className:"py-2 px-4 border-top-right-rad",children:"Actions"})]})}),He("tbody",{className:"bg-tbody",children:[t.map(R=>H(g_,{id:R.id,title:R.title,seasons:R.seasons,total_episodes:R.total_episodes,watched_episodes:R.watched_episodes,status:R.status,person:R.person,handleDelete:k,refreshCards:d,isEditing:i,setIsEditing:s,handleSaveClick:P},R.id)),o&&H(g_,{id:null,title:o.title,seasons:o.seasons,total_episodes:o.total_episodes,watched_episodes:o.watched_episodes,status:o.status,person:o.person,handleDelete:k,refreshCards:d,isEditing:i,setIsEditing:s,handleSaveClick:P})]})]})]})},FL=Tp(bL,"list"),y_=[{id:"list",title:"Top"},{id:"end",title:"Down"}],UL="https://FalicyFallenicy.github.io/assets/menu-242d80a8.svg",BL="https://FalicyFallenicy.github.io/assets/close-ad0e0ca6.svg",jL=()=>{const[t,e]=$.useState(""),[n,r]=$.useState(!1);return H("nav",{className:`${JE.paddingX} w-full flex py-5 items-center fixed top-0 z-20 bg-nav`,children:He("div",{className:"w-full flex justify-between items-center max-w-7xl mx-auto",children:[H(uP,{to:"/",className:"flex items-center gap-2",onClick:()=>{e(""),window.scrollTo(0,0)},children:H("p",{className:"text-white text-[15.5px] font-bold cursor-pointer flex",children:H("span",{className:"sm:block hidden",children:"FalicyFallenicy"})})}),H("ul",{className:"list-none hidden sm:flex flex-row gap-10",children:y_.map(i=>H("li",{className:`${t===i.title?"text-white":"text-secondary"}
							  hover:text-white cursor-pointer text-[18px]
								font-medium`,onClick:()=>e(i.title),children:H("a",{href:`#${i.id}`,children:i.title})},i.id))}),He("div",{className:"sm:hidden flex flex-1 justify-end items-center",children:[H("img",{src:n?BL:UL,alt:"menu",className:"w-[28px] h-[28px] object-contain cursor-pointer",onClick:()=>r(!n)}),H("div",{className:`${n?"flex":"hidden"} p-6 bg-purple justify-center absolute top-20 right-0 min-w-[140px] z-10`,style:{width:"100%",marginTop:"-1rem"},children:H("ul",{className:"list-none flex justify-end items-start flex-col gap-4",children:y_.map(i=>H("li",{className:`${t===i.title?"text-white":"text-secondary"} hover:text-white cursor-pointer text-[18px]
								font-medium`,onClick:()=>{r(!n),e(i.title)},children:H("a",{href:`#${i.id}`,children:i.title})},i.id))})})]})]})})},zL=()=>H("div",{}),$L=Tp(zL,"end"),HL=()=>H(oP,{children:He("div",{className:"relative z-0 bg min-h-500",children:[H(jL,{}),H(FL,{}),H($L,{})]})});vh.createRoot(document.getElementById("root")).render(H(_u.StrictMode,{children:H(HL,{})}));
